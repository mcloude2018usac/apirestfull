{"version":3,"sources":["../../src/pages/CHAT/chat/chat.ts","../../src/components/emoji-picker/emoji-picker.module.ts","../../src/components/emoji-picker/emoji-picker.ts","../../src/pages/CHAT/chat/chat.module.ts"],"names":[],"mappings":"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","file":"33.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavParams } from 'ionic-angular';\nimport { Camera } from '@ionic-native/camera';\nimport { AlertController, Content, TextInput, ToastController, ActionSheetController} from 'ionic-angular';\nimport { Auth ,NotificationProvider, ImageProvider} from '../../../providers';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { Socket } from 'ng-socket-io';\nimport { Observable } from 'rxjs/Observable';\nimport { ImageViewerController } from 'ionic-img-viewer';\n\nexport class ChatMessage {\n    messageId: string;\n    userId: {foto:string,nombre:string};\n    toUserId: string;\n    messageimg: string;\n   // time: number | string;\n    message: string;\n    status: string;\n    message2: string;\n    userId2: string;\n    imagen2: string;\n}\n\nexport class UserInfo {\n    id: string;\n    name?: string;\n    avatar?: string;\n}\n\n@IonicPage()\n@Component({\n  selector: 'page-chat',\n  templateUrl: 'chat.html',\n})\nexport class ChatPage {\n  @ViewChild('fileInput') fileInput;\n  @ViewChild(Content) content: Content;\n  @ViewChild('chat_input') messageInput: TextInput;\n  _imageViewerCtrl: ImageViewerController;\n  msgList:any=[];\n  user: UserInfo;\n  toUser: UserInfo;\n  editorMsg = '';\n  conectadox:any;\n  pofilel: string = './assets/img/profilelocal.png';\n  showEmojiPicker = false;\n  public image \t\t\t\t: any;\n conectadox1='';//'No conectado...'\n conectadox2='';//Conectado...\n grupal:any;\n  messages = [];\n  \n  public loading: boolean = true;\n\n  constructor( public alertCtrl: AlertController,imageViewerCtrl: ImageViewerController,public camera: Camera, public translateService: TranslateService, public actionSheetCtrl: ActionSheetController, \n    private _IMAGE       : ImageProvider,public msj: NotificationProvider,public regService: Auth,private toastCtrl: ToastController,navParams: NavParams,private socket: Socket,\n           //   private chatService: ChatService,           private events: Events\n              ) {\n                this._imageViewerCtrl = imageViewerCtrl;\nthis.conectadox=this.conectadox1\nthis.grupal=navParams.data.grupal\nif(navParams.data.record2.toUserId)\n{\n      this.toUser = {\n        id:navParams.data.record2.toUserId,\n          name: navParams.data.record2.toUserName,\n          avatar:navParams.data.record2.avatar\n      };\n      this.user = {\n        id:navParams.data.record.toUserId,\n        name: navParams.data.record.toUserName,\n        avatar:navParams.data.record.avatar\n    };\n}\n    //RESIVE TODOS LOS MENSAJES\n    this.getMessages().subscribe(message => {\n        var mm:any;\n        mm=message;\n        if(mm)\n        {\n        if(mm.from==this.user.id)\n        {    \n            this.conectadox=this.conectadox2\n        let newMsg: ChatMessage = {\n            messageId: Date.now().toString(),\n            userId: {foto:this.user.avatar,nombre:this.user.name},\n            toUserId: this.user.id,\n            messageimg:mm.messageimg,\n       //     time: Date.now(),\n            message: mm.text,\n            status: 'Leido' ,\n            message2: '',\n            userId2: '',\n            imagen2:this.user.avatar\n        };\n  \n        this.pushNewMsg(newMsg);\n      \n        if (!this.showEmojiPicker) {\n            this.messageInput.setFocus();\n        }\n    }\n    }\n     //   this.messages.push(message);\n      });\n\n    this.getUsers().subscribe(data => {\n        let user = data['user'];\n        if (data['event'] === 'left') {\n            if(user==this.user.id)\n            {\n                this.conectadox=this.conectadox1\n            }\n\n        } else {\n            if(user==this.user.id)\n            {\n                this.conectadox=this.conectadox2\n            }\n            \n          //this.showToast('User joined: ' + user);\n        }\n      });\n      // Get mock user information\n    \n  }\n\n  showToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000\n    });  \n    toast.present();\n  }\n\n  presentImage(myImage) {\n    const imageViewer = this._imageViewerCtrl.create(myImage);\n    imageViewer.present();\n  }\n  getUsers() {\n    let observable = new Observable(observer => {\n      this.socket.on('users-changed', (data) => {\n        observer.next(data);\n      });\n    });\n    return observable;\n  }\n  ionViewWillLeave() {\n      // salirse del chat\n     // this.events.unsubscribe('chat:received');\n      this.socket.disconnect();\n  }\n\n  ionViewDidEnter() {\n      //get message list\n      this.getMsg();\n\n      // Subscribe to received  new message events\n      /*\n      this.events.subscribe('chat:received', msg => {\n          this.pushNewMsg(msg);\n      })\n      */\n  }\n\n  onFocus() {\n      this.showEmojiPicker = false;\n      this.content.resize();\n      this.scrollToBottom();\n  }\n\n  switchEmojiPicker() {\n      this.showEmojiPicker = !this.showEmojiPicker;\n      if (!this.showEmojiPicker) {\n          this.messageInput.setFocus();\n      }\n      this.content.resize();\n      this.scrollToBottom();\n  }\n\n  /**\n   * @name getMsg\n   * @returns {Promise<ChatMessage[]>}\n   */\n  private getMsg() {\n      // Get mock message list\n\n      let self = this;\n      self.loading = true;   \n      var qry=''         \n      if(this.grupal=='si')\n      {\n        qry='grupal' + '/' + this.toUser.id\n      }\n      else\n      {\n        qry=this.user.id + '/' + this.toUser.id\n      }\n     \n      this.regService.getReg( qry,'usermsgs').then((data) => {\n        this.msgList = data;\n        this.scrollToBottom();\n     \n      self.loading = false;\n  }, (err) => {\n    this.msj.showError3('Error',err.error);\n  });\n\n\n      //this.getMessages();\n  }\n\n\n  hilo(item) {\n\n    \n\n    let prompt = this.alertCtrl.create({\n      title:'msg',\n      message:item.message,\n      inputs: [\n        {   \n          name: 'CUI',\n          placeholder: 'Escribe respuesta al mensaje aquí'\n          \n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar'\n        },\n        {\n          text: 'Enviar',\n          handler: todo => {\n \n                if(todo){\n \n             \n                  let newMsg: ChatMessage = {\n                    messageId: Date.now().toString(),\n                    userId: {foto:this.user.avatar,nombre:this.user.name},\n                    toUserId: this.toUser.id,\n                    messageimg:'',\n               //     time: Date.now(),\n                    message:  todo.CUI,\n                    status: 'Pendiente',\n                    message2: item.message,\n                    userId2: item.userId.nombre,\n                    imagen2:this.user.avatar               \n\n                };     \n          \n                this.socket.emit('add-message', { imagen:'',text:todo.CUI, userId: this.user.id,toUserId: this.toUser.id ,text2:item.message, userId2: item.userId.nombre,imagen2:'' });\n          \n                this.pushNewMsg(newMsg);\n                this.editorMsg = '';\n          \n                if (!this.showEmojiPicker) {\n                    this.messageInput.setFocus();\n                }\n                \n                  \n \n                }\n \n \n          }\n        }\n      ]\n    });\n \n    prompt.present();\n\n\n  }\n\n  getMessages() {\n    let observable = new Observable(observer => {\n      this.socket.on('message', (data) => {\n        observer.next(data);\n      });\n    })\n    return observable;\n  }\n\n\n  /**\n   * @name sendMsg\n   */\n  sendMsg() {\n      if (!this.editorMsg.trim()) return;  \n     \n    //  let newMsg: ChatMessage = {};\nvar usertt:any;\n      if(this.grupal=='si')\n      {\n        usertt={foto:this.user.avatar,nombre:this.user.name}\n      }\n      else\n      {\n          usertt= this.user.id;\n\n      }\n\n      let newMsg: ChatMessage = {\n        messageId: Date.now().toString(),\n        userId: usertt,\n        toUserId: this.toUser.id,\n        messageimg:'',\n   //    time: Date.now(),\n        message: this.editorMsg,\n        status: 'Pendiente',\n        message2:'',   \n        userId2:'',\n        imagen2:this.user.avatar\n\n    };  \n\n     \n\n      this.socket.emit('add-message', { messageimg:'',text: this.editorMsg, userId: this.user.id,toUserId: this.toUser.id ,text2:'', userId2: '',imagen2:'' });\n\n      this.pushNewMsg(newMsg);\n      this.editorMsg = '';\n\n      if (!this.showEmojiPicker) {\n          this.messageInput.setFocus();\n      }\n\n     \n  }\n\n  sendMsg2() {\n\n\n    let newMsg: ChatMessage = {\n        messageId: Date.now().toString(),\n        userId:{ foto:this.user.avatar ,nombre:this.user.name},\n        toUserId: this.toUser.id,\n        messageimg:this.image,\n   //     time: Date.now(),\n        message: this.editorMsg,\n        status: 'Pendiente',\n        message2: '',\n        userId2: '',\n        imagen2:this.user.avatar\n    };\n//this.user.avatar\n    this.socket.emit('add-message', { imagen:this.image,text: this.editorMsg, userId: this.user.id,toUserId: this.toUser.id ,text2:'', userId2: '',imagen2:''});\n\n    this.pushNewMsg(newMsg);\n    this.editorMsg = '';\n\n    if (!this.showEmojiPicker) {\n        this.messageInput.setFocus();\n    }\n\n   \n}\n\n\nupdateProfileImage() {\n    let t1,t2;\n    this.translateService.get('SELECCIONE_IMAGEN').subscribe((value) => {\n      t1=value;\n    });\n    this.translateService.get('TOME_IMAGEN').subscribe((value) => {\n      t2=value;\n    });\n    let actionSheet = this.actionSheetCtrl.create({\n      title: t1,\n      buttons: [\n        {\n          text: t2,\n\n          handler: () => {\n            this.takePhotograph();\n          }\n        },\n        {\n          text: t1,\n          handler: () => {\n            this.selectImage();\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n  takePhotograph() : void\n  {\n   if (Camera['installed']()) {\n    \n     this._IMAGE\n     \n     .takePhotograph()\n     .then((image)=>\n     {\n       \n       // this.image   \t\t= image.toString();\n       this._IMAGE.generateFromImage(this.image, 400, 400, 0.5, data => {\n        this.image   \t\t= image.toString();\n        this.sendMsg2();\n\n      \n    });\n     })\n     .catch((err)=>\n     {\n        console.log(err);\n     });\n   }\n   else{\n  \n     this.fileInput.nativeElement.click();\n\n   }\n  }\n\n  \n  selectImage() : void\n  {\n   if (Camera['installed']()) {\n  \n     this._IMAGE\n     .selectPhotograph()\n     .then((image)=>\n     {\n        this._IMAGE.generateFromImage(this.image, 400, 400, 0.5, data => {\n            this.image   \t\t= image.toString();\n            this.sendMsg2();\n  \n          \n        });\n\n       \n       \n     })\n     .catch((err)=>\n     {\n        console.log(err);\n     });\n   }\n   else{\n  \n     this.fileInput.nativeElement.click();\n \n   }   \n  }\n  \n  public processWebImage(event): void {\n    if(event.target.files && event.target.files[0]){\n          const reader: FileReader = new FileReader();\n          reader.onload = (readerEvent: any) => {\n          this.image = readerEvent.target.result;\n          this._IMAGE.generateFromImage(this.image, 400, 400, 0.5, data => {\n          this.image = data;\n          this.sendMsg2();\n\n        \n      });\n   };\n      reader.readAsDataURL(event.target.files[0]);\n    }\n}\n\n/*\n\n  selectImage(event : any) : void\n   {\n      this._IMAGES\n      .selectImage(event)\n      .subscribe((res) =>\n      {\n       //  this._PRELOADER.displayPreloader('Loading...');\n         this.image = res;\n         this.sendMsg2();\n      });\n   }\n*/\n\n  /**cc  \n   * @name pushNewMsg\n   * @param msg   \n   */\n  pushNewMsg(msg: ChatMessage) {\n    //  const userId = this.user.id,\n    //        toUserId = this.toUser.id;\n      // Verify user relationships\n      this.msgList.push(msg);\n  /*    if (msg.userId === userId && msg.toUserId === toUserId) {\n          this.msgList.push(msg);\n      } else if (msg.toUserId === userId && msg.userId === toUserId) {\n          this.msgList.push(msg);\n      }\n    */  \n      this.scrollToBottom();\n  }\n\n  getMsgIndexById(id: string) {\n      return this.msgList.findIndex(e => e.messageId === id)\n  }\n\n  scrollToBottom() {\n      setTimeout(() => {   \n\n        if(this.content)\n        {\n        if (this.content.scrollToBottom==null || this.content.scrollToBottom==undefined ) {\n        }\n        else\n        {\n          if (this.content==undefined) {\n          }\n          else\n          {\n            if (this.content.scrollToBottom) {\n              this.content.scrollToBottom();\n            }\n          }\n        \n\n        }\n      }\n\n      }, 400)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/CHAT/chat/chat.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EmojiPickerComponent } from './emoji-picker';\n\n@NgModule({\n    declarations: [\n        EmojiPickerComponent,\n    ],\n    imports: [\n        IonicPageModule.forChild(EmojiPickerComponent),\n    ],\n    exports: [\n        EmojiPickerComponent\n    ]\n})\nexport class EmojiPickerComponentModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/emoji-picker/emoji-picker.module.ts","import { Component, forwardRef } from '@angular/core';\nimport { EmojiProvider } from \"../../providers/emoji\";\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from \"@angular/forms\";\n\nexport const EMOJI_PICKER_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => EmojiPickerComponent),\n    multi: true\n};\n\n@Component({\n    selector: 'emoji-picker',\n    providers: [EMOJI_PICKER_VALUE_ACCESSOR],\n    templateUrl: './emoji-picker.html'\n})\nexport class EmojiPickerComponent implements ControlValueAccessor {\n\n    emojiArr = [];\n\n    _content: string;\n    _onChanged: Function;\n    _onTouched: Function;\n\n    constructor(emojiProvider: EmojiProvider) {\n        this.emojiArr = emojiProvider.getEmojis();\n    }\n\n    writeValue(obj: any): void {\n        this._content = obj;\n    }\n\n    registerOnChange(fn: any): void {\n        this._onChanged = fn;\n        this.setValue(this._content);\n    }\n\n    registerOnTouched(fn: any): void {\n        this._onTouched = fn;\n    }\n\n    private setValue(val: any): any {\n        this._content += val;\n        if (this._content) {\n            this._onChanged(this._content)\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/emoji-picker/emoji-picker.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatPage  } from './chat';\n\n//import {RelativeTime} from \"../../../pipes/relative-time\";\nimport {EmojiPickerComponentModule} from \"../../../components/emoji-picker/emoji-picker.module\";\nimport {EmojiProvider} from \"../../../providers/emoji\";\n\n@NgModule({\n  declarations: [\n    ChatPage ,\n   // RelativeTime\n  ],\n  imports: [\n    EmojiPickerComponentModule,\n    IonicPageModule.forChild(ChatPage ),\n  ],\n  exports: [\n    ChatPage \n  ],\n  providers:[\n \n    EmojiProvider\n  ]\n})\nexport class ChatPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/CHAT/chat/chat.module.ts"],"sourceRoot":""}