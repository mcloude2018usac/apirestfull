{"version":3,"sources":["../../src/pages/SUN/resultadoov/resultadoov.module.ts","../../src/pages/SUN/resultadoov/resultadoov.ts"],"names":[],"mappings":"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","file":"69.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ResultadoovPage } from './resultadoov';\nimport { TranslateModule } from '@ngx-translate/core';\nimport {  PipesModule} from '../../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    ResultadoovPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ResultadoovPage),\n    TranslateModule.forChild(),\n    PipesModule\n  ],\n})\nexport class ResultadoovPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SUN/resultadoov/resultadoov.module.ts","import { TranslateService } from '@ngx-translate/core';\nimport { Component, ViewChild } from '@angular/core';\nimport {AlertController, ViewController,IonicPage, NavController,Events , InfiniteScroll , ActionSheetController, NavParams } from 'ionic-angular';\nimport {   FormBuilder,  FormGroup,   Validators } from '@angular/forms';\nimport { pdfx } from '../../../providers/pdf/pdfx';\nimport { Auth } from '../../../providers/auth/auth';\nimport { NotificationProvider} from '../../../providers/notification/notification';\nimport { Storage } from '@ionic/storage';\n\n/*\n   {\n                            \"name\": \"Resultados OV\",\n                            \"icon\": \"checkbox\",\n                            \"information\": \"Obtener resultados de orientacion vocacional\",\n                            \"modulo\": \"otro°ResultadoovPage\"\n                        },\n*/\n@IonicPage()\n@Component({\n  selector: 'page-resultadoov',\n  templateUrl: 'resultadoov.html',\n})\nexport class ResultadoovPage {\n\n  @ViewChild('fileInput') fileInput;\n  public form                  : FormGroup;\n  public nit                 : any;\n  novp:any;\n  tiposus: any=[];\n  nombre=''\n  cui:''\n  idempresa:any;\n  public gLimit: number = 50;\n  username: string = \"\";\n  items: any=[];\n  personalid: string = \"\";\n  letterObj = {\n    to: '',\n    from: '',\n    text: ''\n  }\n\n  pdfObj = null;\n  isDisablednit :any;\n  constructor(   public translateService: TranslateService,public alertCtrl: AlertController,public msj: NotificationProvider,public storage: Storage,public regService: Auth, public viewCtrl: ViewController,public Pdfx:  pdfx,public navCtrl \t\t: NavController,\n    public navParams \t: NavParams,   private _FB          : FormBuilder,         public actionSheetCtrl: ActionSheetController,\n          public events: Events)\n  {\n    this.translateService.get('APPX').subscribe((value) => {\n      this.idempresa=value\n\n  })\n     this.form = this._FB.group({\n        nit        \t   :  ['', Validators.compose([ Validators.required])],\n        });\n\n  }\n\n  public loadMore(ev: InfiniteScroll) {\n    this.gLimit += 50;\n    setTimeout(() => ev.complete(), 1000);\n  }\n\n\n  ngOnInit() {\n    this.storage.get('username').then((value) => {\n      this.username = value;\n\n\n    this.storage.get('tiposus').then((value) => {\n      this.tiposus = value.split(',');\n          this.novp =this.tiposus[5];\n\n          this.personalid=this.tiposus[3]\n\n          this.cui=this.tiposus[2]\n\n\n\n          if(this.tiposus[6]=='user')\n          {\n\n                          if(this.tiposus[5]=='' || this.tiposus[5]==undefined)\n                          {\n\n                            let prompt = this.alertCtrl.create({\n                              title:' Ingrese CARNE / NOV',\n                              message: 'Ingrese CARNE / NOV para poder actualizar su perfil y gestionar esta acción',\n                              inputs: [\n                                {\n                                  name: 'NOV'\n                                }\n                              ],\n                              buttons: [\n                                {\n                                  text: 'Cancelar',\n                                  handler: () => {\n                                    this.navCtrl.pop();\n                                  }\n                                },\n                                {\n                                  text: 'Buscar',\n                                  handler: todo => {\n\n\n                                                this.regService.validacarnenov(todo.NOV).then((data2) => {\n                                                  var vec:any=(data2);\n                                                  var cad =vec.split('°');\n                                                  this.nombre=''\n\n                                                  var msj=''\n                                                  if(cad[0]=='CARNE')\n                                                  {this.nombre=cad[1];\n\n                                                    if(cad[2])\n                                                    {\n                                                      this.cui=cad[2]\n                                                    }\n\n\n\n                                                  msj='CARNE: '  + todo.NOV  + '<p>' +'Nombre: ' + this.nombre +'<p>Cui: ' + this.cui +'<p>¿Desea registrar esta información a su cuenta?'\n                                                  }\n                                                  else{\n                                                    this.nombre=cad[1];\n\n                                                    msj='NOV: '  + todo.NOV  + '<p>' +'Nombre: ' + this.nombre + '<p>¿Desea registrar esta información a su cuenta?'\n                                                  }\n\n                                                  let alert = this.alertCtrl.create({ title: msj,\n                                                  buttons: [\n                                                    {text: 'Si',\n                                                      handler: () => {\n                                                                  //ACTUALIZAR NOMBRE Y NOV/CARNET Y NOMBRE EN DB\n\n                                                                  if(this.nombre=='' )\n                                                                  {\n                                                                    this.msj.showError3('Error','Nombre  no valido , no es posible relacionar este suscriptor');\n                                                                    this.isDisablednit=true;\n                                                                    this.navCtrl.pop();\n                                                                    return;\n\n                                                                  }\n\n\n                                                                  let credentials = {\n                                                                  _id:this.personalid,\n\n                                                                    nombre        \t:this.nombre    \t,\n                                                                    cui \t: this.cui  \t,\n                                                                    nov \t: todo.NOV  \t,\n                                                                    bitacora:{idempresa:this.idempresa,idafiliado:'',email: this.username,permiso:'Actualiza',accion:'Actualiza nov y cui perfil'}\n                                                                  };\n\n                                                                    this.regService.createReg( 'actualizanov' ,credentials,'personals').then((result) => {\n\n                                                                      this.storage.set('tiposus', (this.tiposus[0] + ','+this.tiposus[1]+','+ this.cui + ','+this.tiposus[3]+ ',' + this.nombre  +','+todo.NOV+','+ this.tiposus[6]+','+ this.tiposus[7]+','+ this.tiposus[8]+','+ this.tiposus[9] ));\n                                                                        this.novp=todo.NOV\n                                                                        this.form.controls['nit'].setValue(this.novp);\n\n\n\n\n                                                                    }, (err) => {\n\n\n                                                                          this.msj.showError3('Error','Perfil no valido, comuniquese con el administrador');\n                                                                          this.isDisablednit=true;\n                                                                          this.navCtrl.pop();\n\n                                                                    });\n                                                      }\n                                                    },\n                                                    {\n                                                      text: 'No',  handler: () => { }\n                                                    }\n                                                  ]\n                                                });\n                                                alert.present();\n                                  }, (err) => {\n                                    this.msj.showError3('Error',err);\n                                });\n                                  }\n                                }\n                              ]\n                            });\n                            prompt.present();\n                          }else{\n\n                            this.isDisablednit=false;\n                            this.form.controls['nit'].setValue(this.novp);\n\n\n                          }\n          }\n          else\n          {\n\n            this.isDisablednit=true;\n\n          }\n\n\n\n\n\n\n\n  });\n});\n}\ngoBack() {\n  this.navCtrl.pop();\n}\n  ionViewDidLoad() : void\n  {\n\n\n\n\n  }\n\n\n  manageGallery2() : void\n  {\n    this.Pdfx.daordenpago('123','si',[])\n  }\n  manageGallery() : void\n  {\n\n\n    this.regService.getReglibreSext2(this.form.controls['nit'].value,'estudianteov').then((data) => {\n      this.items=data\n      this.Pdfx.daov(this.form.controls['nit'].value,'si',data)\n    }, (err) => {\n\n      this.msj.showError3('Resultado','Resultado no encontrado.');\n\n\n  });\n\n\n\n\n\n\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n  done() {\n    if (!this.form.valid) { return; }\n    //this.viewCtrl.dismiss(this.form.value);\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SUN/resultadoov/resultadoov.ts"],"sourceRoot":""}