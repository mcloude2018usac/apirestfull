{"version":3,"sources":["../../src/pages/BLEARNING/plantilladmc-create/plantilladmc-create.ts","../../src/pages/BLEARNING/plantilladmc-create/plantilladmc-create.module.ts"],"names":[],"mappings":"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","file":"262.js","sourcesContent":["import { Component } from '@angular/core';\nimport { ViewController,IonicPage,  NavController,Events , ActionSheetController, NavParams } from 'ionic-angular';\nimport {   FormBuilder,  FormGroup,   Validators } from '@angular/forms';\nimport { Auth,NotificationProvider } from '../../../providers';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Storage } from '@ionic/storage';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-plantilladmc-create',\n  templateUrl: 'plantilladmc-create.html',\n})\nexport class PlantilladmcCreatePage {\n\n\n  public form                  : FormGroup;\n  username: string = \"\";\n  public nidevento                 : any;\n  public idplantilla                 : any;\n  public orden                 : any;\n  public nombre                 : any;\n  public idempresa\t\t     : any;\n  public descripcion\t\t     : any;\n  public contenido\t\t     : any;\n  public tipo\t\t     : any;\n  idplantillam:any;\n  public estado\t     : any;\n  private _ID                  : String;\n\n  public pageTitle           \t: string;\n  createdCode = null;\n  scannedCode = null;\n\n  isDisablednit :any;\n  constructor( public storage: Storage,  public msj: NotificationProvider, public translateService: TranslateService,public viewCtrl: ViewController,public authService:  Auth,public navCtrl \t\t: NavController,  \n    public navParams \t: NavParams,   private _FB          : FormBuilder,         public actionSheetCtrl: ActionSheetController, \n          public events: Events)\n  {\n     // Define form validation - VERY basic!\n     this.form = this._FB.group({\n      nombre    :  ['', Validators.required],\n        descripcion    :  ['', Validators.required],\n        tipo     : ['', Validators.required],\n        orden     : ['', Validators.required],\n        contenido     : ['', Validators.required],\n        estado    : ['', Validators.required]\n      \n     });\n\n  }\n\n  ngOnInit() {\n    this.storage.get('username').then((value) => {\n      this.username = value;\n  }); \n  }\n\n  ionViewDidLoad() : void\n  {this.idplantilla=this.navParams.data.record2.idplantilla;\n    this.nidevento=this.navParams.data.record2.nidevento;\n    this.idempresa=this.navParams.data.record2.idempresa;\n    this.idplantillam=this.navParams.data.record2.idplantillam\n\n\n\n    if(this.navParams.get(\"record\")==null)\n    {\n       \n\n      this.orden=10;\n\n      this.authService.getReg(this.idplantilla + '/' +  this.idempresa +'/'+this.idplantillam + '/orden' ,'plantilladmcs').then((data) => {\n        if(data)\n        {\n          var aa:any=data;\n        \n          this.orden=aa.orden;\n          this.orden=this.orden+10;\n        }\n        \n      \n      }, (err) => {\n        this.msj.showError3('Error',err.error);\n      // this.translateService.get('NO_OPERACION').subscribe((value) => { this.msj.showError3('Error',value);  })  \n      });\n\n\n\n      this.translateService.get('ITEM_CREATE_TITLE').subscribe((value) => {\n        this.pageTitle=value;\n      });\n      \n      this.isDisablednit =true\n    }\n    else {\n       this._ID \t\t\t\t=\tthis.navParams.data.record._id;\n     \n       this.nombre\t\t=\tthis.navParams.data.record.nombre;\n       this.tipo\t\t=\tthis.navParams.data.record.tiporecurso;\n       this.orden\t\t=\tthis.navParams.data.record.orden;\n       this.descripcion\t\t=\tthis.navParams.data.record.descripcion;\n       this.form.controls['contenido'].setValue(this.navParams.data.record.contenido);\n   \n     \n       this.estado\t\t=\tthis.navParams.data.record.estado;\n       this.isDisablednit =false\n       this.translateService.get('ITEM_UPDATE_TITLE').subscribe((value) => {\n        this.pageTitle=value;\n      });\n    \n\n    }\n  }\n\n\n\n  manageGallery() : void\n  {\n   \n  let creat='Actualiza';\n    if(this.navParams.get(\"record\")==null)\n    {  creat='Crea';\n    }\n   \n   \n      \n\n     let   options       : any\t     = { \n       idempresa:this.idempresa,\n      idplantilla : this.idplantilla,\n      idplantilladm:this.idplantillam,\n      tiporecurso: this.form.controls['tipo'].value,\n     nombre : this.form.controls['nombre'].value + ' '  ,\n     descripcion : this.form.controls['descripcion'].value,\n     orden : this.form.controls['orden'].value,\n     contenido : this.form.get('contenido').value.trim() ,//this.form.controls['descripcion'].value,\n     archivos    \t: ''   \t,\n        marcas   \t: '' \t,\n        url    \t: ''    \t,\n     estado : this.form.controls['estado'].value,\n     bitacora:{idempresa:this.idempresa,idafiliado:'',email: this.username,permiso:creat,accion:creat+' plantilla modulos contenido '}\n    };\n\n\n     if(this.navParams.get(\"record\")==null)\n     {  \n          if(options){\n            this.authService.createReg('',options,'plantilladmcs').then((result) => {\n\n\n              var dd :any=result;\nvar idtt=dd._id   \nlet details = {\n  email: idtt+\"@gmail.com\",   \n  role: 'user',\n  password: \"Admin123@\",\n  nombre        \t:       dd.nombre\t,\n  cui \t: idtt  \t,\n\n  direccion   \t: ''    \t,\n  telefono    \t: ''    \t,\n  sexo    \t: ''   \t,   \n\n  foto    \t:''   \t,   \n  lenguaje    \t: 'Español'    \t,\n  estado:'Activo',\n  nov    \t:idtt \t,\n  unidad:'5bad21a11c7b5027147e31d9',\n  interno:'0',\n  estadoemail:'0',   \n  codpersonal: idtt ,\n  tiposuscriptor:'5be1b6479c9f2200e8311570',\n  APP:this.idempresa,\n  accesoestado: '',\n  accesohora:'',\n  bitacora:{idempresa:this.idempresa,idafiliado:'',email: idtt+\"@gmail.com\",permiso:'Creacion',accion:'Creacion de nuevo usuario'}\n\n};   \nthis.authService.createAPITOKEN(details,'/api/auth/register').then((result) => {\n  \n\n  if (!this.form.valid) { return; }\n  console.log(result)\n  this.viewCtrl.dismiss(result);\n}, (err) => {\n  this.msj.showError3('Advertencia',err.error);\n\n});  \n\n\n\n\n          }, (err) => {  \n            this.msj.showError3('Error',err.error);\n          });\n          }\n     }   \n     else\n     {\n      if(options){\n        this.authService.createReg(this._ID,options,'plantilladmcs').then((result) => {\n         \n          if (!this.form.valid) { return; }\n          console.log(result)\n          this.viewCtrl.dismiss(result);\n       }, (err) => {\n        this.msj.showError3('Error',err.error);\n       });\n    }}\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n  done() {\n    if (!this.form.valid) { return; }\n    //this.viewCtrl.dismiss(this.form.value);\n  }\n\n  \n  addimagen() : void\n  {\n/*\n    let addModal = this._MODAL .create('GaleriaimgListPage', {idempresa:this.idempresa},{showBackdrop: true,enableBackdropDismiss: false});\n    addModal.onDidDismiss(data => {\n      if (data) {\n      \n      }\n    })    \n    addModal.present();\n    */\n    this.navCtrl.push('GaleriaimgListPage',{idempresa:this.idempresa});\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/BLEARNING/plantilladmc-create/plantilladmc-create.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PlantilladmcCreatePage } from './plantilladmc-create';\nimport { FroalaEditorModule, FroalaViewModule } from 'angular-froala-wysiwyg';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { EditorModule } from '@tinymce/tinymce-angular';\n\n@NgModule({\n  declarations: [\n    PlantilladmcCreatePage,   \n  ],\n  imports: [\n    IonicPageModule.forChild(PlantilladmcCreatePage),TranslateModule.forChild()\n    , FroalaEditorModule, FroalaViewModule, EditorModule\n  ],\n})\nexport class PlantilladmcCreatePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/BLEARNING/plantilladmc-create/plantilladmc-create.module.ts"],"sourceRoot":""}