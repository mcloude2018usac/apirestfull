{"version":3,"sources":["../../src/pages/PAP/asigna-pap-aut-list/asigna-pap-aut-list.module.ts","../../src/pages/PAP/asigna-pap-aut-list/asigna-pap-aut-list.ts"],"names":[],"mappings":"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","file":"112.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AsignaPapAutListPage } from './asigna-pap-aut-list';\nimport {  PipesModule} from '../../../pipes/pipes.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    AsignaPapAutListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AsignaPapAutListPage),\n    TranslateModule.forChild(),\n    PipesModule\n  ],\n})\nexport class AsignaPapAutListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/PAP/asigna-pap-aut-list/asigna-pap-aut-list.module.ts","import { Component } from '@angular/core';\nimport { LoadingController,AlertController,IonicPage,NavController, NavParams , InfiniteScroll } from 'ionic-angular';\nimport { Auth ,NotificationProvider} from '../../../providers';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Storage } from '@ionic/storage';\nimport { pdfx } from '../../../providers/pdf/pdfx';\n\n@IonicPage()\n@Component({\n  selector: 'page-asigna-pap-aut-list',\n  templateUrl: 'asigna-pap-aut-list.html',\n})\nexport class AsignaPapAutListPage {\n\n\n \n  public loading: boolean = true;\n  items: any=[];\n  items2: any=[];\n  v1:any;\n  v2:any;\n  v3:any;\n  v4:any;\n  sidist:boolean=false;\n  tiposus: any=[];\n creaxx:boolean=true;\n  idsuscriptor: any;\n  username: string = \"\";\n  nidsuscriptor: any;\n  idempresa:any;\n  public gLimit: number = 50;\n  public PageSegmet: string = 'foods';\n  public gSearchQuery: string = '';\n  public dpitt: string = '';\n\n  constructor(private loadingCtrl: LoadingController, public Pdfx:  pdfx,public storage: Storage,public alertCtrl: AlertController,public msj: NotificationProvider, public translateService: TranslateService  ,public navCtrl: NavController,\n    public navParams: NavParams,\n     public regService: Auth) {\n\n      this.translateService.get('APPX').subscribe((value) => {\n        this.idempresa=value\n      });\n\n\n\n\n  }\n  \n  public clearSearchg(): void {\n    this.gSearchQuery = '';\n  }\n  \n    \n\n\n  ionViewDidLoad() {\n    \n\n    //this.idsuscriptor=this.navParams.data.record.nodpi;\n    //this.nidsuscriptor=this.navParams.data.record.nombre +' '+ this.navParams.data.record.apellido;\n\n\n\n    this.translateService.get([\"CANCEL\",\n    \"INGRESAR\",\n    \"BUSCARPOR\",\n    \"BUSCAR\"\n  ]).subscribe(\n    (values) => {\n     this.v1=values.CANCEL\n     this.v2=values.INGRESAR\n     this.v3=values.BUSCARPOR\n     this.v4=values.BUSCAR\n    });\n\n\n    this.showFilter();\n  }\n\n  ngOnInit() {\n    this.storage.get('username').then((value) => {\n      this.username = value;\n  }); \n\n  \n\n  }\n  \n  public loadMore(ev: InfiniteScroll) {\n    this.gLimit += 50;\n    setTimeout(() => ev.complete(), 1000);\n  }\n\n  \n\n   viewRecord(item : any): void\n   {\n     // let modal = this._MODAL.create(ViewGalleryPage, { record : item });\n     // modal.present();\n   }\n\n   excludeTracks: any = [];\n\n   presentFilter() {\n    \n  }\n\n\n  imprime(item : any, no) : void\n  {\n    let creat='Crea';\n    let   options       : any\t     = { \n\n     id:item.noboleta,\n     id2:item.codcarrera,\n     id3:item.monto,\n     id4:item.cui,\n     id5:item.idjornada,\n     id6:item.unidad,\n     id7:item.codunidad,\n     bitacora:{idempresa:this.idempresa,idafiliado:'',email: this.username,permiso:creat,accion:creat+' autoriza asignacion pap'}\n    };\n    \n\n    if(options){\n      this.regService.createReg('',options,'asignaestudiantepaps').then((result) => {\n        let rr:any=result;\n        if(rr.op==\"Generacion realizada con exito\")\n        {\n          let   options2       : any\t     = { \n            estado:'Generación de boleta exitosa'  ,\n            bitacora:{idempresa:this.idempresa,idafiliado:'',email: this.username,permiso:creat,accion:creat+' autoriza asignacion pap, estado'}\n           };\n            \n                      this.regService.createReg(item._id,options2,'asignapaps').then((result) => {\n\n\n                        this.regService.getReg('noboleta/'+item.noboleta,'asignapaps').then((data) => {\n \n                          this.items=data;\n\n\n                          const loading = this.loadingCtrl.create({\n                            spinner: 'bubbles',\n                            content: \"Enviando notificación a alumno...\"\n                          });\n                          loading.present();\n                          let idt=item._id;\n                          let nombret=item.nombre;\n                      \n                          let html1 =''\n                  \n                             html1=' <div class=\"es-wrapper-color\">      <table cellpadding=\"0\" cellspacing=\"0\" class=\"es-wrapper\" width=\"100%\">    <tbody><tr>    <td valign=\"top\" class=\"esd-email-paddings\"><table cellpadding=\"0\" cellspacing=\"0\" class=\"es-header esd-header-popover\" align=\"center\">    <tbody><tr>    <td class=\"esd-stripe\" align=\"center\"><table class=\"es-header-body\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\">    <tbody><tr>    <td class=\"esd-structure es-p20b es-p20r es-p20l\" align=\"left\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">    <tbody><tr>    <td width=\"560\" class=\"esd-container-frame\" align=\"center\" valign=\"top\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">    <tbody><tr>    <td align=\"center\" class=\"esd-block-image\"><a href=\"\" target=\"_blank\"><img src=\"http://52.90.195.238:8500/logousac1.png\" alt=\"\" width=\"124\" style=\"display: block;\"></a>    </td></tr>    </tbody></table>    </td></tr>    </tbody></table>    </td></tr>    </tbody></table>    </td></tr>    </tbody></table><table cellpadding=\"0\" cellspacing=\"0\" class=\"es-content esd-footer-popover\" align=\"center\">    <tbody><tr>    <td class=\"esd-stripe\" align=\"center\"><table bgcolor=\"#ffffff\" class=\"es-content-body\" align=\"center\" cellpadding=\"0\" cellspacing=\"0\" width=\"600\">    <tbody><tr>    <td class=\"esd-structure es-p20\" align=\"left\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">    <tbody><tr>    <td width=\"560\" class=\"esd-container-frame\" align=\"center\" valign=\"top\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">    <tbody><tr>    <td align=\"center\" class=\"esd-block-text es-p15b\"><h2 style=\"font-size: 16px; text-align: center;\"><strong>LA UNIVERSIDAD DE SAN CARLOS DE GUATEMALA</strong></h2><p></p><p></p><strong>Bienvenido </strong> '+ nombret +'</p><p><br></p><p><br></p><p><br>Tu boleta de asignación PAP a sido generada con exito.</p><p><br></p><p> Entra a http://www.usacenlinea.net y genera tu asignación. <br></p><p>Cordialmente,<br>Ing. Murphy Paiz</p><p><br>Rector</p>    </td></tr>    </tbody></table>    </td></tr>    </tbody></table>    </td></tr>    </tbody></table>    </td></tr>    </tbody></table>    </td></tr>    </tbody></table>    </div>'\n                   \n                      \n                          \n             \n                          let   options2       : any\t     = { \n                            destino:item.correo,\n                            html : html1,\n                          text : html1,\n                          subjet : 'Asignación PAP',\n                          actualiza:{ tipo:'PAP', id : idt, estado : 'Ingreso, mail enviado',\n                          otros:''}\n                    \n                          };        \n                      \n                          this.regService.mandamail('',options2,'mails').then((data) => {\n                     \n                          \n                           loading.dismiss();\n                          \n                    \n                          }, (err) => {\n                            loading.dismiss();\n                                  this.msj.showError3('Error',err.error);\n                          });\n            \n              \n            \n            \n                   \n\n\n\n                          //manda correo a alumno  item.correo\n                        \n                      }, (err) => {\n                        this.msj.showError3('Error',err.error);\n                      });\n                  \n                      \n                      }, (err) => {  \n                      this.msj.showError3('Error',err.error);\n                    });\n \n        }\n    }, (err) => {  \n      this.msj.showError3('Error',err.error);\n    });\n    }\n\n\n  \n  }\n\n\n  \n  showFilter()     \n  {\n\n    let prompt = this.alertCtrl.create({\n      title: this.v3+' No boleta',\n      message: this.v2+'No boleta',\n      inputs: [\n        {\n          name: 'dpi'\n        }\n      ],\n      buttons: [\n        {\n          text: this.v1\n        },\n        {\n          text: this.v4,\n          handler: todo => {\n \n                if(todo){\n                  this.dpitt=todo.dpi;\n                  this.regService.getReg('noboleta/'+todo.dpi,'asignapaps').then((data) => {\n \n                    this.items=data;\n                  \n                }, (err) => {\n                  this.msj.showError3('Error',err.error);\n                });\n                  \n \n                }\n \n \n          }\n        }\n      ]\n    });\n \n    prompt.present();\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/PAP/asigna-pap-aut-list/asigna-pap-aut-list.ts"],"sourceRoot":""}