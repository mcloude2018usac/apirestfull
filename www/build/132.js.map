{"version":3,"sources":["../../src/pages/FORMULARIO/categoriaformsusr-create/categoriaformsusr-create.module.ts","../../src/pages/FORMULARIO/categoriaformsusr-create/categoriaformsusr-create.ts"],"names":[],"mappings":"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","file":"132.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CategoriaformsusrCreatePage } from './categoriaformsusr-create';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicSelectableModule } from 'ionic-selectable';\n\n@NgModule({\n  declarations: [\n    CategoriaformsusrCreatePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CategoriaformsusrCreatePage),\n    TranslateModule.forChild(),\n    IonicSelectableModule\n  ],\n})\nexport class CategoriaformsusrCreatePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/FORMULARIO/categoriaformsusr-create/categoriaformsusr-create.module.ts","import { Component } from '@angular/core';\nimport { LoadingController,ViewController,IonicPage,  NavController,Events , ActionSheetController, NavParams } from 'ionic-angular';\nimport {   FormBuilder,  FormGroup,   Validators } from '@angular/forms';\nimport { Auth,NotificationProvider } from '../../../providers';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Storage } from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  selector: 'page-categoriaformsusr-create',\n  templateUrl: 'categoriaformsusr-create.html',\n})\nexport class CategoriaformsusrCreatePage {\n\n // @ViewChild('portComponent') portComponent: IonicSelectableComponent;\n ports: any[];\n port: any;\n\n public form                  : FormGroup;\n username: string = \"\";\n public idformulario     : any;     \n idusuario2:any;       \n idusuario2n:any;       \n public idusuario\t\t     : any;\n idempresa:any;\n public vidformulario  :any=[];\n public vidusuario  :any=[];\nidcategoria:any;\n private _ID                  : String;\n public pageTitle           \t: string;\n\n constructor( public storage: Storage, private loadingCtrl: LoadingController,public msj: NotificationProvider, public translateService: TranslateService,public viewCtrl: ViewController,public authService:  Auth,public navCtrl \t\t: NavController,  \n   public navParams \t: NavParams,   private _FB          : FormBuilder,         public actionSheetCtrl: ActionSheetController, \n         public events: Events)\n {\n    // Define form validation - VERY basic!\n    this.form = this._FB.group({\n      idformulario     : ['', Validators.required],\n      idusuario    :['', Validators.required]\n   \n    });\n\n    \n    this.translateService.get('APPX').subscribe((value) => {\n      this.idempresa=value\n      \n      \n  })\n \n }\n\n ngOnInit() {\n   this.storage.get('username').then((value) => {\n     this.username = value;\n }); \n this.focused('a')\n }\n\n ionViewDidLoad() : void\n {\n  this.idcategoria=this.navParams.data.record2.idcategoria;\n \n  this.authService.getReg(this.idcategoria + '/categoria/' + this.idempresa,'frmmovils').then((result) => {\n    this.vidformulario=result;\n  }, (err) => {  \n  this.msj.showError3('Error',err.error);\n});\n/*\nthis.authService.getReg('','personals').then((result) => {\n  this.vidusuario=result;\n \n}, (err) => {  \nthis.msj.showError3('Error',err.error);\n});\n*/\n\n\n   if(this.navParams.get(\"record\")==null)\n   {\n     this.translateService.get('ITEM_CREATE_TITLE').subscribe((value) => {\n       this.pageTitle=value;\n     });\n   }\n   else {\n      this._ID \t\t\t\t=\tthis.navParams.data.record._id;\n      this.idformulario\t\t=\tthis.navParams.data.record.idformulario;\n      this.idusuario\t\t=\tthis.navParams.data.record.idusuario.cui;\n      this.focused('a');\n      this.translateService.get('ITEM_UPDATE_TITLE').subscribe((value) => {\n       this.pageTitle=value;\n     });\n   }\n }\n\n \n\n manageGallery() : void\n {\n let creat='Actualiza';\n   if(this.navParams.get(\"record\")==null)\n   {  creat='Crea';\n   }\n    let   options       : any\t     = { \n      idempresa:this.idempresa,\n    idformulario : this.form.controls['idformulario'].value,\n    idcategoria: this.idcategoria,\n    idusuario: this.idusuario2,\n    nombre: this.idformulario.nombre + ' ' + this.idusuario2n,\n    bitacora:{idempresa:this.idempresa,idafiliado:'',email: this.username,permiso:creat,accion:creat+' Categorias de usuarios, formularios '}\n   };\n     \n\n    if(this.navParams.get(\"record\")==null)\n    {  \n         if(options){\n           this.authService.createReg('',options,'catusuarios').then((result) => {\n             if (!this.form.valid) { return; }\n             this.viewCtrl.dismiss(result);\n         }, (err) => {  \n           this.msj.showError3('Error',err.error);\n         });\n         }   \n    }   \n    else\n    {\n     if(options){\n       this.authService.createReg(this._ID,options,'catusuarios').then((result) => {\n          if (!this.form.valid) { return; }\n       //   console.log(result)\n          this.viewCtrl.dismiss(result);\n      }, (err) => {\n       this.msj.showError3('Error',err.error);\n      });\n   }}\n }\n\n cancel() {\n   this.viewCtrl.dismiss();\n }\n done() {\n   if (!this.form.valid) { return; }\n   //this.viewCtrl.dismiss(this.form.value);\n }\n\n\n\nitems: any=[];\n\nfocused(selectedValue: any) {\n  this.idusuario2\t\t\t\t=\t''\n  if(( this.idusuario) && (this.idusuario!=''))\n  {\n\n   const loading = this.loadingCtrl.create({\n     spinner: 'bubbles',\n     content: \"Espere un momento,  Buscando información ......\"\n   });\n   loading.present();\n\n\n   this.items=[]\n   this.authService.getReg(this.idusuario+'/'+'persona/' + this.idempresa + '/' + this.idempresa,'personals').then((data) => {\n   \n    if(data)\n    {\n     this.idusuario2\t\t\t\t=\tdata[0]._id;\n     this.idusuario2n\t\t\t\t=\tdata[0].nombre;\n     \n     this.items=data;\n     loading.dismiss();\n    }  \n   \n }, (err) => {\n\n\nthis.msj.showError3('Resultado','No idusuario invalido ');\nthis.idusuario=''\nthis.items=[]\nloading.dismiss();\n\n\n  \n  \n });\n\n  }\n   \n }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/FORMULARIO/categoriaformsusr-create/categoriaformsusr-create.ts"],"sourceRoot":""}