{"version":3,"sources":["webpack:///src/app/DESARROLLO/TIENDAS/categoria-list/categoria-list.module.ts","webpack:///src/app/DESARROLLO/TIENDAS/categoria-list/categoria-list.page.ts","webpack:///src/app/DESARROLLO/TIENDAS/categoria-list/categoria-list.page.html"],"names":["CategoriaListPageModule","routerOutlet","router","authenticationService","alertController","translateService","modalController","showAgeFilter","showmenu","items","variables","userinfo","viewType","tituloxx","efecto","seguro","msg","sienvio","currentSegment","searchSubject","ReplaySubject","this","apifoto","getapifoto","getCurrentNavigation","extras","state","llave","tipovista","moneda","getcopiauser","titulo","searchQuery","get","subscribe","value","pideregistros","itemsList","getReg","idempresa","_id","then","data","err","presentAlert","error","i","item","navigate","user","categoria","llave0","nombre","filterList","list","query","filter","toLowerCase","includes","event","setTimeout","target","complete","length","disabled"],"mappings":"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","file":"x","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule} from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule } from '@angular/forms';\nimport { CategoriaListPage } from './categoria-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule, TranslateModule.forChild(),\n    RouterModule.forChild([{ path: '', component: CategoriaListPage }]),\n    ComponentsModule\n  ],\n\n  declarations: [CategoriaListPage]\n})\nexport class CategoriaListPageModule {}\n","import { Component , OnInit , ViewChild } from '@angular/core';\nimport {AlertController, ModalController ,  IonRouterOutlet} from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport {  Router , NavigationExtras } from '@angular/router';\nimport { AuthenticationService } from '../../services/Authentication.service';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ReplaySubject} from 'rxjs';\nimport { IonInfiniteScroll } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-categoria-list',\n  templateUrl: './categoria-list.page.html',\n  styleUrls: ['./categoria-list.page.scss'],\n})\nexport class CategoriaListPage implements OnInit {\n  @ViewChild(IonInfiniteScroll, { static : false }) infiniteScroll: IonInfiniteScroll;\nrangeForm: FormGroup;\nsearchQuery: string;\nshowAgeFilter = false;\nshowmenu = false;\nllave: any;\ntipovista: any;\nmoneda: any;\n  items: any  = [] ;\n  variables: any = [];\n  userinfo: any = [];\n  viewType = 'grid';\n  tituloxx = '';\n  efecto = 0;\n  seguro = '';\n  msg = '';\n  apifoto: String;\n\nsienvio:any = false;\n  lat: number;\n    lng: number;\n    address: string;\n\n\n  itemsList: Array<any>;\n  public currentSegment = 'Todos';\n  searchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\n\nconstructor(   private routerOutlet: IonRouterOutlet , private router: Router, private authenticationService: AuthenticationService,\n   public alertController: AlertController,     public translateService: TranslateService    ,    private modalController: ModalController\n   ) { this.apifoto = this.authenticationService.getapifoto();\n }\n\n  ngOnInit() {\n    this.variables = this.router.getCurrentNavigation().extras.state.variables;\n    this.llave = this.router.getCurrentNavigation().extras.state.llave;\n    this.tipovista = this.router.getCurrentNavigation().extras.state.tipovista;\n    this.sienvio = this.router.getCurrentNavigation().extras.state.sienvio;\n    this.moneda = this.router.getCurrentNavigation().extras.state.moneda;\n    this.userinfo = this.authenticationService.getcopiauser();\n    this.tituloxx =   this.router.getCurrentNavigation().extras.state.titulo ;\n    this.searchQuery = '';\n    this.translateService.get('SEGUROM').subscribe((value) => {   this.seguro = value;  });\n    this.translateService.get('MSGM').subscribe((value) => {   this.msg = value;  });\n    this.pideregistros();\n  }\n\n\n  pideregistros0() {\n   this.pideregistros();\n  }\n  pideregistros() {\n       this.itemsList = [];\n       this.efecto = 0 ;\n       this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id + '/' + this.llave, 'categorias', 0).then((data) => {\n       this.efecto = 1;\n       this.items =  data;\n       this.itemsList = this.items;\n }, (err) => {\n   this.authenticationService.presentAlert(err.error , this.msg , '');\n });\n  }\n\n  damenu(i, item) {\n  \n\n    const navigationExtras: NavigationExtras = {\n      state: {\n        variables: this.variables,\n        user: 'this.username',\n        categoria: item._id,\n        llave0: this.llave,\n        tipovista: this.tipovista,\n        moneda: this.moneda,\n        sienvio: this.sienvio,\n        titulo: 'Productos ' + item.nombre\n      }\n    };\n    if (this.tipovista === 'Lista con imagenes sin cobro al inicio') {  this.router.navigate(['ProductoCompra2Page'], navigationExtras); } else {\nif (this.tipovista === 'Lista sin imagenes') {  this.router.navigate(['ProductoCompra2Page'], navigationExtras); } else {\n  if (this.tipovista === 'Lista con imagenes') {  this.router.navigate(['ProductoCompra2Page'], navigationExtras); } else {\n    if (this.tipovista === 'Clasica con imagenes') {  this.router.navigate(['ProductoCompraPage'], navigationExtras); } else {\n      if (this.tipovista === 'otras') {  this.router.navigate(['ProductoCompra2Page'], navigationExtras); } else {\n        this.router.navigate(['ProductoCompra2Page'], navigationExtras);\n      }\n      \n    }}\n    \n  }\n   \n}\n\n\n  }\n\n\n  searchList() {\n\n    const query = (this.searchQuery && this.searchQuery !== null) ? this.searchQuery : '';\n    this.itemsList = this.filterList(this.items, query);\n  }\n filterList(list, query): Array<any> {\n   return list.filter(item => item.nombre.toLowerCase().includes(query.toLowerCase()));\n  }\n  loadData(event) {\n    setTimeout(() => {\n      event.target.complete();\n      if ( this.items.length === 1000) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n  \n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"ProvidesPage\"></ion-back-button>\n    </ion-buttons>\n\n   \n\n    <ion-title>\n    {{tituloxx}}\n    </ion-title>\n    \n  </ion-toolbar>\n  <ion-toolbar class=\"filters-toolbar\">\n    <ion-row class=\"searchbar-row\" align-items-center>\n      <ion-col>\n        <ion-searchbar animated [(ngModel)]=\"searchQuery\" (ionChange)=\"searchList()\" placeholder=\"{{ 'BUSCARM' | translate }}\"></ion-searchbar>\n      </ion-col>\n     \n    </ion-row>\n \n  </ion-toolbar>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-row class=\"categories-list \">\n    <ion-col *ngFor=\"let item of  itemsList \" class=\"category-item morado-color\" size=\"6\">\n      <app-image-shell style=\"border-radius: 10px;\" [display]=\"'cover'\"\n       class=\"category-cover\" animation=\"spinner\" [src]=\"apifoto + item.foto\">\n        <app-aspect-ratio [ratio]=\"{w:75, h:49}\">\n          <a  (click)=\"damenu(i,item)\" class=\"category-anchor\" [routerLink]=\"\">\n            <h2 class=\"category-title\">{{item.nombre}}</h2>\n          </a>\n        </app-aspect-ratio>\n      </app-image-shell>\n    </ion-col>\n    \n \n\n</ion-row>\n\n\n</ion-content>\n"]}