"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5715],{45715:(w,p,s)=>{s.r(p),s.d(p,{CategoriaListPageModule:()=>Z});var a=s(23349),d=s(55787),l=s(69808),m=s(33678),u=s(51062),h=s(93075),v=s(49926),f=s(4707),t=s(5e3),C=s(71408),P=s(89330);function b(r,n){1&r&&(t.TgZ(0,"ion-buttons",10),t._UZ(1,"ion-menu-button"),t.qZA())}function M(r,n){1&r&&(t.TgZ(0,"ion-buttons",10),t._UZ(1,"ion-back-button",11),t.qZA())}const x=function(){return{w:75,h:49}};function y(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"ion-col",12),t.TgZ(1,"app-image-shell",13),t.TgZ(2,"app-aspect-ratio",14),t.TgZ(3,"a",15),t.NdJ("click",function(){const g=t.CHM(e).$implicit,c=t.oxw();return c.damenu(c.i,g)}),t.TgZ(4,"h2",16),t._uU(5),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=n.$implicit,i=t.oxw();t.xp6(1),t.Q6J("display","cover")("src",i.apifoto+e.foto),t.xp6(1),t.Q6J("ratio",t.DdM(4,x)),t.xp6(3),t.Oqu(e.nombre)}}let O=(()=>{class r{constructor(e,i,o,g,c,_){this.routerOutlet=e,this.router=i,this.authenticationService=o,this.alertController=g,this.translateService=c,this.modalController=_,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.simenu=!1,this.userinfo=[],this.viewType="grid",this.tituloxx="",this.efecto=0,this.seguro="",this.msg="",this.sienvio=!1,this.currentSegment="Todos",this.searchSubject=new f.t(1),this.apifoto=this.authenticationService.getapifoto()}ngOnInit(){this.router.getCurrentNavigation().extras.state&&this.router.getCurrentNavigation().extras.state.llave?(this.simenu=!1,this.variables=this.router.getCurrentNavigation().extras.state.variables,this.llave=this.router.getCurrentNavigation().extras.state.llave,this.tipovista=this.router.getCurrentNavigation().extras.state.tipovista,this.sienvio=this.router.getCurrentNavigation().extras.state.sienvio,this.moneda=this.router.getCurrentNavigation().extras.state.moneda,this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.titulo,this.searchQuery="",this.logo1=this.authenticationService.dalogo1(this.userinfo),this.translateService.get("SEGUROM").subscribe(e=>{this.seguro=e}),this.translateService.get("MSGM").subscribe(e=>{this.msg=e}),this.pideregistros()):(this.simenu=!0,this.userinfo=this.authenticationService.getcopiauser(),this.logo1=this.authenticationService.dalogo1(this.userinfo),this.variables=null,this.tituloxx="Categor\xedas",this.llave="619be7181795ea3bc87c9756",this.authenticationService.getReg(this.llave,"asociados",0).then(e=>{var i;this.tipovista=(i=e)[0].tipovista,this.sienvio=i[0].sienvio,this.moneda=i[0].moneda,this.searchQuery="",this.logo1=this.authenticationService.dalogo1(this.userinfo),this.translateService.get("SEGUROM").subscribe(o=>{this.seguro=o}),this.translateService.get("MSGM").subscribe(o=>{this.msg=o}),this.pideregistros()}))}pideregistros0(){this.pideregistros()}pideregistros(){this.itemsList=[],this.efecto=0,this.authenticationService.getReg("todos/Activo/"+this.userinfo[0].idempresa._id+"/"+this.llave,"categorias",0).then(e=>{this.efecto=1,this.items=e,this.itemsList=this.items},e=>{this.authenticationService.presentAlert(e.error,this.msg,"")})}damenu(e,i){this.router.navigate("Lista con imagenes sin cobro al inicio"===this.tipovista||"Lista sin imagenes"===this.tipovista||"Lista con imagenes"===this.tipovista?["ProductoCompra2Page"]:"Clasica con imagenes"===this.tipovista?["ProductoCompraPage"]:["ProductoCompra2Page"],{state:{variables:this.variables,user:"this.username",categoria:i._id,llave0:this.llave,tipovista:this.tipovista,moneda:this.moneda,sienvio:this.sienvio,titulo:"Productos "+i.nombre}})}trackItems(e,i){return i.id}searchList(){this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(e,i){return e.filter(o=>o.nombre.toLowerCase().includes(i.toLowerCase()))}loadData(e){setTimeout(()=>{e.target.complete(),1e3===this.items.length&&(e.target.disabled=!0)},500)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(a.jP),t.Y36(d.F0),t.Y36(v.$),t.Y36(a.Br),t.Y36(u.sK),t.Y36(a.IN))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-categoria-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(a.ju,5),2&e){let o;t.iGM(o=t.CRH())&&(i.infiniteScroll=o.first)}},decls:17,vars:9,consts:[["color","primary"],["slot","start",4,"ngIf"],["collapse","true","slot","end"],["alt","logo","id","header_logo","height","33",3,"src"],["size","small"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"categories-list"],["class","category-item morado-color","size","6",4,"ngFor","ngForOf"],["slot","start"],["defaultHref","ProvidesPage"],["size","6",1,"category-item","morado-color"],["animation","spinner",1,"category-cover",2,"border-radius","10px",3,"display","src"],[3,"ratio"],[1,"category-anchor",3,"click"],[1,"category-title"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.YNc(2,b,2,0,"ion-buttons",1),t.YNc(3,M,2,0,"ion-buttons",1),t.TgZ(4,"ion-buttons",2),t._UZ(5,"ion-button"),t._UZ(6,"img",3),t.qZA(),t.TgZ(7,"ion-title",4),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"ion-toolbar",5),t.TgZ(10,"ion-row",6),t.TgZ(11,"ion-col"),t.TgZ(12,"ion-searchbar",7),t.NdJ("ngModelChange",function(g){return i.searchQuery=g})("ionChange",function(){return i.searchList()}),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"ion-content"),t.TgZ(15,"ion-row",8),t.YNc(16,y,6,5,"ion-col",9),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.simenu),t.xp6(1),t.Q6J("ngIf",!i.simenu),t.xp6(3),t.Q6J("src",i.apifoto+i.logo1,t.LSH),t.xp6(2),t.hij(" ",i.tituloxx," "),t.xp6(4),t.s9C("placeholder",t.lcZ(13,7,"BUSCARM")),t.Q6J("ngModel",i.searchQuery),t.xp6(4),t.Q6J("ngForOf",i.itemsList))},directives:[a.Gu,a.sr,l.O5,a.Sm,a.YG,a.wd,a.Nd,a.wI,a.VI,a.j9,h.JJ,h.On,a.W2,l.sg,a.fG,a.oU,a.cs,C.U,P.m],pipes:[u.X$],styles:['.categories-list[_ngcontent-%COMP%]{--ion-grid-column-padding: var(--page-categories-gutter);padding:calc(var(--page-categories-gutter) * 3);height:100%;align-content:flex-start;overflow:scroll;cursor:pointer;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-anchor[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{margin:auto;text-transform:uppercase;font-weight:400;font-size:18px;letter-spacing:1px;padding:calc(var(--page-margin) / 4 * 3) var(--page-margin);color:var(--ion-color-lightest);background-color:var(--page-category-background);border-radius:var(--app-fair-radius)}[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-categories-gutter: calc(var(--page-margin) / 4);--page-category-background: var(--ion-color-medium);--page-category-background-rgb: var(--ion-color-medium-rgb)}.categories-list[_ngcontent-%COMP%]{--ion-grid-column-padding: var(--page-categories-gutter);padding:calc(var(--page-categories-gutter) * 3);height:100%;align-content:flex-start;overflow:scroll;-ms-overflow-style:none;overflow:-moz-scrollbars-none;scrollbar-width:none}.categories-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-anchor[_ngcontent-%COMP%]{height:100%;text-decoration:none;display:flex;justify-content:flex-start;align-items:flex-start}.categories-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .category-anchor[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{margin:auto;text-transform:uppercase;font-weight:300;font-size:10px;letter-spacing:1px;padding:calc(var(--page-margin) / 2 * 3) var(--page-margin);color:var(--ion-color-lightest);background-color:var(--page-category-background);border-radius:var(--app-fair-radius)}.categories-list[_ngcontent-%COMP%]   .pictures-row[_ngcontent-%COMP%]{--ion-grid-columns: 10;--ion-grid-column-padding: 0px;margin:0px calc(var(--page-pictures-gutter) * -1)}.categories-list[_ngcontent-%COMP%]   .pictures-row[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]{padding:0px var(--page-pictures-gutter)}.categories-list[_ngcontent-%COMP%]   .pictures-row[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .has-more-pictures[_ngcontent-%COMP%]{position:absolute;top:0px;bottom:0px;left:0px;right:0px;margin:0px var(--page-pictures-gutter);background-color:rgba(var(--page-color-rgb),.7);border-radius:var(--app-narrow-radius);display:flex;align-items:center;justify-content:center;text-decoration:none;z-index:2}.categories-list[_ngcontent-%COMP%]   .pictures-row[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .has-more-pictures[_ngcontent-%COMP%]   .pictures-count[_ngcontent-%COMP%]{font-size:22px;color:var(--ion-color-lightest);font-weight:600}.categories-list[_ngcontent-%COMP%]   .pictures-row[_ngcontent-%COMP%]   .picture-wrapper[_ngcontent-%COMP%]   .has-more-pictures[_ngcontent-%COMP%]   .pictures-count[_ngcontent-%COMP%]:before{content:"+";font-size:26px;color:var(--ion-color-lightest);font-weight:600}.categories-list[_ngcontent-%COMP%]   .morado-color[_ngcontent-%COMP%]{--page-category-background: hsl(0, 96%, 26%);--page-category-background-rgb: 194,51,255}app-image-shell.category-cover[_ngcontent-%COMP%]{--image-shell-loading-background: rgba(var(--page-category-background-rgb), .1);--image-shell-spinner-color: var(--ion-color-lightest,.3);--image-shell-spinner-size: 18px}']}),r})(),Z=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[l.ez,h.u5,a.Pc,u.aw.forChild(),d.Bz.forChild([{path:"",component:O}]),m.K]]}),r})()}}]);