"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5085],{95085:(U,u,a)=>{a.r(u),a.d(u,{tokenspago0ListPageModule:()=>y});var n=a(23349),p=a(55787),v=a(69808),k=a(33678),f=a(51062),Z=a(93075),P=a(36351),C=a(98246),T=a(28230),b=a(70655),x=a(68554),A=a(2263),t=a(5e3);let M=(()=>{class s{constructor(e,i,o,r,l,h,c,g){this.menu=e,this.loadingCtrl=i,this.router=o,this.authenticationService=r,this.toastCtrl=l,this.alertController=h,this.translateService=c,this.modalController=g,this.loading=null,this.items=[],this.variables=[],this.userinfo=[],this.diasfestivos="DIAS FESTIVOS",this.nombretarifa="TARIFA_BUSES",this.vinactivos=[],this.tiposervicio="cobro_servicio_bus",this.vdiasfestivos=[],this.vtarifa=[],this.foto0="../../../../assets/sample-images/paypago2.svg",this.viewType="grid",this.tituloxx="",this.moneda="Q",this.efecto=0,this.seguro="",this.msg="",this.qrData="",this.scannedCode=null,this.elementType="canvas",this.enableSound=!0,this.soundEnabled=!0,this.currentSegment="Todos"}ngOnInit(){this.menu.close(),this.variables=this.router.getCurrentNavigation().extras.state.variables,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.titulo,this.translateService.get("SEGUROM").subscribe(e=>{this.seguro=e}),this.translateService.get("MSGM").subscribe(e=>{this.msg=e}),this.msmt="Seleccione Medio de Pago....",this.authenticationService.getReg("dinactivos/"+this.userinfo[0].idempresa._id,"datosfijos2",0).then(e=>{this.vinactivos=e,this.authenticationService.getReg(this.nombretarifa+"/"+this.userinfo[0].idempresa._id+"/diasfestivos","datosfijos2",0).then(i=>{this.vdiasfestivos=i,this.authenticationService.getReg(this.nombretarifa+"/"+this.userinfo[0].idempresa._id+"/dtarifa","datosfijos2",0).then(o=>{this.vtarifa=o;const r=Number(this.datarifa());this.tarifa=r},o=>{this.authenticationService.presentAlert(o.error,this.msg,"")})},i=>{this.authenticationService.presentAlert(i.error,this.msg,"")})},e=>{this.authenticationService.presentAlert(e.error,this.msg,"")})}dascan(e){return(0,b.mG)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:A.l,animated:!0,componentProps:{variables:"",user:null,opcion:e,moneda:this.moneda,titulo:"Cobro pasaje"},presentingElement:yield this.modalController.getTop(),cssClass:"modal-fullscreen"});return i.onWillDismiss().then(o=>{}),yield i.present()})}presentLoadingWithOptions(e,i){return(0,b.mG)(this,void 0,void 0,function*(){const o=yield this.loadingCtrl.create({spinner:null,duration:2e3,message:e,translucent:!0,cssClass:i,backdropDismiss:!0});yield o.present(),yield o.onDidDismiss()})}regresatodo(){setTimeout(()=>{this.pagot="",this.saldot="",this.msmt="APROXIME MEDIO DE PAGO....";const e=Number(this.datarifa());this.tarifa=e},1e3)}datarifa(){let e="0";const i=new Date;let o=0,r=0;for(let l=0;l<this.vdiasfestivos.length;l++)if(i.getDate()+"-"+(i.getMonth()+1)+"-"+i.getFullYear()===this.vdiasfestivos[l]){e="0",o=1;break}if(0===o){const h=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"][i.getDay()];for(let c=0;c<this.vtarifa.length;c++){const g=this.vtarifa[c].nombre.split(",");if(h===g[0]){const O=Number(g[1]),S=Number(g[2]),m=Number(i.getHours());if(Number(g[3]),m>=O&&m<=S&&(e=g[3],this.diat=h,this.horat=m,r=1),1===r)break}}}return e}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(n._q),t.Y36(n.HT),t.Y36(p.F0),t.Y36(x.$),t.Y36(n.yF),t.Y36(n.Br),t.Y36(f.sK),t.Y36(n.IN))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-tokenspago0-list"]],decls:41,vars:7,consts:[["color","primary"],["size","small"],["slot","start"],["defaultHref","Billetera2ListPage"],[1,"legal-content"],["size","6",1,"ion-text-center"],[2,"display","flex","align-items","center","justify-content","center"],["name","qr-code-outline"],[1,"ion-text-center"],["color","danger",3,"click"],["name","card-outline"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.TgZ(2,"ion-title",1),t._uU(3," Bienvenido "),t.qZA(),t.TgZ(4,"ion-buttons",2),t._UZ(5,"ion-back-button",3),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content",4),t._UZ(7,"br"),t._UZ(8,"br"),t.TgZ(9,"article"),t.TgZ(10,"h1"),t._uU(11),t.qZA(),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"ion-grid"),t.TgZ(14,"ion-row"),t.TgZ(15,"ion-col",5),t.TgZ(16,"ion-card"),t.TgZ(17,"div",6),t._UZ(18,"ion-icon",7),t.qZA(),t.TgZ(19,"ion-item",8),t.TgZ(20,"ion-button",9),t.NdJ("click",function(){return i.dascan("qr")}),t._uU(21,"Pagar con codigo QR"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"ion-col",5),t.TgZ(23,"ion-card"),t.TgZ(24,"div",6),t._UZ(25,"ion-icon",10),t.qZA(),t.TgZ(26,"ion-item",8),t.TgZ(27,"ion-button",9),t.NdJ("click",function(){return i.dascan("nfc")}),t._uU(28,"Pagar con tarjeta"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"ion-row"),t.TgZ(30,"ion-col"),t._UZ(31,"br"),t._UZ(32,"br"),t.TgZ(33,"article"),t.TgZ(34,"p"),t._uU(35),t.qZA(),t.TgZ(36,"p"),t._uU(37),t.qZA(),t.TgZ(38,"p"),t._uU(39),t.ALo(40,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(11),t.Oqu(i.msmt),t.xp6(24),t.hij(" Dia: ",i.diat," "),t.xp6(2),t.hij(" Hora: ",i.horat," "),t.xp6(2),t.hij(" Tarifa : ",t.xi3(40,4,i.tarifa,i.moneda),""))},directives:[n.Gu,n.sr,n.wd,n.Sm,n.oU,n.cs,n.W2,n.jY,n.Nd,n.wI,n.PM,n.gu,n.Ie,n.YG],pipes:[v.H9],styles:["[_nghost-%COMP%]{--page-margin: var(--app-broad-margin);--page-background: var(--app-background-shade);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}ion-icon[_ngcontent-%COMP%]{font-size:200px;align-content:center;text-align:center}.legal-content[_ngcontent-%COMP%]   .legal-title[_ngcontent-%COMP%]{color:var(--ion-color-secondary);margin:var(--page-margin) 0px calc(var(--page-margin) / 2);text-align:center}.legal-content[_ngcontent-%COMP%]   .legal-text[_ngcontent-%COMP%]{color:var(--ion-color-dark);margin:calc(var(--page-margin) / 2) 0px var(--page-margin);font-size:28px;line-height:20px;color:#4848f8;text-align:center}.example1[_ngcontent-%COMP%]{height:50px;overflow:hidden;position:relative}.example1[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2em;color:#343a34;position:absolute;width:60%;height:100%;margin:0;line-height:50px;text-align:center;transform:translate(100%);-webkit-animation:example1 15s linear infinite;animation:example1 15s linear infinite}@-webkit-keyframes example1{0%{-webkit-transform:translateX(100%)}to{-webkit-transform:translateX(-100%)}}@keyframes example1{0%{transform:translate(100%)}to{transform:translate(-100%)}}article[_ngcontent-%COMP%]{background:linear-gradient(to right,#5d6a6f,#67527a);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-align:center}h1[_ngcontent-%COMP%]{font-size:10vmin;line-height:1.1}body[_ngcontent-%COMP%]{background:#000f1a;min-block-size:100%;min-inline-size:100%;box-sizing:border-box;display:grid;place-content:center;font-family:system-ui;font-size:min(200%,5vmin)}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-family:Dank Mono,ui-monospace,monospace}html[_ngcontent-%COMP%]{block-size:100%;inline-size:100%}"]}),s})(),y=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[v.ez,n.Pc,k.K,Z.u5,Z.UX,P.YL,C.F5,p.Bz.forChild([{path:"",component:M}]),f.aw.forChild(),T.y]]}),s})()}}]);