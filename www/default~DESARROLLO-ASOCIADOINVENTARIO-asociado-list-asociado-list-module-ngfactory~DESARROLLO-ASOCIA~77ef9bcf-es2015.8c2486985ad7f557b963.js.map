{"version":3,"sources":["webpack:///src/app/DESARROLLO/modals/my-modal-combo/my-modal-combo.page.ts"],"names":["MyModalComboPage","modalController","alertController","translateService","authenticationService","navParams","searchSubject","variables","userinfo","tituloxx","vgrupo","tmultiple","vector","showAgeFilter","showmenu","items","grabax","efecto","keys","seguro","msg","this","next","query","searchQuery","itemsList","filterList","list","filter","item","nombre","toLowerCase","includes","totalItems","length","checked","map","obj","isChecked","isIndeterminate","masterCheck","setTimeout","forEach","data","keyst","split","i","aa","String","indexOf","push","undefined","doblex","getReg","idempresa","_id","frm","then","sigraba","myData","myData2","idllave0","idllave","filtroformularioconsulta","formularioconsulta","i2","encuentra","idcampos","i22","idcamposmodificables","idcamposmodificables2","name","idfrmconsulta2","idfrmconsulta","id","cadff","filtrar","idpapafiltro","tipo","idcampofiltromanual","nombret","catalogot","idusuario","email","correo","op","get","getcopiauser","idasociado","bloquear","siformulatiot","pideregistros","subscribe","value","idunidadt","idunidad","idformulario","Form","controls","setValue","record","alert","create","header","message","inputs","type","placeholder","buttons","text","cssClass","handler","blah","todo","options","idunidad2","bitacora","idafiliado","permiso","accion","createReg","result","err","presentAlert","error","present","document","querySelector","focus","dismiss","datatc","dataid","dataid2","datanombre","correos","nombres","correos2","deleteReg"],"mappings":"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","file":"x","sourcesContent":["  import { Component, OnInit } from '@angular/core';\n  import { AlertController , ModalController , NavParams} from '@ionic/angular';\n  import { FormGroup, FormControl, Validators, FormGroupDirective } from '@angular/forms';\n  import { AuthenticationService } from '../../services/Authentication.service';\n  import { TranslateService } from '@ngx-translate/core';\n  import { ReplaySubject} from 'rxjs';\n\n  @Component({\n    selector: 'app-my-modal-combo',\n    templateUrl: './my-modal-combo.page.html',\n    styleUrls: ['./my-modal-combo.page.scss'],\n  })\n  export class MyModalComboPage implements OnInit {\n    Form: FormGroup;\n    searchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\n    variables: any = [];\n    userinfo: any = [];\n    data: any;\n    tituloxx = '';\n    idusuario: any;\n    idcampos: any;\n    frm: any;\n    nombre: any;\n    idpapafiltro: any;\n    bloquear: any;\n    vgrupo: any = [];\n    catalogot: any;\n    doblex: any;\n    filtrar: any;\n    op: any;\n    idfrmconsulta: any;\n    idfrmconsulta2: any;\n    siformulatiot: any;\n    idcampofiltromanual: any;\n   tmultiple = false;\n    vector: any = [];\n    isIndeterminate: boolean;\n    masterCheck: boolean;\n    lpermiso: any;\n    idunidadt: any;\n    idcamposmodificables: any;\n    idcamposmodificables2: any;\n    idasociado: any;\n    filtroformularioconsulta: any;\n    formularioconsulta: any;\n    idformulario: any;\n    searchQuery: string;\nshowAgeFilter = false;\nshowmenu = false;\ntipo: any;\nitems: any  = [] ;\ngrabax: any = true;\nidllave: any;\nidllave0: any;\nsigraba: any;\nefecto = 0;\nkeys: any = [];\nseguro = '';\nmsg = '';\nitemsList: Array<any>;\n\n    constructor(private modalController: ModalController,  public alertController: AlertController,\n      public translateService: TranslateService    , private authenticationService: AuthenticationService,\n      private navParams: NavParams) {\n\n\n\n\n       }\n       searchList() {\n        this.searchSubject.next({\n\n         query: this.searchQuery\n       });\n        const query = (this.searchQuery && this.searchQuery !== null) ? this.searchQuery : '';\n        this.itemsList = this.filterList(this.items, query);\n      }\n      filterList(list, query): Array<any> {\n        return list.filter(item => item.nombre.toLowerCase().includes(query.toLowerCase()));\n       }\n\n       checkEvent() {\n        const totalItems = this.itemsList.length;\n        let checked = 0;\n        this.itemsList.map(obj => {\n          if (obj.isChecked) { checked++; }\n        });\n        if (checked > 0 && checked < totalItems) {\n          // If even one item is checked but not all\n          this.isIndeterminate = true;\n          this.masterCheck = false;\n        } else if (checked == totalItems) {\n          // If all are checked\n          this.masterCheck = true;\n          this.isIndeterminate = false;\n        } else {\n          // If none is checked\n          this.isIndeterminate = false;\n          this.masterCheck = false;\n        }\n      }\n\n\n      checkMaster() {\n        setTimeout(() => {\n          this.itemsList.forEach(obj => {\n            obj.isChecked = this.masterCheck;\n          });\n        });\n      }\n\n\n      public getKeys(data) {\n        const keyst: any = [];\n        const keystaa: any = [];\n       // var keys2:any=[];\n        this.keys = data.nombre.split('°');\n        const cadurs = '';\n        const cadurs2 = '';\n        const cadurs3 = '';\n        for (let i = 0; i < this.keys.length; i++) {\n          const aa = this.keys[i].split(':');\n          if (aa[0] !== '' && String(aa[0]).indexOf('¬')<0) {\n            if(aa[1] ===undefined)\n            {\n              keyst.push('' +  aa[0]  + '  '  );\n            }\n            else\n            {\n              keyst.push('<strong>' +  aa[0]  + '</strong> : ' + aa[1] );\n            }\n          \n          }\n            }\n\n\n        this.keys = keyst;\n\n\n        return true;\n      }\n\n\n       pideregistros() {\n\n        if (this.doblex !== '') {\n          this.authenticationService.getReg('todos/' + this.data + '/' + this.userinfo[0].idempresa._id\n           + '/' + this.doblex , this.frm, 0).then((data) => {\n\n            this.items =  data;\n            this.itemsList = this.items;\n           });\n\n        } else {\n          if (this.sigraba === 'sigraba' || this.sigraba === 'nograba') {\n            this.authenticationService.getReg('todos/' + this.data + '/' + this.userinfo[0].idempresa._id  , this.frm, 0).then((data) => {\n\n              this.items =  data;\n              this.itemsList = this.items;\n             });\n          } else {\n\n            if (this.sigraba === 'sigraba' ) {\n              this.items =  this.vector;\n\n            } else {\n              const myData: any = [];\n              const myData2: any = [];\n\n              switch (this.sigraba) {\n                case 'multas':\n                const cadff2 = '5f74c136f22ed14ea01c1cc1' + '/' + 'descripcion°Descripción,monto°Monto,plazoenminutospararesolver°Plazo en minutos para resolver' + '/' + this.userinfo[0].idempresa._id + '/formulariocombo/';\n\n\n                this.authenticationService.getReg( cadff2 , 'frmmovils', 0).then((data) => {\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n\n                  break;\n                case 'actividadsiguiente':\n                  this.authenticationService.getReg(this.idllave0 + '/actividadsiguiente/' + this.userinfo[0].idempresa._id + '/' + this.idllave, 'frmactividads', 0).then((data) => {\n\n                    this.items =  data;\n                    this.itemsList = this.items;\n                  });\n\n                  break;\n                case 'controlmultipleidnombre':\n\n\n\n\n\n                      this.tmultiple = true;\n                      this.authenticationService.getReg( this.filtroformularioconsulta , this.formularioconsulta, 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n\n                          this.itemsList = [];\n                          for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                            let encuentra = 0;\n                            if (this.idcampos) {\n                            for (let i22 = 0; i22 < this.idcampos.length; i22++) {\n                              if (this.idcampos[i22] === this.items[i2]._id) {\n                                encuentra = 1;\n                              }\n                            }\n                          }\n                          if (encuentra === 0) {\n                            if (this.idcamposmodificables) {\n                              for (let i22 = 0; i22 < this.idcamposmodificables.length; i22++) {\n                                if (this.idcamposmodificables[i22] === this.items[i2]._id) {\n                                  encuentra = 1;\n                                }\n                              }\n                            }\n                          }\n\n                          if (encuentra === 0) {\n                            if (this.idcamposmodificables2.length > 0) {\n                              for (let i22 = 0; i22 < this.idcamposmodificables2.length; i22++) {\n                                if (this.idcamposmodificables2[i22] === this.items[i2]._id) {\n                                  encuentra = 1;\n                                }\n                              }\n\n                              if (encuentra === 0) {\n                                encuentra = 1;\n                              } else {\n                                encuentra = 0;\n                              }\n\n                            }\n                          }\n\n                            if (encuentra === 1) {\n                              this.itemsList.push({_id: this.items[i2]._id, name: this.items[i2].name, nombre: this.items[i2].nombre, isChecked: true  });\n                            } else {\n                              this.itemsList.push({_id: this.items[i2]._id,  name: this.items[i2].name , nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n\n\n                           // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                          }\n                          this.items = this.itemsList ;\n\n\n\n\n                      });\n\n\n\n\n\n\n\n\n\n\n\n\n\n                  break;\n                case 'formulariottcheck':\n\n\n                  for (let i = 0; i <  this.idfrmconsulta2.length; i++) {\n                          myData2.push([this.idfrmconsulta2[i].nombre]);\n                  }\n\n                  switch (this.idfrmconsulta.id) {\n                    case 'users':\n                      this.authenticationService.getReg('Activo/personasactivas/' + this.userinfo[0].idempresa._id  , 'personals', 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n\n                      break;\n                    default:\n                      let cadff = '';\n                      if (this.filtrar !== undefined && this.filtrar !== '') {\n                        cadff = this.idfrmconsulta.id + '/' + myData2 + '/' + this.userinfo[0].idempresa._id  + '¬°' + this.filtrar + '/formulariocombofiltro/';\n\n                      } else {\n                        cadff = this.idfrmconsulta.id + '/' + myData2 + '/' + this.userinfo[0].idempresa._id + '/formulariocombo/';\n                      }\n\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n                  }\n\n\n\n\n                  break;\n                case 'formulariott':\n\n                  let cadff = '';\n\n                  for (let i = 0; i <  this.idfrmconsulta2.length; i++) {\n                          myData.push([this.idfrmconsulta2[i].nombre]);\n                  }\n\n                  if (this.idpapafiltro !== '' && this.idpapafiltro !== undefined) {\n\n                    this.filtrar = '\"' + 'idpapa' + '\"' + ':' + '\"' + this.idpapafiltro +  '\"';\n                    cadff = this.idfrmconsulta.id + '/' + myData + '/' + this.userinfo[0].idempresa._id  + '¬' + this.filtrar + '/formulariosolopapafiltro/';\n\n                    if (this.tipo === 'select2' || this.tipo === 'select3') {\n                      this.tmultiple = true;\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n\n\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                        if (this.tmultiple === true) {\n                          this.itemsList = [];\n                          for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                            let encuentra = 0;\n                            if (this.idcampos) {\n                            for (let i22 = 0; i22 < this.idcampos.length; i22++) {\n                              if (this.idcampos[i22] === this.items[i2]._id) {\n                                encuentra = 1;\n                              }\n                            }\n                          }\n                            if (encuentra === 1) {\n                              this.itemsList.push({_id: this.items[i2]._id, name: this.items[i2].name, nombre: this.items[i2].nombre, isChecked: true  });\n                            } else {\n                              this.itemsList.push({_id: this.items[i2]._id,  name: this.items[i2].name , nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n\n\n                           // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                          }\n                          this.items = this.itemsList ;\n                        }\n\n\n\n                      });\n\n\n\n\n\n                    } else {\n                      this.tmultiple = false;\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n                    }\n\n\n                  } else {\n                  switch (this.idfrmconsulta.id) {\n                    case 'users':\n                      this.authenticationService.getReg('Activo/personasactivasfiltro/' + this.userinfo[0].idempresa._id + '¬' + this.idcampofiltromanual , 'personals', 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n\n                      break;\n                    default:\n\n                      if (this.filtrar !== undefined && this.filtrar !== '') {\n                        cadff = this.idfrmconsulta.id + '/' + myData + '/' + this.userinfo[0].idempresa._id  + '°' + this.filtrar + '/formulariocombofiltro/';\n\n                      } else {\n                        cadff = this.idfrmconsulta.id + '/' + myData + '/' + this.userinfo[0].idempresa._id + '/formulariocombo/';\n                      }\n\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n                  }}\n\n\n\n\n                  break;\n                case 'formulariot':\n                  this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id, 'frmmovils', 0).then((data) => {\n\n                  this.items =  data;\n                  this.items.push({_id: 'users', nombre: 'Usuarios sistema**'});\n                  this.itemsList = this.items;\n                });\n\n                break;\n                case 'formulariot2':\n\n\n                  switch (this.idllave) {\n                    case 'users':\n                      this.tmultiple = false;\n                      this.authenticationService.getReg('Activo/personasactivas/' + this.userinfo[0].idempresa._id  , 'personals', 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                        /*\n                        if (this.tmultiple === true) {\n                          this.itemsList = [];\n                          for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                            let encuentra = 0;\n                            for (let i22 = 0; i22 < this.idusuario.length; i22++) {\n                              if (this.idusuario[i22].id === this.items[i2]._id) {\n                                encuentra = 1;\n                              }\n                            }\n                            if (encuentra === 1) {\n                              this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: true  });\n                            } else {\n                              this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n\n\n                           // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                          }\n                          this.items = this.itemsList ;\n                        }\n                        */\n                       });\n\n                      break;\n                      default:\n                        let nombret = 'formulariocamposverid';\n                        if (this.catalogot === 'formulario-plantilla') {this.tmultiple = true; } else {this.tmultiple = false; nombret = 'formulariocamposveridcampo'; }\n\n                        this.authenticationService.getReg(this.idllave + '/' + nombret + '/'  + this.userinfo[0].idempresa._id , 'frmmovils' , 0).then((data) => {\n\n                          this.items =  data;\n                          this.itemsList = this.items;\n                          if (this.tmultiple === true) {\n                            this.itemsList = [];\n                            for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                              let encuentra = 0;\n                              if (this.idcampos) {\n                              for (let i22 = 0; i22 < this.idcampos.length; i22++) {\n                                if (this.idcampos[i22].id === this.items[i2]._id) {\n                                  encuentra = 1;\n                                }\n                              }\n                            }\n                              if (encuentra === 1) {\n                                this.itemsList.push({_id: this.items[i2]._id, name: this.items[i2].name, nombre: this.items[i2].nombre, isChecked: true  });\n                              } else {\n                                this.itemsList.push({_id: this.items[i2]._id,  name: this.items[i2].name , nombre: this.items[i2].nombre, isChecked: false  });\n                              }\n\n\n                             // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n                            this.items = this.itemsList ;\n                          }\n\n\n                        });\n\n                  }\n\n\n\n                break;\n                case 'role':\n                  this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id, 'rols', 0).then((data) => {\n\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n\n                break;\n                case 'role1':\n                  this.authenticationService.getReg('todos/todosope/' + this.userinfo[0].idempresa._id, 'rols', 0).then((data) => {\n\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n\n                break;\n                case 'tarifas':\n                  this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id + '/' + this.userinfo[0].idempresa._id , 'tarifas', 0).then((data) => {\n\n                    this.items =  data;\n                    this.itemsList = this.items;\n                  });\n                  break;\n                case 'formulariodetalle':\n\n                this.authenticationService.getReg('detalle' + '/' + 'Activo' + '/' + this.userinfo[0].idempresa._id + '/' + 'frmmovilp', 'frmmovils', 0).then((data) => {\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n                break;\n                case 'personals':\n                this.authenticationService.getReg('Activo/personasactivas/' + this.userinfo[0].idempresa._id  , this.sigraba, 0).then((data) => {\n\n                  this.items =  data;\n                  this.itemsList = this.items;\n                  if (this.tmultiple === true) {\n                    this.itemsList = [];\n                    for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                      let encuentra = 0;\n\n                      if (this.idusuario) {\n                      for (let i22 = 0; i22 < this.idusuario.length; i22++) {\n                        if (this.idusuario[i22].email === this.items[i2].email) {\n                          encuentra = 1;\n                        }\n                      }\n                    }\n\n                      if (encuentra === 1) {\n                        this.itemsList.push({_id: this.items[i2]._id, correo: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: true  });\n                      } else {\n                        this.itemsList.push({_id: this.items[i2]._id,  correo: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                      }\n\n\n                     // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                    }\n                    if (this.op === 'usuario-plantilla-grupoproceso') {\n                      this.itemsList.push({_id: 'USUARIOSOLICITANTE',  correo: 'USUARIOSOLICITANTE', nombre: 'USUARIO SOLICITANTE', isChecked: false  });\n\n                    }\n\n                    this.items = this.itemsList ;\n                  }\n                 });\n                 break;\n                case 'frmmovils':\n\n                  this.authenticationService.getReg(this.tipo + '/Activo/' + this.userinfo[0].idempresa._id + '/' + 'frmmovilp' , this.sigraba, 0).then((data) => {\n\n            this.items =  data;\n            this.itemsList = this.items;\n           });\n           break;\n           case 'frmactors':\n\n            this.authenticationService.getReg('todos' + '/Activo/' + this.userinfo[0].idempresa._id + '/' + this.idllave , this.sigraba, 0).then((data) => {\n\n      this.items =  data;\n      this.itemsList = this.items;\n     });\n     break;\n                  default:\n                      this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id  , this.sigraba, 0).then((data) => {\n\n                this.items =  data;\n                this.itemsList = this.items;\n                if (this.tmultiple === true) {\n                  for (let i2 = 0; i2 < this.items.length; i2++) {\n                    let encuentra = 0;\n\n                    if (this.idusuario ) {\n                    for (let i22 = 0; i22 < this.idusuario.length; i22++) {\n                      if (this.idusuario[i22].email === this.items[i2].email) {\n                        encuentra = 1;\n                      }\n                    }\n                  }\n\n                    if (encuentra === 1) {\n                      this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: true  });\n                    } else {\n                      this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: false  });\n                    }\n\n                  }\n                  this.items = this.itemsList ;\n                }\n\n               });\n              }\n\n\n\n            }\n\n          }\n\n        }\n\n\n\n       }\n    ngOnInit() {\n      this.variables = this.navParams.get('variables');\n      this.userinfo = this.authenticationService.getcopiauser();\n      this.frm = this.navParams.get('frm');\n      this.data = this.navParams.get('op');\n      this.tipo = this.navParams.get('tipo');\n      this.tituloxx = this.navParams.get('titlex');\n      this.doblex = this.navParams.get('doble');\n      this.idasociado = this.navParams.get('idasociado');\n      this.bloquear = this.navParams.get('bloquear');\n      if (this.bloquear === undefined) {this.bloquear = '';}\n      this.tmultiple = this.navParams.get('tmultiple');\n      this.idusuario = this.navParams.get('tarraymultiple');\n      this.idcampos = this.navParams.get('tarraymultiple');\n      this.idllave = this.navParams.get('idllave');\n      this.idllave0 = this.navParams.get('idllave0');\n      this.idpapafiltro = this.navParams.get('idpapafiltro');\n      this.catalogot = this.navParams.get('catalogot');\n      this.op = this.navParams.get('op');\n      this.idcampofiltromanual = this.navParams.get('idcampofiltromanual');\n      this.idfrmconsulta = this.navParams.get('idfrmconsulta');\n      this.idfrmconsulta2 = this.navParams.get('idfrmconsulta2');\n      this.siformulatiot = this.navParams.get('siformulatiot');\n      this.idcamposmodificables = this.navParams.get('idcamposmodificables');\n      this.idcamposmodificables2 = this.navParams.get('idcamposmodificables2');\n      this.filtroformularioconsulta = this.navParams.get('filtroformularioconsulta');\n      this.formularioconsulta = this.navParams.get('formularioconsulta');\n\n\n      this.filtrar = this.navParams.get('filtrar');\n      if (this.tmultiple === undefined ) { this.tmultiple = false; }\n      if (this.doblex === undefined ) { this.doblex = ''; }\n      this.sigraba = this.navParams.get('grabax');\nthis.vector = this.navParams.get('vector');\n      if (this.navParams.get('grabax') === undefined) {this.sigraba = 'sigraba'; }\n      if (this.sigraba === 'sigraba') {\n        this.grabax = false;\n      } else {\n        this.grabax = true;\n      }\n      this.pideregistros();\n      this.translateService.get('SEGUROM').subscribe((value) => {   this.seguro = value;  });\n\n      if ( this.frm === 'frmcats') {\n        this.idunidadt\t\t\t=\tthis.data;\n      } else {\n        this.idunidadt\t\t\t=\tthis.data.idunidad;\n        this.idformulario = this.data.idformulario;\n      }\n\n\n\n    }\n\n    ionViewDidLoad(): void {\n\n\n    this.frm =\t\tthis.data.frm;\n      if (this.navParams.get('record') == null) {\n        this.tituloxx = 'Creación de ' + this.idunidadt;\n      } else {\n\n        this.Form.controls['nombre'].setValue(this.data.record.nombre);\n        this.tituloxx = 'Actualización de ' + this.idunidadt;\n      }\n    }\n\n\n\n    async addRecord() {\n\n      const alert = await this.alertController.create({\n        header: 'Ingrese información',\n        message: '',\n        inputs: [\n          {\n            name: 'nombre',\n            type: 'text',\n\n            placeholder: 'Ingrese información'\n          }],\n        buttons: [\n          {\n            text: 'Cancelar',\n           cssClass: 'secondary',\n            handler: (blah) => {\n            }\n          }, {\n             text: 'Aceptar',\n             handler: (todo) => {\n\n\n                        let   options: any\t ;\n\n                        if (this.frm === 'frmcats') {\n                        options           = {\n                        idempresa: this.userinfo[0].idempresa._id,\n                        idunidad : this.idunidadt,\n                        idunidad2 : this.doblex,\n                      nombre : todo.nombre,\n                      bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                      email: this.userinfo[0].email ,  permiso : 'Crea', accion: 'Crea' + ' catalogos dinamicos '}\n                      };\n\n                    } else {\n\n                      options           = {\n                        idempresa: this.userinfo[0].idempresa._id,\n                        idunidad : this.idunidadt,\n                        idformulario: this.idformulario,\n                      nombre : todo.nombre,\n                      bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                      email: this.userinfo[0].email , permiso : 'Crea', accion: 'Crea' + ' catalogos dinamicos '}\n                      };\n                    }\n                    this.authenticationService.createReg('', options, this.frm).then((result) => {\n\n                      this.pideregistros();\n                     // this.modalController.dismiss(result);\n                  }, (err) => {\n                    this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                  });\n\n\n             }\n           }\n         ]\n       });\n       await alert.present().then(() => {\n        const firstInput: any = document.querySelector('ion-alert input');\n        firstInput.focus();\n        return;\n      });\n\n\n    }\n\n\n    async closeModal() {\n      this.modalController.dismiss('close');\n    }\n\n\n    selectitem(item: any) {\n\n      if (this.tmultiple === true) {\n        const datatc: any = [];\n        let dataid: any = '';\n        let dataid2: any = '';\n        let datanombre: any = '';\n\n        for (let i2 = 0; i2 < this.itemsList.length; i2++) {\n          if (this.itemsList[i2].isChecked === true) {\n\n            switch (this.sigraba) {\n              case 'controlmultipleidnombre':\n                datatc.push({id: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre});\n                datanombre = datanombre + ' , ' + this.itemsList[i2].nombre;\n                dataid = dataid + ';' + this.itemsList[i2]._id;\n\n\n              break;\n\n              case 'formulariot2':\n\n                switch (this.idllave) {\n                  case 'users':\n                    datatc.push({id: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre});\n                    datanombre = datanombre + ' , ' + this.itemsList[i2].nombre;\n                    dataid = dataid + ';' + this.itemsList[i2]._id;\n\n                  break;\n                  default:\n                    datatc.push({id: this.itemsList[i2]._id , nombre: this.itemsList[i2].name+'°'+this.itemsList[i2].nombre});\n                    datanombre = datanombre + ' , ' + this.itemsList[i2].nombre;\n                    dataid = dataid + ';' + this.itemsList[i2]._id;\n\n\n                }\n\n            break;\n            default:\n\n              if (this.tipo === 'select2' || this.tipo === 'select3') {\n\n                datatc.push({email: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre});\n                datanombre = datanombre + ' ' + this.itemsList[i2].nombre;\n                dataid = dataid + ';' + this.itemsList[i2]._id;\n                dataid2 = dataid2 +  this.itemsList[i2].nombre.split('¬')[1] + ';';\n\n                break;\n              } else {\n                datatc.push({email: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre, correo: this.itemsList[i2].correo});\n                datanombre = datanombre + ' ' + this.itemsList[i2].nombre;\n                dataid = dataid + ';' + this.itemsList[i2]._id;\n                break;\n\n              }\n\n\n            }\n          }\n\n        }\n\n        switch (this.sigraba) {\n\n          case 'formulariot2':\n\n                  this.modalController.dismiss({_id: datatc, correos: dataid, nombres: datanombre , correos2: dataid2} );\n\n\n        break;\n        default:\n          this.modalController.dismiss({_id: datatc, correos: dataid, nombres: datanombre, correos2: dataid2 } );\n          break;\n\n        }\n\n\n\n\n      } else {\n        if (this.sigraba === 'sigraba' || this.sigraba === 'nograba') {\n          this.modalController.dismiss({_id: item._id , nombre: item.nombre} );\n          } else {\n            this.modalController.dismiss({_id: item._id , nombre: item.nombre} );\n          }\n      }\n\n\n    }\n\n    async deleteRecord(item: any) {\n      const alert = await this.alertController.create({\n        header: this.seguro,\n        message: '',\n        buttons: [\n          {\n            text: 'No',\n           cssClass: 'secondary',\n            handler: (blah) => {\n            }\n          }, {\n             text: 'Si',\n             handler: () => {\n              this.authenticationService.deleteReg(item.id + '/' + this.userinfo[0].email + '/' +\n          this.userinfo[0].idempresa._id + '/' + 'na', this.frm).then((data) => {\n            this.pideregistros();\n\n          }, (err) => {\n            this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n          });\n\n             }\n           }\n         ]\n       });\n       await alert.present();\n     }\n\n\n\n\n     async updateRecord(item: any) {\n    const alert = await this.alertController.create({\n      header: 'Ingrese información',\n      message: '',\n      inputs: [\n        {\n          name: 'nombre',\n          type: 'text',\n          value: item.nombre,\n          placeholder: 'Ingrese información'\n        }],\n      buttons: [\n        {\n          text: 'Cancelar',\n         cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n           text: 'Aceptar',\n           handler: (todo) => {\n\n\n                      let   options: any\t ;\n\n                      if (this.frm === 'frmcats') {\n                      options           = {\n                      idempresa: this.userinfo[0].idempresa._id,\n                      idunidad : this.idunidadt,\n                      idunidad2 : this.doblex,\n                    nombre : todo.nombre,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email ,  permiso : 'Actualiza', accion: 'Actualiza' + ' catalogos dinamicos '}\n                    };\n\n                  } else {\n\n                    options           = {\n                      idempresa: this.userinfo[0].idempresa._id,\n                      idunidad : this.idunidadt,\n                      idformulario: this.idformulario,\n                    nombre : todo.nombre,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'Actualiza' + ' catalogos dinamicos '}\n                    };\n                  }\n\n                  this.authenticationService.createReg(item.id, options, this.frm).then((result) => {\n\n               //   this.modalController.dismiss(result);\n                      this.pideregistros();\n                }, (err) => {\n                  this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                });\n\n\n           }\n         }\n       ]\n     });\n     await alert.present();\n    }\n  }\n"]}