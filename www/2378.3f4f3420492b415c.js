"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2378],{2378:(T,f,r)=>{r.r(f),r.d(f,{frmdashboard2ListPageModule:()=>R});var n=r(23349),u=r(55787),_=r(69808),Z=r(33678),c=r(51062),g=r(93075),h=r(36351),m=r(70655),p=r(49926),b=r(4707),t=r(5e3),x=r(26806);function A(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"ion-button",12),t.NdJ("click",function(){return t.CHM(i),t.oxw().buscar0()}),t._UZ(1,"ion-icon",13),t.qZA()}}function P(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"ion-button",14),t.NdJ("click",function(){return t.CHM(i),t.oxw().pideregistros0()}),t.ALo(1,"translate"),t._UZ(2,"ion-icon",15),t.qZA()}2&e&&t.MGl("title"," ",t.lcZ(1,1,"REFRESCARM"),"")}function y(e,a){1&e&&(t.TgZ(0,"ion-item",22),t.TgZ(1,"ion-label",23),t._UZ(2,"skeleton-element"),t._UZ(3,"skeleton-element"),t._UZ(4,"skeleton-element",24),t.qZA(),t.qZA())}const v=function(){return[0,1,2,3,4,5,6]};function U(e,a){1&e&&(t.TgZ(0,"ion-list"),t.YNc(1,y,5,0,"ion-item",21),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,v)))}function C(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"ion-col",26),t.TgZ(1,"ion-card"),t.TgZ(2,"ion-row",27),t.TgZ(3,"ion-col"),t.TgZ(4,"span",28),t._uU(5,"No."),t.qZA(),t.TgZ(6,"span",29),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-item",30),t.NdJ("click",function(){const s=t.CHM(i).$implicit;return t.oxw(3).updateRecord(s)}),t.TgZ(9,"ion-label",23),t.TgZ(10,"p"),t.TgZ(11,"strong"),t._uU(12,"Empresa:"),t.qZA(),t._uU(13),t._UZ(14,"br"),t.TgZ(15,"strong"),t._uU(16,"Cantidad inicial:"),t.qZA(),t._uU(17),t._UZ(18,"br"),t.TgZ(19,"strong"),t._uU(20,"Total retiro:"),t.qZA(),t._uU(21),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24,"Saldo actual:"),t.qZA(),t._uU(25),t._UZ(26,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const i=a.$implicit,o=a.index;t.xp6(7),t.hij("",o+1," "),t.xp6(6),t.hij(" ",i.empresa," "),t.xp6(4),t.hij(" ",i.cinicial," "),t.xp6(4),t.hij(" ",i.cretiro," "),t.xp6(4),t.hij(" ",i.csaldo," ")}}function M(e,a){if(1&e&&(t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.YNc(2,C,27,5,"ion-col",25),t.qZA(),t.qZA()),2&e){const i=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",i.itemsList)("ngForTrackBy",i.trackItems)}}function O(e,a){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"ion-row",16),t.TgZ(3,"ion-col",17),t.TgZ(4,"ion-chip",18),t.TgZ(5,"ion-label",19),t._uU(6,"Cantidad Inicial"),t.qZA(),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"span"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"ion-col",17),t.TgZ(11,"ion-chip",18),t.TgZ(12,"ion-label",19),t._uU(13,"Total Retiro"),t.qZA(),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"span"),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"ion-col",20),t.TgZ(18,"ion-chip",18),t.TgZ(19,"ion-label",19),t._uU(20,"Saldo actual"),t.qZA(),t.qZA(),t._UZ(21,"br"),t.TgZ(22,"span"),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t.YNc(24,U,2,2,"ion-list",9),t.YNc(25,M,3,2,"ion-grid",9),t.qZA()),2&e){const i=t.oxw();t.xp6(9),t.Oqu(i.cinicial),t.xp6(7),t.Oqu(i.cretiro),t.xp6(7),t.Oqu(i.csaldo),t.xp6(1),t.Q6J("ngIf",0===i.efecto),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0)}}function q(e,a){1&e&&(t.TgZ(0,"ion-item",22),t.TgZ(1,"ion-label",23),t._UZ(2,"skeleton-element"),t._UZ(3,"skeleton-element"),t._UZ(4,"skeleton-element",24),t.qZA(),t.qZA())}function k(e,a){1&e&&(t.TgZ(0,"ion-list"),t.YNc(1,q,5,0,"ion-item",21),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,v)))}function L(e,a){if(1&e&&(t.TgZ(0,"ion-col",26),t.TgZ(1,"ion-card"),t.TgZ(2,"ion-row",27),t.TgZ(3,"ion-col"),t.TgZ(4,"span",28),t._uU(5,"No."),t.qZA(),t.TgZ(6,"span",29),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-item"),t.TgZ(9,"ion-label",23),t.TgZ(10,"p"),t.TgZ(11,"strong"),t._uU(12,"Proyecto:"),t.qZA(),t._uU(13),t._UZ(14,"br"),t.TgZ(15,"strong"),t._uU(16,"Cantidad inicial:"),t.qZA(),t._uU(17),t._UZ(18,"br"),t.TgZ(19,"strong"),t._uU(20,"Total retiro:"),t.qZA(),t._uU(21),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24,"Saldo actual:"),t.qZA(),t._uU(25),t._UZ(26,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e){const i=a.$implicit,o=a.index;t.xp6(7),t.hij("",o+1," "),t.xp6(6),t.hij(" ",i.proyecto," "),t.xp6(4),t.hij(" ",i.cinicial," "),t.xp6(4),t.hij(" ",i.cretiro," "),t.xp6(4),t.hij(" ",i.csaldo," ")}}function w(e,a){if(1&e&&(t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.YNc(2,L,27,5,"ion-col",25),t.qZA(),t.qZA()),2&e){const i=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",i.itemsList)("ngForTrackBy",i.trackItems)}}function E(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"div"),t._UZ(1,"br"),t.TgZ(2,"ion-button",31),t.NdJ("click",function(){return t.CHM(i),t.oxw().pideregistros0()}),t._uU(3," <--- Regresar a vista anterior"),t.qZA(),t._UZ(4,"div",32),t.TgZ(5,"ion-row",16),t.TgZ(6,"ion-col",17),t.TgZ(7,"ion-chip",18),t.TgZ(8,"ion-label",19),t._uU(9,"Cantidad Inicial"),t.qZA(),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"span"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"ion-col",17),t.TgZ(14,"ion-chip",18),t.TgZ(15,"ion-label",19),t._uU(16,"Total Retiro"),t.qZA(),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"span"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"ion-col",20),t.TgZ(21,"ion-chip",18),t.TgZ(22,"ion-label",19),t._uU(23,"Saldo actual"),t.qZA(),t.qZA(),t._UZ(24,"br"),t.TgZ(25,"span"),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,k,2,2,"ion-list",9),t.YNc(28,w,3,2,"ion-grid",9),t.qZA()}if(2&e){const i=t.oxw();t.xp6(4),t.Q6J("innerHtml",i.empresasel,t.oJD),t.xp6(8),t.Oqu(i.cinicial),t.xp6(7),t.Oqu(i.cretiro),t.xp6(7),t.Oqu(i.csaldo),t.xp6(1),t.Q6J("ngIf",0===i.efecto),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0)}}let S=(()=>{class e{constructor(i,o,l,s,d,F){this.routerOutlet=i,this.router=o,this.authenticationService=l,this.alertController=s,this.translateService=d,this.modalController=F,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.userinfo=[],this.viewType="uno",this.tituloxx="",this.efecto=0,this.dataperido=[],this.dataempresa=[],this.dataproyecto=[],this.datagrupo=[],this.seguro="",this.msg="",this.filtroxx=!1,this.filtrostt=!1,this.currentSegment="Activo",this.searchSubject=new b.t(1),this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}ngOnInit(){this.variables=this.router.getCurrentNavigation().extras.state.variables,this.tituloxx=this.variables.nombre,this.userinfo=this.authenticationService.getcopiauser(),this.filtrostt=!0,this.filtroxx=!0,this.searchQuery="",this.translateService.get("SEGUROM").subscribe(i=>{this.seguro=i}),this.translateService.get("MSGM").subscribe(i=>{this.msg=i}),this.rangeForm=new g.cw({dual:new g.NI({lower:1,upper:100})}),this.currentSegment="Activo","userempresa"!==this.userinfo[0].role?(this.authenticationService.getReg("empresa/dashboard1periodo/"+this.userinfo[0].idempresa._id+"/1/role","frmtareasprogramadass",0).then(i=>{this.dataempresa=i}),this.authenticationService.getReg("proyecto/dashboard1periodo/"+this.userinfo[0].idempresa._id+"/1/role","frmtareasprogramadass",0).then(i=>{this.dataproyecto=i})):this.authenticationService.getReg("5f58197323db5a1bdc6591cas/"+this.userinfo[0].email+"/"+this.userinfo[0].idempresa._id+"\xb05f58197323db5a1bdc6591ca/unregistromovilusercreate","frmmovils",0).then(i=>{var o,l="NIT: "+(o=i)[0].nit+"\xb0Nombre empresa: "+o[0].nombreempresa+"\xb0\xac"+o[0]._id;this.authenticationService.getReg("empresa/dashboard1periodo/"+this.userinfo[0].idempresa._id+"/"+l+"/role","frmtareasprogramadass",0).then(s=>{this.dataempresa=s}),this.authenticationService.getReg("proyecto/dashboard1periodo/"+this.userinfo[0].idempresa._id+"/"+l+"/role","frmtareasprogramadass",0).then(s=>{this.dataproyecto=s})}),this.pideregistros0()}filterContacts(i){const o=i.detail.value;this.currentSegment=o,this.pideregistros(o,this.periodo,this.viewType)}regresa(i){return(0,m.mG)(this,void 0,void 0,function*(){this.viewType=i,this.updateRecord(this.itemtemp2)})}updateRecord(i){return(0,m.mG)(this,void 0,void 0,function*(){this.itemtemp2=i,this.viewType="dos",this.itemsList=[],this.efecto=0,this.empresasel="Empresa: "+i.empresa,this.items=i.proyectos,this.itemsList=this.items,this.cinicial=i.cinicial,this.cretiro=i.cretiro,this.csaldo=i.csaldo,this.filtroxx=!1,this.efecto=1})}otrasop(i,o){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Seleccione Opci\xf3n",inputs:i,buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:s=>{}},{text:"Ok",handler:s=>{this.authenticationService.getReg(s+"/dashboard1/"+this.userinfo[0].idempresa._id+"/"+o+"/role","frmtareasprogramadass",0).then(d=>{this.efecto=1,this.items=d,this.itemsList=this.items},d=>{this.authenticationService.presentAlert(d.error,this.msg,"")})}}]})).present()})}buscar0(){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Filtrar por",inputs:[{name:"Periodo",type:"radio",label:"Periodo",value:"Periodo"},{name:"Empresa",type:"radio",label:"Empresa",value:"Empresa"},{name:"Proyecto",type:"radio",label:"Proyecto",value:"Proyecto"},{name:"Grupo",type:"radio",label:"Grupo",value:"Grupo"}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:o=>{}},{text:"Ok",handler:o=>{switch(o){case"Periodo":this.buscar(this.dataperido,o);break;case"Empresa":this.buscar(this.dataempresa,o);break;case"Proyecto":this.buscar(this.dataproyecto,o);break;case"Grupo":this.buscar(this.datagrupo,o)}}}]})).present()})}buscar(i,o){var l=[];for(let s=0;s<i.length;s++)l.push("Empresa"===o||"Proyecto"===o?{name:i[s].nombre,type:"radio",label:i[s].nombre.split("\xb0")[1].split(":")[1],value:i[s].nombre}:{name:i[s].nombre,type:"radio",label:i[s].nombre,value:i[s].nombre});this.otrasop(l,o)}pideregistros0(){this.viewType="uno",this.pideregistros(this.currentSegment,this.periodo,this.viewType)}pideregistros(i,o,l){this.itemsList=[],this.efecto=0,"uno"===l?(this.filtroxx=!0,this.authenticationService.getReg(o+"/dashboard2/"+this.userinfo[0].idempresa._id+"/Periodo/role","frmtareasprogramadass",0).then(s=>{this.efecto=1,this.items=s,this.itemsList=this.items,this.cinicial=0,this.cretiro=0,this.csaldo=0;for(let d=0;d<this.items.length;d++)this.cinicial=this.cinicial+this.items[d].cinicial,this.cretiro=this.cretiro+this.items[d].cretiro,this.csaldo=this.csaldo+this.items[d].csaldo},s=>{this.authenticationService.presentAlert(s.error,this.msg,"")})):this.filtroxx=!1}loadData(i){setTimeout(()=>{i.target.complete(),1e3===this.items.length&&(i.target.disabled=!0)},500)}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(n.jP),t.Y36(u.F0),t.Y36(p.$),t.Y36(n.Br),t.Y36(c.sK),t.Y36(n.IN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-frmdashboard2-list"]],viewQuery:function(i,o){if(1&i&&t.Gf(n.ju,5),2&i){let l;t.iGM(l=t.CRH())&&(o.infiniteScroll=l.first)}},decls:16,vars:5,consts:[["color","primary"],["slot","start"],["defaultHref","frmtareasprogramadasCreatePage"],["size","small"],["collapse","true","slot","end"],["title","Filtrar",3,"click",4,"ngIf"],[3,"title","click",4,"ngIf"],[1,"user-friends-content"],["id","profile-name"],[4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Espere un momento..."],["title","Filtrar",3,"click"],["slot","icon-only","name","filter-outline"],[3,"title","click"],["slot","icon-only","name","refresh-circle-outline"],[1,"ion-text-center"],["size","6",1,"ion-float-left"],["color","secondary"],["color","dark"],["size","6",1,"ion-float-right"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],["width","67%"],["size-lg","6","size-sm","6","size","12",4,"ngFor","ngForOf","ngForTrackBy"],["size-lg","6","size-sm","6","size","12"],[1,"user-stats-wrapper","user-details-wrapper"],[1,"user-stat-value"],[1,"user-stat-name"],[3,"click"],["color","secondary","expand","block","type","submit",3,"click"],[2,"font-size","18px","text-align","center",3,"innerHtml"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.TgZ(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",4),t.YNc(7,A,2,0,"ion-button",5),t.YNc(8,P,3,3,"ion-button",6),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"ion-content",7),t.TgZ(10,"h1",8),t._uU(11,"Limpia y verde "),t.qZA(),t.YNc(12,O,26,5,"div",9),t.YNc(13,E,29,6,"div",9),t.TgZ(14,"ion-infinite-scroll",10),t.NdJ("ionInfinite",function(s){return o.loadData(s)}),t._UZ(15,"ion-infinite-scroll-content",11),t.qZA(),t.qZA()),2&i&&(t.xp6(5),t.hij(" ",o.tituloxx," "),t.xp6(2),t.Q6J("ngIf",!0===o.filtrostt),t.xp6(1),t.Q6J("ngIf",!0===o.filtroxx),t.xp6(4),t.Q6J("ngIf",(null==o.itemsList?null:o.itemsList.length)>0&&"uno"===o.viewType),t.xp6(1),t.Q6J("ngIf",(null==o.itemsList?null:o.itemsList.length)>0&&"dos"===o.viewType))},directives:[n.Gu,n.sr,n.Sm,n.oU,n.cs,n.wd,_.O5,n.W2,n.ju,n.MB,n.YG,n.gu,n.Nd,n.wI,n.hM,n.Q$,n.q_,_.sg,n.Ie,x.B,n.jY,n.PM],pipes:[c.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}.first-letter2[_ngcontent-%COMP%]{text-transform:capitalize;font-size:10px}.first-letter[_ngcontent-%COMP%]{text-transform:capitalize;font-size:14px}#profile-info[_ngcontent-%COMP%]{position:absolute;top:-95px;width:100%;z-index:2;text-align:center}#profile-name[_ngcontent-%COMP%]{color:#444;font-size:26px;box-shadow:0!important;text-align:center}.profile-description[_ngcontent-%COMP%]{font-size:15px;color:#888}.profile-numbers[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;font-size:medium;margin-bottom:3px}.profile-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem;color:#34354c}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#444;background:-webkit-linear-gradient(left,rgba(0,0,0,0) 0%,#bcc6d6 50%,rgba(0,0,0,0) 100%)}"]}),e})();var I=r(22675);let R=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[_.ez,n.Pc,Z.K,g.u5,g.UX,h.YL,I.v,u.Bz.forChild([{path:"",component:S}]),c.aw.forChild()]]}),e})()},22675:(T,f,r)=>{r.d(f,{v:()=>m});var n=r(69808),u=r(93075),_=r(51062),Z=r(23349),c=r(55787),g=r(34345),h=r(5e3);let m=(()=>{class p{}return p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=h.oAB({type:p}),p.\u0275inj=h.cJS({imports:[[n.ez,u.u5,u.UX,Z.Pc,c.Bz,g.Cl,_.aw.forChild()]]}),p})()},26806:(T,f,r)=>{r.d(f,{B:()=>Z});var n=r(5e3),u=r(69808);const _=function(c,g){return{"no-animated":c,inline:g}};let Z=(()=>{class c{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275cmp=n.Xpm({type:c,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(h,m){1&h&&n._UZ(0,"div",0),2&h&&n.Q6J("ngClass",n.WLB(2,_,m.noAnimated,m.inline))("ngStyle",m.styles)},directives:[u.mk,u.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),c})()}}]);