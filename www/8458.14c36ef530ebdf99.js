"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8458],{50076:(U,T,l)=>{l.d(T,{oK:()=>o,GW:()=>Z,dk:()=>p});var o=(()=>{return(n=o||(o={})).Prompt="PROMPT",n.Camera="CAMERA",n.Photos="PHOTOS",o;var n})(),Z=(()=>{return(n=Z||(Z={})).Rear="REAR",n.Front="FRONT",Z;var n})(),p=(()=>{return(n=p||(p={})).Uri="uri",n.Base64="base64",n.DataUrl="dataUrl",p;var n})()},26388:(U,T,l)=>{l.d(T,{dk:()=>Z.dk,oK:()=>Z.oK,V1:()=>p});var o=l(47423),Z=l(50076);const p=(0,o.fo)("Camera",{web:()=>l.e(3954).then(l.bind(l,63954)).then(n=>new n.CameraWeb)})},68458:(U,T,l)=>{l.r(T),l.d(T,{frmaccionesListPageModule:()=>ee});var o=l(23349),Z=l(55787),p=l(69808),n=l(33678),m=l(51062),s=l(93075),A=l(36351),g=l(70655),b=l(68554),u=l(4707),_=l(63814),v=l(15190),C=l(26388),e=l(5e3);const M=["inputId"],k=["fotoa"];function I(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese orden"),e.qZA(),e.qZA())}function w(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese tipo de acci\xf3n"),e.qZA(),e.qZA())}function L(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese sub tipo de acci\xf3n"),e.qZA(),e.qZA())}function N(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese actividad siguiente"),e.qZA(),e.qZA())}function E(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese nombre"),e.qZA(),e.qZA())}function O(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese estado"),e.qZA(),e.qZA())}function S(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese mensaje a notificar por correo"),e.qZA(),e.qZA())}function R(r,d){1&r&&(e.TgZ(0,"div",34),e._UZ(1,"ion-icon",35),e.TgZ(2,"span"),e._uU(3,"Ingrese otros correos para notificar validos"),e.qZA(),e.qZA())}let P=(()=>{class r{constructor(t,i,a,c,h){this.modalController=t,this.translateService=i,this.authenticationService=a,this.navParams=c,this.actionSheetController=h,this.vtipo=[],this.vsubtipo=[],this.vactividadsiguiente=[],this.variables=[],this.userinfo=[],this.tituloxx="",this.tituloxx2="",this.vgrupo=[],this.apifoto=this.authenticationService.getapifoto()}ngAfterViewInit(){setTimeout(()=>{this.inputElement.setFocus()},400)}dismissModal(){this.modalController.dismiss("close")}ionViewDidEnter(){}ngOnInit(){this.variables=this.navParams.get("variables"),this.userinfo=this.navParams.get("userinfo"),this.idllave=this.navParams.get("idllave"),this.idllave0=this.navParams.get("idllave0"),this.tituloxx=this.navParams.get("title"),this.tituloxx2=this.navParams.get("title2"),this.Form=new s.cw({orden:new s.NI("",s.kI.required),tipo:new s.NI("",s.kI.required),ejecuta:new s.NI(""),mandacorreo:new s.NI(""),ejecutainicio:new s.NI(""),descripciong:new s.NI(""),subtipo:new s.NI("",s.kI.required),nombre:new s.NI("",s.kI.compose([s.kI.required,s.kI.pattern("[a-zA-Z0-9-_()\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda#*$!? \xf1\xd1&+->/.]*")])),nombre2:new s.NI(""),estado:new s.NI("",s.kI.required),actividadsiguiente:new s.NI("",s.kI.required),notificacionmsm:new s.NI("",s.kI.required),notificacionemail:new s.NI("",s.kI.required)}),null==this.navParams.get("record")?(this.Form.controls.mandacorreo.setValue("false"),this.Form.controls.tipo.setValue("EJECUCI\xd3N"),this.Form.controls.subtipo.setValue("GRUPO"),this.translateService.get("NUEVOM").subscribe(t=>{this.tituloxx=t+" "+this.tituloxx,this.lpermiso=t}),this.authenticationService.getReg("todos/orden/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"frmaccioness",0).then(t=>{if(t){const i=t;setTimeout(()=>{this.Form.controls.orden.setValue(Number(i.orden))},600)}},t=>{this.authenticationService.presentAlert(t.error,"Precauci\xf3n","")})):(this.translateService.get("ACTUALIZAM").subscribe(t=>{this.tituloxx=t+" "+this.tituloxx,this.lpermiso=t}),this._ID=this.navParams.data.record._id,this.Form.controls.orden.setValue(this.navParams.data.record.orden),this.Form.controls.ejecuta.setValue(this.navParams.data.record.ejecuta),this.Form.controls.ejecutainicio.setValue(this.navParams.data.record.ejecutainicio),this.Form.controls.tipo.setValue(this.navParams.data.record.tipo),this.Form.controls.mandacorreo.setValue(this.navParams.data.record.mandacorreo?this.navParams.data.record.mandacorreo:"false"),this.Form.controls.descripciong.setValue(this.navParams.data.record.descripciong?this.navParams.data.record.descripciong:""),this.Form.controls.nombre2.setValue(this.navParams.data.record.nombre2?this.navParams.data.record.nombre2:""),this.Form.controls.subtipo.setValue(this.navParams.data.record.subtipo),this.Form.controls.nombre.setValue(this.navParams.data.record.nombre),this.Form.controls.estado.setValue(this.navParams.data.record.estado),this.Form.controls.actividadsiguiente.setValue(this.navParams.data.record.actividadsiguiente.nombre),this.actividadsig=this.navParams.data.record.actividadsiguiente.id,this.Form.controls.notificacionmsm.setValue(this.navParams.data.record.notificacionmsm),this.Form.controls.notificacionemail.setValue(this.navParams.data.record.notificacionemail))}submitForm(){const t={idempresa:this.userinfo[0].idempresa._id,idpapa:this.idllave,idpapa0:this.idllave0,orden:this.Form.controls.orden.value,tipo:this.Form.controls.tipo.value,ejecuta:this.Form.controls.ejecuta.value,mandacorreo:this.Form.controls.mandacorreo.value,ejecutainicio:this.Form.controls.ejecutainicio.value,descripciong:this.Form.controls.descripciong.value,subtipo:this.Form.controls.subtipo.value,nombre:this.Form.controls.nombre.value,nombre2:this.Form.controls.nombre2.value,estado:this.Form.controls.estado.value,actividadsiguiente:{id:this.actividadsig,nombre:this.Form.controls.actividadsiguiente.value},notificacionmsm:this.Form.controls.notificacionmsm.value,notificacionemail:this.Form.controls.notificacionemail.value,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:this.lpermiso,accion:this.tituloxx}};null==this.navParams.get("record")?t&&this.authenticationService.createReg("",t,"frmaccioness").then(i=>{!this.Form.valid||this.modalController.dismiss("ok")},i=>{this.authenticationService.presentAlert(i.error,"Precauci\xf3n","")}):t&&this.authenticationService.createReg(this._ID,t,"frmaccioness").then(i=>{!this.Form.valid||this.modalController.dismiss("ok")},i=>{this.authenticationService.presentAlert(i.error,"Precauci\xf3n","")})}dacomponente(t,i){return(0,g.mG)(this,void 0,void 0,function*(){let a="";"ubicacion"===t&&(a=this.Form.controls.ubicacion.value);const c=yield this.modalController.create({component:_.B,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,uubx:a}});return c.onWillDismiss().then(h=>{"close"===h.data||("direccion"===t?this.Form.controls.direccion.setValue(h.data.direccion):this.Form.controls.ubicacion.setValue(h.data.direccion+" {"+h.data.la+"\xb0"+h.data.lo+"}"))}),yield c.present()})}takePicture(t){return(0,g.mG)(this,void 0,void 0,function*(){const i=yield C.V1.getPhoto({correctOrientation:!0,height:200,width:200,quality:60,allowEditing:!0,resultType:C.dk.DataUrl,source:C.oK.Camera});this.authenticationService.generateFromImage(i.dataUrl,200,200,.5,a=>{"fotoa"===t&&(this.fotoimg=a,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})})}uploadPWA2(t,i){i&&i.length>0&&this.firstFileToBase64(i[0]).then(c=>{this.authenticationService.generateFromImage(c,200,300,.5,h=>{"fotoa"===t&&(this.fotoimg=h,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})},c=>{"fotoa"===t&&(this.fotoimg=null,this.Form.controls.foto1.setValue(""))})}uploadPWA(t){if("fotoa"===t){if(null==this.fotoa)return;this.uploadPWA2(t,this.fotoa.nativeElement.files)}}firstFileToBase64(t){return new Promise((i,a)=>{const c=new FileReader;c&&null!=t?(c.readAsDataURL(t),c.onload=()=>{i(c.result)},c.onerror=h=>{a(h)}):a(new Error("No file found"))})}takePicture2(t){return(0,g.mG)(this,void 0,void 0,function*(){"fotoa"===t&&this.fotoa.nativeElement.click()})}fotodatos(t){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Foto",cssClass:"my-custom-class",buttons:[{text:"Galeria",role:"destructive",icon:"image-outline",handler:()=>{this.takePicture2(t)}},{text:"Camara",icon:"camera-outline",handler:()=>{this.takePicture(t)}}]})).present()})}combodatoslimpia(t,i){return(0,g.mG)(this,void 0,void 0,function*(){this.Form.controls[t].setValue(""),"actividadsiguiente-plantilla"===i&&(this.actividadsig="",this.navParams.get("record"))})}combodatos(t,i,a,c,h,q,x){return(0,g.mG)(this,void 0,void 0,function*(){let F="";""!==x&&(F=this.Form.controls[x].value,this.Form.controls.estado.setValue(""),this.Form.controls.nombre.setValue(""),this.Form.controls.notificacionmsm.setValue(""),this.Form.controls.notificacionemail.setValue(""));const y=yield this.modalController.create({component:v.j,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{grabax:q,variables:this.variables,userinfo:this.userinfo,doble:F,record2:null,op:i,frm:a,bloquear:this.idllave,idllave:this.idllave,idllave0:this.idllave0,titlex:"Buscar "+h}});return y.onWillDismiss().then(te=>{let f=[];f=te,"close"!==f.data&&(f.data?(this.Form.controls[c].setValue(f.data.nombre),"actividadsiguiente-plantilla"===i&&(this.actividadsig=f.data._id,null==this.navParams.get("record")?(this.Form.controls.estado.setValue(f.data.nombre.toLowerCase()),this.idllave>this.actividadsig?(this.Form.controls.nombre.setValue("Rechazar -> "+f.data.nombre.toLowerCase()),this.Form.controls.nombre2.setValue("Rechazar -> "+f.data.nombre.toLowerCase()),this.Form.controls.descripciong.setValue("Rechazar -> "+f.data.nombre.toLowerCase()),this.Form.controls.notificacionmsm.setValue("Usted tiene un rechazo de solicitud de "+this.tituloxx2.toLowerCase()+" en su bandeja de entrada.")):(this.Form.controls.nombre.setValue("Enviar -> "+f.data.nombre.toLowerCase()),this.Form.controls.nombre2.setValue("Enviar -> "+f.data.nombre.toLowerCase()),this.Form.controls.descripciong.setValue("Enviar -> "+f.data.nombre.toLowerCase()),this.Form.controls.notificacionmsm.setValue("Usted tiene una nueva solicitud de "+f.data.nombre.toLowerCase()+" en su bandeja de entrada.")),this.Form.controls.notificacionemail.setValue(this.userinfo[0].email+";mario.morales@mcloude.com;")):this.idllave>this.actividadsig?(this.Form.controls.nombre.setValue("Rechazar -> "+f.data.nombre.toLowerCase()),this.Form.controls.nombre2.setValue("Rechazar -> "+f.data.nombre.toLowerCase()),this.Form.controls.descripciong.setValue("Rechazar -> "+f.data.nombre.toLowerCase()),this.Form.controls.notificacionmsm.setValue("Usted tiene un rechazo de solicitud de "+this.tituloxx2.toLowerCase()+" en su bandeja de entrada.")):(this.Form.controls.nombre.setValue("Enviar -> "+f.data.nombre.toLowerCase()),this.Form.controls.nombre2.setValue("Enviar -> "+f.data.nombre.toLowerCase()),this.Form.controls.descripciong.setValue("Enviar -> "+f.data.nombre.toLowerCase()),this.Form.controls.notificacionmsm.setValue("Usted tiene una nueva solicitud de "+f.data.nombre.toLowerCase()+" en su bandeja de entrada.")))):this.Form.controls[c].setValue(""))}),yield y.present()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.IN),e.Y36(m.sK),e.Y36(b.$),e.Y36(o.X1),e.Y36(o.BX))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-frmacciones-create"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M,5),e.Gf(k,7)),2&t){let a;e.iGM(a=e.CRH())&&(i.inputElement=a.first),e.iGM(a=e.CRH())&&(i.fotoa=a.first)}},decls:122,vars:14,consts:[[1,"create-user-form","ion-page",3,"formGroup"],["color","primary"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"create-form-content"],[1,"user-details-fields","fields-section"],["lines","full",1,"inputs-list"],[1,"input-item"],["position","floating"],["color","danger"],["type","number","inputMode","Number","clearInput","true","formControlName","orden","required",""],["inputId",""],[1,"error-container"],["class","error-message",4,"ngIf"],["inputMode","text","clearInput","true","formControlName","tipo","required","",1,"ion-text-end",3,"readonly","click"],["color","secondary","expand","full","title","Limpiar",3,"click"],["slot","icon-only","name","close-circle-outline"],["title","Seleccione Informaci\xf3n",3,"click"],["slot","icon-only","name","search-outline"],["inputMode","text","clearInput","true","formControlName","subtipo","required","",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","actividadsiguiente","required","",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","nombre","required",""],["inputMode","text","clearInput","true","formControlName","nombre2"],["inputMode","text","clearInput","true","formControlName","ejecutainicio"],["inputMode","text","clearInput","true","formControlName","ejecuta"],["inputMode","text","clearInput","true","formControlName","estado","required",""],["inputMode","text","rows","4","clearInput","true","formControlName","notificacionmsm","required",""],["inputMode","text","rows","4","clearInput","true","formControlName","notificacionemail","required",""],["color","secondary","clearInput","true","formControlName","mandacorreo"],["rows","8","inputMode","text","clearInput","true","formControlName","descripciong"],[1,"form-actions-wrapper"],["color","primary","expand","block","fill","outline","type","submit",3,"disabled","click"],[1,"error-message"],["name","information-circle-outline"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"ion-header"),e.TgZ(2,"ion-toolbar",1),e.TgZ(3,"ion-buttons",2),e.TgZ(4,"ion-button",3),e.NdJ("click",function(){return i.dismissModal()}),e._UZ(5,"ion-icon",4),e.qZA(),e.qZA(),e.TgZ(6,"ion-title",5),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"ion-content",6),e.TgZ(9,"section",7),e.TgZ(10,"ion-list",8),e.TgZ(11,"ion-item",9),e.TgZ(12,"ion-label",10),e._uU(13,"Orden"),e.TgZ(14,"ion-text",11),e._uU(15,"*"),e.qZA(),e.qZA(),e._UZ(16,"ion-input",12,13),e.qZA(),e.TgZ(18,"div",14),e.YNc(19,I,4,0,"div",15),e.qZA(),e.TgZ(20,"ion-item",9),e.TgZ(21,"ion-label"),e._uU(22,"Tipo de acci\xf3n"),e.TgZ(23,"ion-text",11),e._uU(24,"*"),e.qZA(),e.qZA(),e.TgZ(25,"ion-input",16,13),e.NdJ("click",function(){return i.combodatos(1,"1000-tipo-plantilla","frmcats","tipo","Tipo","sigraba","")}),e.qZA(),e.TgZ(27,"ion-buttons",2),e.TgZ(28,"ion-button",17),e.NdJ("click",function(){return i.combodatoslimpia("tipo","1000-tipo-plantilla")}),e._UZ(29,"ion-icon",18),e.qZA(),e.TgZ(30,"ion-button",19),e.NdJ("click",function(){return i.combodatos(1,"1000-tipo-plantilla","frmcats","tipo","Tipo","sigraba","")}),e._UZ(31,"ion-icon",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",14),e.YNc(33,w,4,0,"div",15),e.qZA(),e.TgZ(34,"ion-item",9),e.TgZ(35,"ion-label"),e._uU(36,"Sub tipo de acci\xf3n"),e.TgZ(37,"ion-text",11),e._uU(38,"*"),e.qZA(),e.qZA(),e.TgZ(39,"ion-input",21,13),e.NdJ("click",function(){return i.combodatos(1,"1000-subtipo-plantilla","frmcats","subtipo","Subtipo","sigraba","tipo")}),e.qZA(),e.TgZ(41,"ion-buttons",2),e.TgZ(42,"ion-button",17),e.NdJ("click",function(){return i.combodatoslimpia("subtipo","1000-subtipo-plantilla")}),e._UZ(43,"ion-icon",18),e.qZA(),e.TgZ(44,"ion-button",19),e.NdJ("click",function(){return i.combodatos(1,"1000-subtipo-plantilla","frmcats","subtipo","Subtipo","sigraba","tipo")}),e._UZ(45,"ion-icon",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"div",14),e.YNc(47,L,4,0,"div",15),e.qZA(),e.TgZ(48,"ion-item",9),e.TgZ(49,"ion-label"),e._uU(50,"Actividad Siguiente"),e.TgZ(51,"ion-text",11),e._uU(52,"*"),e.qZA(),e.qZA(),e.TgZ(53,"ion-input",22,13),e.NdJ("click",function(){return i.combodatos(1,"actividadsiguiente-plantilla","frmcats","actividadsiguiente","actividadsiguiente","actividadsiguiente","")}),e.qZA(),e.TgZ(55,"ion-buttons",2),e.TgZ(56,"ion-button",17),e.NdJ("click",function(){return i.combodatoslimpia("actividadsiguiente","actividadsiguiente-plantilla")}),e._UZ(57,"ion-icon",18),e.qZA(),e.TgZ(58,"ion-button",19),e.NdJ("click",function(){return i.combodatos(1,"actividadsiguiente-plantilla","frmcats","actividadsiguiente","actividadsiguiente","actividadsiguiente","")}),e._UZ(59,"ion-icon",20),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",14),e.YNc(61,N,4,0,"div",15),e.qZA(),e.TgZ(62,"ion-item",9),e.TgZ(63,"ion-label",10),e._uU(64,"Nombre"),e.TgZ(65,"ion-text",11),e._uU(66,"*"),e.qZA(),e.qZA(),e._UZ(67,"ion-input",23,13),e.qZA(),e.TgZ(69,"div",14),e.YNc(70,E,4,0,"div",15),e.qZA(),e.TgZ(71,"ion-item",9),e.TgZ(72,"ion-label",10),e._uU(73,"Nombre (Ingles)"),e.qZA(),e._UZ(74,"ion-input",24,13),e.qZA(),e.TgZ(76,"ion-item",9),e.TgZ(77,"ion-label",10),e._uU(78,"Ejecutar rutina antes de grabar"),e.qZA(),e._UZ(79,"ion-input",25),e.qZA(),e.TgZ(80,"ion-item",9),e.TgZ(81,"ion-label",10),e._uU(82,"Ejecutar rutina despues de grabar"),e.qZA(),e._UZ(83,"ion-input",26),e.qZA(),e.TgZ(84,"ion-item",9),e.TgZ(85,"ion-label",10),e._uU(86,"Estado"),e.TgZ(87,"ion-text",11),e._uU(88,"*"),e.qZA(),e.qZA(),e._UZ(89,"ion-input",27,13),e.qZA(),e.TgZ(91,"div",14),e.YNc(92,O,4,0,"div",15),e.qZA(),e.TgZ(93,"ion-item",9),e.TgZ(94,"ion-label",10),e._uU(95," Mensaje a notificar por correo"),e.TgZ(96,"ion-text",11),e._uU(97,"*"),e.qZA(),e.qZA(),e._UZ(98,"ion-textarea",28),e.qZA(),e.TgZ(99,"div",14),e.YNc(100,S,4,0,"div",15),e.qZA(),e.TgZ(101,"ion-item",9),e.TgZ(102,"ion-label",10),e._uU(103," Agregar otros correos para notificar"),e.TgZ(104,"ion-text",11),e._uU(105,"*"),e.qZA(),e.qZA(),e._UZ(106,"ion-textarea",29),e.qZA(),e.TgZ(107,"div",14),e.YNc(108,R,4,0,"div",15),e.qZA(),e.TgZ(109,"ion-item",9),e.TgZ(110,"ion-label"),e._uU(111,"Desea mandar notificaci\xf3n de correo para esta acci\xf3n"),e.qZA(),e._UZ(112,"ion-toggle",30),e.qZA(),e.TgZ(113,"ion-item",9),e.TgZ(114,"ion-label",10),e._uU(115,"Descripci\xf3n general"),e.qZA(),e._UZ(116,"ion-textarea",31),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(117,"ion-footer"),e.TgZ(118,"ion-row",32),e.TgZ(119,"ion-col"),e.TgZ(120,"ion-button",33),e.NdJ("click",function(){return i.submitForm()}),e._uU(121,"CREAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",i.Form),e.xp6(7),e.Oqu(i.tituloxx),e.xp6(12),e.Q6J("ngIf",i.Form.get("orden").hasError("required")&&(i.Form.get("orden").dirty||i.Form.get("orden").touched)),e.xp6(6),e.Q6J("readonly",!0),e.xp6(8),e.Q6J("ngIf",i.Form.get("tipo").hasError("required")&&(i.Form.get("tipo").dirty||i.Form.get("tipo").touched)),e.xp6(6),e.Q6J("readonly",!0),e.xp6(8),e.Q6J("ngIf",i.Form.get("subtipo").hasError("required")&&(i.Form.get("subtipo").dirty||i.Form.get("subtipo").touched)),e.xp6(6),e.Q6J("readonly",!0),e.xp6(8),e.Q6J("ngIf",i.Form.get("actividadsiguiente").hasError("required")&&(i.Form.get("actividadsiguiente").dirty||i.Form.get("actividadsiguiente").touched)),e.xp6(9),e.Q6J("ngIf",i.Form.get("nombre").hasError("required")&&(i.Form.get("nombre").dirty||i.Form.get("nombre").touched)),e.xp6(22),e.Q6J("ngIf",i.Form.get("estado").hasError("required")&&(i.Form.get("estado").dirty||i.Form.get("estado").touched)),e.xp6(8),e.Q6J("ngIf",i.Form.get("notificacionmsm").hasError("required")&&(i.Form.get("notificacionmsm").dirty||i.Form.get("notificacionmsm").touched)),e.xp6(8),e.Q6J("ngIf",i.Form.get("notificacionemail").hasError("required")&&(i.Form.get("notificacionemail").dirty||i.Form.get("notificacionemail").touched)),e.xp6(12),e.Q6J("disabled",!i.Form.valid))},directives:[s._Y,s.JL,s.sg,o.Gu,o.sr,o.Sm,o.YG,o.gu,o.wd,o.W2,o.q_,o.Ie,o.Q$,o.yW,o.pK,o.as,s.JJ,s.u,s.Q7,p.O5,o.j9,o.g2,o.ho,o.w,o.fr,o.Nd,o.wI],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),r})();var j=l(26806);function J(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"ion-button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeToList()}),e._UZ(1,"ion-icon",33),e.qZA()}}function V(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"ion-button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeToGrid()}),e._UZ(1,"ion-icon",34),e.qZA()}}function D(r,d){if(1&r&&(e.TgZ(0,"ion-label"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.lnq("",e.lcZ(2,3,"NOREGISTROSM")," ",t.itemsList.length," ",e.lcZ(3,5,"NOREGISTROSM5"),"")}}function G(r,d){1&r&&(e.TgZ(0,"ion-item",36),e.TgZ(1,"ion-label",37),e._UZ(2,"skeleton-element"),e._UZ(3,"skeleton-element"),e._UZ(4,"skeleton-element",38),e.qZA(),e.qZA())}const Q=function(){return[0,1,2,3,4,5,6]};function Y(r,d){1&r&&(e.TgZ(0,"ion-list"),e.YNc(1,G,5,0,"ion-item",35),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,Q)))}function B(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"ion-item",40),e.TgZ(1,"ion-grid"),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col",41),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(2).updateRecord(c)}),e._UZ(4,"ion-icon",42),e.TgZ(5,"ion-label",37),e.TgZ(6,"ion-note",43),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"p"),e.TgZ(10,"strong"),e._uU(11,"Orden:"),e.qZA(),e._uU(12),e._UZ(13,"br"),e.TgZ(14,"strong"),e._uU(15," Tipo accion:"),e.qZA(),e._uU(16),e._UZ(17,"br"),e.TgZ(18,"strong"),e._uU(19," Sub tipo de acci\xf3n:"),e.qZA(),e._uU(20),e._UZ(21,"br"),e.TgZ(22,"strong"),e._uU(23,"Nombre:"),e.qZA(),e._uU(24),e._UZ(25,"br"),e.TgZ(26,"strong"),e._uU(27,"Nombre (Ingles):"),e.qZA(),e._uU(28),e._UZ(29,"br"),e.TgZ(30,"strong"),e._uU(31,"Ejecutar rutina antes de grabar:"),e.qZA(),e._uU(32),e._UZ(33,"br"),e.TgZ(34,"strong"),e._uU(35,"Ejecutar rutina despues de grabar:"),e.qZA(),e._uU(36),e._UZ(37,"br"),e.TgZ(38,"ion-badge",44),e._uU(39),e.qZA(),e.TgZ(40,"strong"),e._uU(41," Actividad Siguiente:"),e.qZA(),e._uU(42),e._UZ(43,"br"),e.TgZ(44,"strong"),e._uU(45," Mensaje a notificar por correo:"),e.qZA(),e._uU(46),e._UZ(47,"br"),e.TgZ(48,"strong"),e._uU(49," Agregar otros correos para notificar:"),e.qZA(),e._uU(50),e._UZ(51,"br"),e.qZA(),e.TgZ(52,"ion-badge",44),e._uU(53),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"ion-row"),e.TgZ(55,"ion-col",17),e.TgZ(56,"ion-toolbar",45),e.TgZ(57,"ion-buttons",46),e.TgZ(58,"ion-button",5),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(2).deleteRecord(c)}),e.ALo(59,"translate"),e._UZ(60,"ion-icon",47),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=d.$implicit,i=d.index;e.xp6(7),e.hij("No. ",i+1,""),e.xp6(5),e.hij(" ",t.orden," "),e.xp6(4),e.hij(" ",t.tipo," "),e.xp6(4),e.hij(" ",t.subtipo," "),e.xp6(4),e.hij(" ",t.nombre," "),e.xp6(4),e.hij(" ",t.nombre2," "),e.xp6(4),e.hij(" ",t.inicio," "),e.xp6(4),e.hij(" ",t.ejecuta," "),e.xp6(3),e.Oqu(t.estado),e.xp6(3),e.hij(" ",t.actividadsiguiente.nombre," "),e.xp6(4),e.hij(" ",t.notificacionmsm,""),e.xp6(4),e.hij(" ",t.notificacionemail,""),e.xp6(3),e.Oqu(t.estado),e.xp6(5),e.s9C("title",e.lcZ(59,14,"ELIMINARM"))}}function W(r,d){if(1&r&&(e.TgZ(0,"ion-list"),e.YNc(1,B,61,16,"ion-item",39),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.itemsList)("ngForTrackBy",t.trackItems)}}function z(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"ion-col",49),e.TgZ(1,"ion-card"),e.TgZ(2,"ion-row",50),e.TgZ(3,"ion-col"),e.TgZ(4,"span",51),e._uU(5,"No."),e.qZA(),e.TgZ(6,"span",52),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"ion-col"),e.TgZ(9,"span",51),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"ion-item",40),e._UZ(12,"ion-icon",42),e.TgZ(13,"ion-label",53),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(2).updateRecord(c)}),e.TgZ(14,"p"),e.TgZ(15,"strong"),e._uU(16," Orden:"),e.qZA(),e._uU(17),e._UZ(18,"br"),e.TgZ(19,"strong"),e._uU(20," Tipo acci\xf3n:"),e.qZA(),e._uU(21),e._UZ(22,"br"),e.TgZ(23,"strong"),e._uU(24," Sub tipo acci\xf3n:"),e.qZA(),e._uU(25),e._UZ(26,"br"),e.TgZ(27,"strong"),e._uU(28,"Nombre:"),e.qZA(),e._uU(29),e._UZ(30,"br"),e.TgZ(31,"strong"),e._uU(32,"Nombre (Ingles):"),e.qZA(),e._uU(33),e._UZ(34,"br"),e.TgZ(35,"strong"),e._uU(36,"Ejecutar rutina antes de grabar:"),e.qZA(),e._uU(37),e._UZ(38,"br"),e.TgZ(39,"strong"),e._uU(40,"Ejecutar rutina despues de grabar:"),e.qZA(),e._uU(41),e._UZ(42,"br"),e.TgZ(43,"strong"),e._uU(44," Actividad Siguiente:"),e.qZA(),e._uU(45),e._UZ(46,"br"),e.TgZ(47,"strong"),e._uU(48," Mensaje a notificar por correo:"),e.qZA(),e._uU(49),e._UZ(50,"br"),e.TgZ(51,"strong"),e._uU(52," Agregar otros correos para notificar:"),e.qZA(),e._uU(53),e._UZ(54,"br"),e.qZA(),e.qZA(),e.qZA(),e._UZ(55,"ion-card-content"),e.TgZ(56,"ion-row",54),e.TgZ(57,"ion-col",17),e.TgZ(58,"ion-toolbar",45),e.TgZ(59,"ion-buttons",46),e.TgZ(60,"ion-button",5),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(2).deleteRecord(c)}),e.ALo(61,"translate"),e._UZ(62,"ion-icon",47),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=d.$implicit,i=d.index;e.xp6(7),e.hij("",i+1," "),e.xp6(3),e.hij("",t.estado," "),e.xp6(7),e.hij(" ",t.orden," "),e.xp6(4),e.hij(" ",t.tipo," "),e.xp6(4),e.hij(" ",t.subtipo," "),e.xp6(4),e.hij(" ",t.nombre," "),e.xp6(4),e.hij(" ",t.nombre2," "),e.xp6(4),e.hij(" ",t.inicio," "),e.xp6(4),e.hij(" ",t.ejecuta," "),e.xp6(4),e.hij(" ",t.actividadsiguiente.nombre," "),e.xp6(4),e.hij(" ",t.notificacionmsm,""),e.xp6(4),e.hij(" ",t.notificacionemail,""),e.xp6(7),e.s9C("title",e.lcZ(61,13,"ELIMINARM"))}}function K(r,d){if(1&r&&(e.TgZ(0,"ion-grid"),e.TgZ(1,"ion-row"),e.YNc(2,z,63,15,"ion-col",48),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.itemsList)("ngForTrackBy",t.trackItems)}}function H(r,d){1&r&&(e.TgZ(0,"h3",55),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NODATOS")," "))}let $=(()=>{class r{constructor(t,i,a,c,h,q){this.routerOutlet=t,this.router=i,this.authenticationService=a,this.alertController=c,this.translateService=h,this.modalController=q,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.userinfo=[],this.viewType="grid",this.tituloxx="",this.tituloxx2="",this.efecto=0,this.seguro="",this.msg="",this.currentSegment="Todos",this.searchSubject=new u.t(1),this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}ngOnInit(){this.variables=this.router.getCurrentNavigation().extras.state.variables,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.idllave0=this.router.getCurrentNavigation().extras.state.idllave0,this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.title,this.tituloxx2=this.router.getCurrentNavigation().extras.state.title2,this.searchQuery="",this.translateService.get("SEGUROM").subscribe(t=>{this.seguro=t}),this.translateService.get("MSGM").subscribe(t=>{this.msg=t}),this.rangeForm=new s.cw({dual:new s.NI({lower:1,upper:100})}),this.currentSegment="todos",this.pideregistros(this.currentSegment)}filterContacts(t){let i=t.detail.value;this.currentSegment=i,this.pideregistros(i)}pideregistros0(){this.pideregistros(this.currentSegment)}pideregistros(t){this.itemsList=[],this.efecto=0,this.authenticationService.getReg("todos/"+t+"/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"frmaccioness",0).then(i=>{this.efecto=1,this.items=i,this.itemsList=this.items},i=>{this.authenticationService.presentAlert(i.error,this.msg,"")})}trackItems(t,i){return i.id}searchList(){this.searchSubject.next({lower:this.rangeForm.controls.dual.value.lower,upper:this.rangeForm.controls.dual.value.upper,query:this.searchQuery}),this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(t,i){return t.filter(a=>a.nombre.toLowerCase().includes(i.toLowerCase()))}otrasop(t){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Seleccione Opci\xf3n",inputs:[{name:"Productos",type:"radio",label:"Productos",checked:!0,value:"/ProductoListPage\xb0Productos ->"+t.nombre}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:a=>{}},{text:"Ok",handler:a=>{var c=a.split("\xb0");this.router.navigate([c[0]],{state:{variables:this.variables,user:null,idllave:t._id,title:c[1]}})}}]})).present()})}deleteRecord(t){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:"No",cssClass:"secondary",handler:a=>{}},{text:"Si",handler:()=>{this.authenticationService.deleteReg(t._id+"/"+this.userinfo[0].email+"/"+this.userinfo[0].idempresa._id+"/na","frmaccioness").then(c=>{this.pideregistros(this.currentSegment)},c=>{this.authenticationService.presentAlert(c.error,this.msg,"")})}}]})).present()})}updateRecord(t){return(0,g.mG)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:P,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{variables:this.variables,record:t,userinfo:this.userinfo,idllave:this.idllave,idllave0:this.idllave0,title:this.tituloxx,title2:this.tituloxx2},cssClass:"modal-fullscreen"});return i.onWillDismiss().then(a=>{"close"!==a.data&&this.pideregistros(this.currentSegment)}),yield i.present()})}addRecord(){return(0,g.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:P,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,idllave:this.idllave,idllave0:this.idllave0,title:this.tituloxx,title2:this.tituloxx2},cssClass:"modal-fullscreen"});return t.onWillDismiss().then(i=>{"close"!==i.data&&this.pideregistros(this.currentSegment)}),yield t.present()})}loadData(t){setTimeout(()=>{t.target.complete(),1e3===this.items.length&&(t.target.disabled=!0)},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.jP),e.Y36(Z.F0),e.Y36(b.$),e.Y36(o.Br),e.Y36(m.sK),e.Y36(o.IN))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-frmacciones-list"]],viewQuery:function(t,i){if(1&t&&e.Gf(o.ju,5),2&t){let a;e.iGM(a=e.CRH())&&(i.infiniteScroll=a.first)}},decls:55,vars:35,consts:[["color","primary"],["slot","start"],["defaultHref","frmactividadListPage"],["size","small"],["collapse","true","slot","end"],[3,"title","click"],["slot","icon-only","name","add"],["slot","icon-only","name","refresh-circle-outline"],[3,"click",4,"ngIf"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"call-to-action-col",3,"hidden"],["fill","clear","color","secondary",1,"filters-btn",3,"title","click"],["slot","icon-only","name","options"],[3,"formGroup","hidden"],[1,"range-item-row"],["size","12"],[1,"range-header"],[1,"range-value"],[1,"range-label"],["formControlName","dual","color","secondary","pin","true","dualKnobs","true","min","1","max","100","step","1","debounce","400",1,"range-control",3,"ionChange"],[1,"user-friends-content"],["sticky",""],[4,"ngIf"],["value","todos",3,"ionChange"],["value","todos","checked",""],["value","Activo"],["value","Inactivo"],["class","empty-list-message",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Espere un momento..."],[3,"click"],["slot","icon-only","name","grid"],["slot","icon-only","name","list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],["width","67%"],["class","item md in-list ion-activatable ion-focusable item-label hydrated",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item","md","in-list","ion-activatable","ion-focusable","item-label","hydrated"],["size","12",3,"click"],["name","server-outline","slot","start"],["slot","end"],["color","medium"],["color","transparent"],["slot","secondary"],["slot","icon-only","name","trash-outline"],["size-lg","6","size-sm","6","size","12",4,"ngFor","ngForOf","ngForTrackBy"],["size-lg","6","size-sm","6","size","12"],[1,"user-stats-wrapper","user-details-wrapper"],[1,"user-stat-value"],[1,"user-stat-name"],[1,"ion-text-wrap",3,"click"],["no-padding",""],[1,"empty-list-message"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title",3),e._uU(5),e.qZA(),e.TgZ(6,"ion-buttons",4),e.TgZ(7,"ion-button",5),e.NdJ("click",function(){return i.addRecord()}),e.ALo(8,"translate"),e._UZ(9,"ion-icon",6),e.qZA(),e.TgZ(10,"ion-button",5),e.NdJ("click",function(){return i.pideregistros0()}),e.ALo(11,"translate"),e._UZ(12,"ion-icon",7),e.qZA(),e.YNc(13,J,2,0,"ion-button",8),e.YNc(14,V,2,0,"ion-button",8),e.qZA(),e.qZA(),e.TgZ(15,"ion-toolbar",9),e.TgZ(16,"ion-row",10),e.TgZ(17,"ion-col"),e.TgZ(18,"ion-searchbar",11),e.NdJ("ngModelChange",function(c){return i.searchQuery=c})("ionChange",function(){return i.searchList()}),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.TgZ(20,"ion-col",12),e.TgZ(21,"ion-button",13),e.NdJ("click",function(){return i.showAgeFilter=!i.showAgeFilter}),e.ALo(22,"translate"),e._UZ(23,"ion-icon",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"form",15),e.TgZ(25,"ion-row",16),e.TgZ(26,"ion-col",17),e.TgZ(27,"div",18),e.TgZ(28,"span",19),e._uU(29),e.qZA(),e.TgZ(30,"span",20),e._uU(31,"Filter by age"),e.qZA(),e.TgZ(32,"span",19),e._uU(33),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"ion-col",17),e.TgZ(35,"ion-range",21),e.NdJ("ionChange",function(){return i.searchList()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"ion-content",22),e.TgZ(37,"ion-item-divider",23),e.YNc(38,D,4,7,"ion-label",24),e.qZA(),e.TgZ(39,"ion-segment",25),e.NdJ("ionChange",function(c){return i.filterContacts(c)}),e.TgZ(40,"ion-segment-button",26),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"ion-segment-button",27),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"ion-segment-button",28),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.qZA(),e.YNc(49,Y,2,2,"ion-list",24),e.YNc(50,W,2,2,"ion-list",24),e.YNc(51,K,3,2,"ion-grid",24),e.YNc(52,H,3,3,"h3",29),e.TgZ(53,"ion-infinite-scroll",30),e.NdJ("ionInfinite",function(c){return i.loadData(c)}),e._UZ(54,"ion-infinite-scroll-content",31),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij(" ",i.tituloxx," "),e.xp6(2),e.MGl("title"," ",e.lcZ(8,21,"AGREGARM"),""),e.xp6(3),e.MGl("title"," ",e.lcZ(11,23,"REFRESCARM"),""),e.xp6(3),e.Q6J("ngIf","grid"===i.viewType),e.xp6(1),e.Q6J("ngIf","list"===i.viewType),e.xp6(4),e.s9C("placeholder",e.lcZ(19,25,"BUSCARM")),e.Q6J("ngModel",i.searchQuery),e.xp6(2),e.Q6J("hidden",!i.showAgeFilter),e.xp6(1),e.MGl("title"," ",e.lcZ(22,27,"FILTROM"),""),e.xp6(3),e.Q6J("formGroup",i.rangeForm)("hidden",!i.showAgeFilter),e.xp6(5),e.Oqu(i.rangeForm.controls.dual.value.lower),e.xp6(4),e.Oqu(i.rangeForm.controls.dual.value.upper),e.xp6(5),e.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0),e.xp6(3),e.hij(" ",e.lcZ(42,29,"TODOSM")," "),e.xp6(3),e.hij(" ",e.lcZ(45,31,"ACTIVOSM")," "),e.xp6(3),e.hij(" ",e.lcZ(48,33,"INACTIVOSM")," "),e.xp6(2),e.Q6J("ngIf",0===i.efecto),e.xp6(1),e.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"list"===i.viewType),e.xp6(1),e.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"grid"===i.viewType),e.xp6(1),e.Q6J("ngIf",0===(null==i.itemsList?null:i.itemsList.length)))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.YG,o.gu,p.O5,o.Nd,o.wI,o.VI,o.j9,s.JJ,s.On,s._Y,s.JL,s.sg,o.I_,o.QI,s.u,o.W2,o.rH,o.cJ,o.GO,o.ju,o.MB,o.Q$,o.q_,p.sg,o.Ie,j.B,o.jY,o.uN,o.yp,o.PM,o.FN],pipes:[m.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),r})();var X=l(22675);let ee=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,o.Pc,n.K,X.v,s.u5,s.UX,A.YL,Z.Bz.forChild([{path:"",component:$}]),m.aw.forChild()]]}),r})()},22675:(U,T,l)=>{l.d(T,{v:()=>g});var o=l(69808),Z=l(93075),p=l(51062),n=l(23349),m=l(55787),s=l(56604),A=l(5e3);let g=(()=>{class b{}return b.\u0275fac=function(_){return new(_||b)},b.\u0275mod=A.oAB({type:b}),b.\u0275inj=A.cJS({imports:[[o.ez,Z.u5,Z.UX,n.Pc,m.Bz,s.Cl,p.aw.forChild()]]}),b})()},63814:(U,T,l)=>{l.d(T,{B:()=>A});var o=l(70655),Z=l(47423),p=l(96090),n=l(5e3),m=l(23349);const s=["search"];let A=(()=>{class g{constructor(u,_,v){this.modalController=u,this.ngZone=_,this.navParams=v,this.title="AGM project",this.zoom=16}dismissModal(){this.modalController.dismiss("close")}dadireccion(){this.modalController.dismiss({direccion:this.address,la:this.latitude,lo:this.longitude})}ngOnInit(){this.uubx=this.navParams.get("uubx")}loadMap(){}clearWatch(){null!=this.watchId&&p.b.clearWatch({id:this.watchId})}setCurrentLocationa33(){if(Z.dV.isPluginAvailable("Geolocation"))try{this.watchId=p.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(u,_)=>{u&&(this.latitude=u.coords.latitude,this.longitude=u.coords.longitude)})}catch(u){console.error(u)}}setCurrentLocationa(){try{this.watchId=p.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(u,_)=>{u&&(this.latitude=u.coords.latitude,this.longitude=u.coords.longitude,this.getAddress(this.latitude,this.longitude))})}catch(u){console.error(u)}}setCurrentLocation2a(){if(Z.dV.isPluginAvailable("Geolocation"))try{this.watchId=p.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(u,_)=>{this.latitude=Number(this.uubx.substring(this.uubx.indexOf("{")+1,this.uubx.indexOf("\xb0"))),this.longitude=Number(this.uubx.substring(this.uubx.indexOf("\xb0")+1,this.uubx.indexOf("}"))),0!==this.latitude&&this.latitude&&this.getAddress(this.latitude,this.longitude)})}catch(u){console.error(u)}}markerDragEnd(u){0!==this.latitude&&this.latitude&&(this.latitude=u.coords.lat,this.longitude=u.coords.lng,this.getAddress(this.latitude,this.longitude))}getAddress(u,_){this.geoCoder.geocode({location:{lat:u,lng:_}},(v,C)=>{"OK"===C?v[0]?this.address=v[0].formatted_address:window.alert("No results found"):window.alert("Geocoder failed due to: "+C)})}closeModal(){return(0,o.mG)(this,void 0,void 0,function*(){this.modalController.dismiss("close")})}}return g.\u0275fac=function(u){return new(u||g)(n.Y36(m.IN),n.Y36(n.R0b),n.Y36(m.X1))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-my-modal"]],viewQuery:function(u,_){if(1&u&&n.Gf(s,5),2&u){let v;n.iGM(v=n.CRH())&&(_.searchElementRef=v.first)}},decls:19,vars:6,consts:[[3,"translucent"],["color","primary"],["shape","round","color","dark",3,"click"],["slot","start","name","locate"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"ion-padding",3,"fullscreen"],["id","book-search-input","role","search"],["type","text","placeholder","Ingrese direcci\xf3n","autocorrect","off","autocapitalize","off","spellcheck","off","type","text",1,"book-search-input","native-input","sc-ion-input-ios",3,"keydown.enter"],["search",""],["type","submit","expand","block",1,"login-btn",3,"click"]],template:function(u,_){1&u&&(n.TgZ(0,"ion-header",0),n.TgZ(1,"ion-toolbar",1),n.TgZ(2,"ion-button",2),n.NdJ("click",function(){return _.loadMap()}),n._UZ(3,"ion-icon",3),n._uU(4," Ubicaci\xf3n "),n.qZA(),n.TgZ(5,"ion-buttons",4),n.TgZ(6,"ion-button",5),n.NdJ("click",function(){return _.closeModal()}),n._UZ(7,"ion-icon",6),n.qZA(),n.qZA(),n.TgZ(8,"ion-title",7),n._uU(9),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"ion-content",8),n._uU(11),n.TgZ(12,"div",9),n.TgZ(13,"input",10,11),n.NdJ("keydown.enter",function(C){return C.preventDefault()}),n.qZA(),n.qZA(),n.TgZ(15,"h5"),n._uU(16),n.qZA(),n.TgZ(17,"ion-button",12),n.NdJ("click",function(){return _.dadireccion()}),n._uU(18,"Seleccionar"),n.qZA(),n.qZA()),2&u&&(n.Q6J("translucent",!0),n.xp6(9),n.Oqu(_.tituloxx),n.xp6(1),n.Q6J("fullscreen",!0),n.xp6(1),n.AsE("\n",_.latitude,", ",_.longitude," "),n.xp6(5),n.hij("Direcci\xf3n: ",_.address,""))},directives:[m.Gu,m.sr,m.YG,m.gu,m.Sm,m.wd,m.W2],styles:[".book-search-input[_ngcontent-%COMP%]{padding:6px;background:0 0;transition:top .5s ease;background:#bdbaba;border-bottom:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);margin-bottom:10px;margin-top:-1px;color:#fff;width:100%}"]}),g})()},26806:(U,T,l)=>{l.d(T,{B:()=>n});var o=l(5e3),Z=l(69808);const p=function(m,s){return{"no-animated":m,inline:s}};let n=(()=>{class m{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return m.\u0275fac=function(A){return new(A||m)},m.\u0275cmp=o.Xpm({type:m,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(A,g){1&A&&o._UZ(0,"div",0),2&A&&o.Q6J("ngClass",o.WLB(2,p,g.noAnimated,g.inline))("ngStyle",g.styles)},directives:[Z.mk,Z.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),m})()}}]);