{"version":3,"sources":["webpack:///src/app/components/skeleton-element/skeleton-element.component.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariofotos2-list/formulariofotos2-list.module.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariofotos2-list/formulariofotos2-create/formulariofotos2-create.page.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariofotos2-list/formulariofotos2-list.page.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariofotos2-list/formulariofotos2-list.page.html","webpack:///src/app/DESARROLLO/FORMULARIO/formulariofotos2-list/formulariofotos2-create/formulariofotos2-create.page.html","webpack:///src/app/DESARROLLO/modals/my-modal/my-modal.page.ts","webpack:///src/app/components/skeleton-element/skeleton-element.component.html"],"names":["SkeletonElementComponent","width","height","borderRadius","rounded","noAnimated","inline","styles","this","formulariofotos2ListPageModule","modalController","translateService","authenticationService","navParams","actionSheetController","variables","userinfo","tituloxx","fileToUpload","vgrupo","apifoto","getapifoto","setTimeout","inputElement","setFocus","dismiss","get","idllave","Form","compose","required","pattern","subscribe","value","lpermiso","_ID","data","record","_id","controls","setValue","nombre","convertToDataURLviaCanvas","foto","then","base64","fotoimg","options","idempresa","idpapa","bitacora","idafiliado","email","permiso","accion","loadingPresent","createRegsinload","result","datat","formData2","FormData","append","name","addNewEvent","loadingDismiss","valid","err","presentAlert","error","submitForm0","submitForm1","op","op2","uub","modal","create","component","swipeToClose","backdropDismiss","animated","presentingElement","getTop","componentProps","uubx","onWillDismiss","direccion","la","lo","present","image","Camera","getPhoto","correctOrientation","quality","allowEditing","resultType","DataUrl","source","generateFromImage","dataUrl","procesafoto","controlx","length","item","fotoa","uploadPWA2","nativeElement","files","click","takePicture2","catalogot","frmt","comp","labelx","sigraba","grabax","record2","frm","titlex","datax","routerOutlet","router","alertController","showAgeFilter","showmenu","items","viewType","efecto","seguro","msg","currentSegment","searchSubject","ReplaySubject","getCurrentNavigation","extras","state","getcopiauser","title","searchQuery","rangeForm","dual","lower","upper","pideregistros","event","selectedCategory","detail","itemsList","getReg","next","query","filterList","list","filter","toLowerCase","includes","alert","cssClass","header","inputs","type","label","checked","buttons","text","role","handler","todo","console","log","arr","split","navigate","user","addNewEvent2","message","blah","deleteReg","nativeEl","target","complete","disabled","MyModalPage","mapsAPILoader","ngZone","zoom","address","latitude","longitude","load","setCurrentLocationa","setCurrentLocation2a","geoCoder","google","maps","Geocoder","autocomplete","places","Autocomplete","searchElementRef","types","addListener","run","place","getPlace","geometry","location","lat","lng","getAddress","setCurrentLocationa33","watchId","Geolocation","clearWatch","id","isPluginAvailable","watchPosition","timeout","enableHighAccuracy","maximumAge","coords","e","Number","substring","indexOf","$event","geocode","results","status","formatted_address","window"],"mappings":"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","file":"x","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'skeleton-element',\n  templateUrl: './skeleton-element.component.html',\n  styleUrls: ['./skeleton-element.component.scss'],\n})\nexport class SkeletonElementComponent implements OnInit {\n  @Input() width: string = '100%';\n  @Input() height: string = '16px';\n  @Input() borderRadius: string = '0';\n  @Input() rounded: boolean = false;\n  @Input() noAnimated: boolean = false;\n  @Input() inline: boolean = false;\n\n  styles: any = {};\n\n  ngOnInit() {\n    this.styles = {\n      width: this.width,\n      height: this.height,\n      borderRadius: this.borderRadius,\n    }\n\n    if (this.rounded) {\n      this.styles.borderRadius = '999em';\n    }\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule} from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgxIonicImageViewerModule } from 'ngx-ionic-image-viewer';\nimport { formulariofotos2CreatePage } from './formulariofotos2-create/formulariofotos2-create.page';\nimport { formulariofotos2ListPage } from './formulariofotos2-list.page';\n@NgModule({\n  declarations: [\n    formulariofotos2ListPage, formulariofotos2CreatePage\n  ],\n  imports: [\n    CommonModule,IonicModule, ComponentsModule, FormsModule,  ReactiveFormsModule, NgxIonicImageViewerModule,\n    RouterModule.forChild([{ path: '', component: formulariofotos2ListPage }]), TranslateModule.forChild(),\n  ],\n  entryComponents: [\n    formulariofotos2CreatePage\n  ],\n})\nexport class formulariofotos2ListPageModule {}\n","import { Component, OnInit , ViewChild ,  ElementRef} from '@angular/core';\nimport { ModalController , NavParams , ActionSheetController, IonInput } from '@ionic/angular';\nimport { FormGroup, FormControl, Validators, FormGroupDirective } from '@angular/forms';\nimport { AuthenticationService } from '../../../services/Authentication.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MyModalPage } from '../../../modals/my-modal/my-modal.page';\nimport { MyModalComboPage } from './../../../modals/my-modal-combo/my-modal-combo.page';\nimport {Plugins,  CameraResultType,  CameraSource} from '@capacitor/core';\nimport { SafeResourceUrl } from '@angular/platform-browser';\nimport { HttpErrorResponse } from '@angular/common/http';\n@Component({\n  selector: 'app-formulariofotos2-create',\n  templateUrl: './formulariofotos2-create.page.html',\n  styleUrls: ['./formulariofotos2-create.page.scss'],\n})\nexport class formulariofotos2CreatePage implements OnInit {\n@ViewChild('inputId', {  static: false })  inputElement: IonInput;\n @ViewChild('fotoa', {static: true}) fotoa: ElementRef;\n\n fotoimg: SafeResourceUrl;\n  Form: FormGroup;\n // @ViewChild('createForm', { static: false }) createForm: FormGroupDirective;\n  variables: any = [];\n  userinfo: any = [];\n  idllave: any ;\n  tituloxx = '';\n  fileToUpload: File = null;\n  vgrupo: any = [];\n  _ID: any;\n  lpermiso: any;\n  apifoto: String ;\n\n  constructor(\n    private modalController: ModalController,\n    public translateService: TranslateService    , private authenticationService: AuthenticationService,\n    private navParams: NavParams , public actionSheetController: ActionSheetController\n  ) { this.apifoto = this.authenticationService.getapifoto(); }\n  ngAfterViewInit() {    setTimeout(() => {       this.inputElement.setFocus();  }, 400); }\n  dismissModal() {     this.modalController.dismiss('close');      }\n  ionViewDidEnter(): void {               }\n  ngOnInit(): void {\n    this.variables = this.navParams.get('variables');\n    this.userinfo = this.navParams.get('userinfo');\n    this.idllave =  this.navParams.get('idllave');\n    this.tituloxx =  this.navParams.get('title');\n    this.Form = new FormGroup({\n       'nombre': new FormControl('', Validators.compose([Validators.required, Validators.pattern('[a-zA-Z0-9-_()áéíóúÁÉÍÓÚ#*$!? ñÑ&+-/.]*')])),\n       'foto': new FormControl('', Validators.required),\n    });\n    if (this.navParams.get('record') == null) {\n       this.translateService.get('NUEVOM').subscribe((value) => {   this.tituloxx = value + ' ' + this.tituloxx; this.lpermiso = value; });\n\n    } else {\n       this.translateService.get('ACTUALIZAM').subscribe((value) => {this.tituloxx = value + ' ' + this.tituloxx; this.lpermiso = value; });\n       this._ID \t\t\t\t=\tthis.navParams.data.record._id;\n       this.Form.controls['nombre'].setValue(this.navParams.data.record.nombre);\n       this.authenticationService.convertToDataURLviaCanvas(this.authenticationService.getapifoto() +  this.navParams.data.record.foto, 'image/jpeg').\n       then( base64 => this.fotoimg = base64);\n       this.Form.controls['foto'].setValue(this.navParams.data.record.foto);\n    }\n  }\n\n                        submitForm0() {\n\n                                      const   options: any\t     = {\n                                        idempresa: this.userinfo[0].idempresa._id,\n                                          idpapa: this.idllave,\n                                        nombre  : this.Form.controls['nombre'].value,\n                                        foto  : this.Form.controls['foto'].value,\n                                        bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                                        email: this.userinfo[0].email , permiso : this.lpermiso, accion: this.tituloxx}\n                                    };\n                                      if (options) {\n                                        this.authenticationService.loadingPresent()\n                                        this.authenticationService.createRegsinload('', options, 'formulariofotos2s').then((result) => {\n\n                                          let datat: any = [];  datat = result;\n                                          const formData2: FormData = new FormData();\n\n                                          formData2.append('uploadedFile', this.fileToUpload, this.fileToUpload.name);\n                                          formData2.append('name', datat._id);\n                                          formData2.append('description', 'descripcion file');\n                                          this.authenticationService.addNewEvent(formData2).subscribe(\n                                            (data: any) => {\n                                              this.authenticationService.loadingDismiss();\n                                              if (!this.Form.valid) { return; }\n                                              this.modalController.dismiss('ok');\n                                          },\n                                          (err: HttpErrorResponse) => {\n                                            this.authenticationService.loadingDismiss();\n                                            this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                                          }\n                                          );\n\n\n                                      }, (err) => {\n                                        this.authenticationService.loadingDismiss();\n                                        this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                                      });\n                                      }\n\n                              }\n                              submitForm1() {\n                                      const   options: any\t     = {\n                                        idempresa: this.userinfo[0].idempresa._id,\n                                          idpapa: this.idllave,\n                                        nombre  : this.Form.controls['nombre'].value,\n                                        foto  : this.Form.controls['foto'].value,\n                                        bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                                        email: this.userinfo[0].email , permiso : this.lpermiso, accion: this.tituloxx}\n                                    };\n                                      if (options) {\n                                        this.authenticationService.loadingPresent();\n                                        this.authenticationService.createRegsinload(this._ID, options, 'formulariofotos2s').then((result) => {\n                                          let datat: any = [];  datat = result;\n                                          const formData2: FormData = new FormData();\n\n                                          formData2.append('uploadedFile', this.fileToUpload, this.fileToUpload.name);\n                                          formData2.append('name', datat._id);\n                                          formData2.append('description', 'descripcion file');\n                                          this.authenticationService.addNewEvent(formData2).subscribe(\n                                            (data: any) => {\n                                              this.authenticationService.loadingDismiss();\n                                              if (!this.Form.valid) { return; }\n                                              this.modalController.dismiss('ok');\n                                          },\n                                          (err: HttpErrorResponse) => {\n                                            this.authenticationService.loadingDismiss();\n                                            this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                                          }\n                                          );\n\n\n\n                                      }, (err) => {\n                                        this.authenticationService.loadingDismiss();\n                                        this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                                      });\n                                      }\n\n                              }\n                                submitForm() {\n                                    if (this.navParams.get('record') == null) {\n                                      this.submitForm0();\n                                    } else {\n                                      this.submitForm1();\n                                    }\n                                }\n  async dacomponente(op, op2) {\n        let uub = '';\n        if ( op === 'ubicacion') {uub = this.Form.controls['ubicacion'].value; }\n        const modal = await this.modalController.create({\n          component: MyModalPage,      swipeToClose: false,    backdropDismiss: false,     animated: true,\n          presentingElement: await this.modalController.getTop(),\n          componentProps:  { variables:  this.variables, record: null, userinfo: this.userinfo, uubx : uub}\n          // , cssClass: 'modal-fullscreen'\n        });\n        modal.onWillDismiss().then((data) => {\n             if ( data.data === 'close' ) {     }      else      {\n             if (op === 'direccion') {\n              this.Form.controls['direccion'].setValue(data.data.direccion);\n             } else {\n              this.Form.controls['ubicacion'].setValue(data.data.direccion + ' {' + data.data.la + '°' + data.data.lo + '}');\n             }\n            }\n        });\nreturn await modal.present();\n      }\n  /*************************************************+++++FOTOS */\n  async takePicture(op) {\n  const image = await Plugins.Camera.getPhoto({\n  correctOrientation: true,\n            height: 200,\n            width: 200,\n                quality: 60,\n  allowEditing: true,\n            resultType: CameraResultType.DataUrl,\n            source: CameraSource.Camera\n          });\n          this.authenticationService.generateFromImage(image.dataUrl, 200, 200, 0.5, data => {\n            switch (op) {\n              case 'fotoa': this.fotoimg = data;   this.Form.controls['foto'].setValue( this.authenticationService.procesafoto(this.Form.controls['foto'].value)); break;\n                default:\n            }\n        });\n        }\n\n\n      uploadPWA2(op , controlx) {\n            const fileList: FileList = controlx;\n            if (fileList && fileList.length > 0) {\n\n\n              this.fileToUpload = fileList.item(0);\n\n              this.Form.controls['foto'].setValue(this.fileToUpload.name);\n\n\n\n\n\n\n      }\n    }\n  uploadPWA(op) {\n  switch (op) {\n  case 'fotoa':  if (this.fotoa == null ) { return; }\n  this.uploadPWA2(op , this.fotoa.nativeElement.files); break;\n  default:\n  }\n  }\n\n        async takePicture2(op) {\n  if ( op === 'fotoa')  {     this.fotoa.nativeElement.click();  }\n        }\n        async fotodatos( op ) {\n          this.takePicture2(op);\n        }\n      /****************************************COMBO DE DATOS */\n      async combodatos( op ,  catalogot, frmt, comp, labelx, sigraba) {\n          const modal = await this.modalController.create({\n            component: MyModalComboPage,   swipeToClose: false,     backdropDismiss: false,    animated: true,\n            presentingElement: await this.modalController.getTop(),\n            componentProps: {grabax: sigraba , variables:  this.variables, userinfo: this.userinfo\n              ,  record2 : null , op:  catalogot, frm: frmt, idllave : this.idllave, titlex: 'Buscar ' + labelx}\n            // , cssClass: 'modal-fullscreen'\n          });\n          modal.onWillDismiss().then((data) => {\n            let datax: any = [];\n            datax = data;\n    if (datax.data !==  'close')       {\n        if (datax.data) {this.Form.controls[comp].setValue(datax.data.nombre);\n            //  this.Form.controls[comp].id = datax.data._id\n            } else {        this.Form.controls[comp].setValue('');       }\n          }\n});\n          return await modal.present();\n        }\n}\n","import { Component , OnInit , ViewChild } from '@angular/core';\nimport {AlertController, ModalController ,  IonRouterOutlet} from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport {  Router, NavigationExtras } from '@angular/router';\nimport { AuthenticationService } from '../../services/Authentication.service';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ReplaySubject} from 'rxjs';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport { formulariofotos2CreatePage } from './formulariofotos2-create/formulariofotos2-create.page';\nimport { HttpErrorResponse } from '@angular/common/http';\n\n\n@Component({\nselector: 'page-formulariofotos2-list',\ntemplateUrl: 'formulariofotos2-list.page.html',\nstyleUrls: ['./formulariofotos2-list.page.scss'],\n})\nexport class formulariofotos2ListPage implements OnInit {\n@ViewChild(IonInfiniteScroll, { static : false }) infiniteScroll: IonInfiniteScroll;\nrangeForm: FormGroup;\nsearchQuery: string;\nshowAgeFilter = false;showmenu = false;\nitems: any  = [] ;\nvariables: any = [];\nuserinfo: any = [];\nidllave:any;\nviewType = 'grid';\ntituloxx = '';\nefecto = 0;\nseguro ='';\nmsg = '';\napifoto: String;\nitemsList: Array<any>;\npublic currentSegment: string = \"Todos\";\nsearchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\nconstructor(  private routerOutlet: IonRouterOutlet , private router: Router, private authenticationService: AuthenticationService,\n   public alertController: AlertController,     public translateService: TranslateService    ,    private modalController: ModalController\n   ) {  this.apifoto = this.authenticationService.getapifoto();\n }\nchangeToList() { this.viewType = 'list'; }\nchangeToGrid() {   this.viewType = 'grid';  }\nngOnInit() {\n    this.variables = this.router.getCurrentNavigation().extras.state.variables;\n    this.idllave = this.router.getCurrentNavigation().extras.state.idllave;\n    this.userinfo = this.authenticationService.getcopiauser();\n    this.tituloxx =this.router.getCurrentNavigation().extras.state.title\n    this.searchQuery = '';\n    this.translateService.get('SEGUROM').subscribe((value) => {   this.seguro = value  });\n    this.translateService.get('MSGM').subscribe((value) => {   this.msg = value  });\n    this.rangeForm = new FormGroup({    dual: new FormControl({lower: 1, upper: 100})   });   \n    this.currentSegment = 'todos';\n    this.pideregistros( this.currentSegment);\n  }\n  filterContacts(event: any) {\n    let selectedCategory = event.detail.value;\n    this.currentSegment = selectedCategory;\n    this.pideregistros(selectedCategory);\n  }\n  pideregistros0() {\n   this.pideregistros(this.currentSegment);\n  }\n  pideregistros(op) {\n       this.itemsList = [];\n       this.efecto = 0 ;\n      // this.authenticationService.getReg('todos/' + op + '/' + this.userinfo[0].idempresa._id + '/' + this.idllave, 'formulariofotos2s', 0).then((data) => {\n       this.authenticationService.getReg('todos/' + op + '/' + this.userinfo[0].idempresa._id+ '/' + this.idllave, 'formulariofotos2s', 0).then((data) => {\n       this.efecto=1;\n       this.items =  data;\n       this.itemsList = this.items;\n }, (err) => {\n   this.authenticationService.presentAlert(err.error , this.msg , '');\n });\n  }\n  searchList() {\n    this.searchSubject.next({\n     lower: this.rangeForm.controls.dual.value.lower,\n     upper: this.rangeForm.controls.dual.value.upper,\n     query: this.searchQuery\n   });\n    const query = (this.searchQuery && this.searchQuery !== null) ? this.searchQuery : '';\n    this.itemsList = this.filterList(this.items, query);\n  }\n filterList(list, query): Array<any> {\n   return list.filter(item => item.nombre.toLowerCase().includes(query.toLowerCase()));\n  }\n  async otrasop(item: any) { \n      const alert = await this.alertController.create({\n        cssClass: 'my-custom-class',\n       header: 'Seleccione Opción',\n       inputs: [\n         {\n           name: 'Productos',\n           type: 'radio',\n           label: 'Productos',\n           checked: true,\n           value: '/ProductoListPage°Productos ->' + item.nombre,\n         }\n       ],\n       buttons: [\n         {\n           text: 'Cancel',\n           role: 'cancel',\n           cssClass: 'secondary',\n           handler: (todo) => {\n             console.log(todo);\n           }\n         }, {\n           text: 'Ok',\n           handler: (todo) => {\n             var arr = todo.split('°');\n             const navigationExtras: NavigationExtras = {\n               state: {\n                 variables: this.variables,\n                 user: null,\n                 idllave: item._id,\n                 title: arr[1]\n               }\n             };\n             this.router.navigate([arr[0]], navigationExtras);\n           }\n         }\n       ]\n     });\n     await alert.present();   \n }\n\n async descargar(item: any) {\n\n  const formData2: FormData = new FormData();\n\n\n  formData2.append('name', '111');\n  formData2.append('description', 'descripcion file');\n\n\n  this.authenticationService.addNewEvent2(formData2, item._id + '/' + item.foto );\n\n\n\n\n }\n   async deleteRecord(item: any) {\n    const alert = await this.alertController.create({\n      header: this.seguro,\n      message: '',\n      buttons: [\n        {\n          text: 'No',\n         cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n           text: 'Si',\n           handler: () => {\n             const recordID: string\t\t= item._id;\n             this.authenticationService.deleteReg(recordID + '/' + this.userinfo[0].email + '/' + this.userinfo[0].idempresa._id  + '/'\n             + 'na' , 'formulariofotos2s').then((data) => {\n               this.pideregistros( this.currentSegment);\n               }, (err) => {\n                 this.authenticationService.presentAlert(err.error, this.msg, '');\n             });\n           }\n         }\n       ]\n     });\n     await alert.present();\n   }\n  async updateRecord(item: any) {\n    const modal = await this.modalController.create({\n      component: formulariofotos2CreatePage,\n      swipeToClose: true,\n      presentingElement: this.routerOutlet.nativeEl,\n      componentProps:  { variables:  this.variables, record: item, userinfo: this.userinfo, idllave: this.idllave, title: this.tituloxx}\n      , cssClass: 'modal-fullscreen'\n    });\n    modal.onWillDismiss().then((data) => {\n         if ( data.data !== 'close' ) {\n      this.pideregistros( this.currentSegment);\n      }\n    });\n    return await modal.present();\n}\n   async  addRecord() {\n    const modal = await this.modalController.create({\n      component: formulariofotos2CreatePage,\n      swipeToClose: false,\n      backdropDismiss: false,\n     animated: true,\n      presentingElement: await this.modalController.getTop(),\n      componentProps:  { variables:  this.variables, record: null, userinfo: this.userinfo, idllave: this.idllave, title: this.tituloxx}\n      , cssClass: 'modal-fullscreen'\n    });\n    modal.onWillDismiss().then((data) => {\n         if ( data.data !== 'close' ) {\n        this.pideregistros( this.currentSegment);\n      }\n    });\n    return await modal.present();\n   }\n   loadData(event) {\n    setTimeout(() => {\n      event.target.complete();\n      if ( this.items.length === 1000) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n}\n"," <ion-header>\n <ion-toolbar color=\"primary\">\n   <ion-buttons slot=\"start\">\n    <ion-back-button defaultHref=\"formulariomovilsproceso2CreatePage\"></ion-back-button>\n   </ion-buttons>\n   <ion-title>\n     {{tituloxx}}\n   </ion-title>\n   <ion-buttons slot=\"end\">\n     <ion-button title=\" {{ 'AGREGARM' | translate }}\" (click)=\"addRecord()\">\n       <ion-icon slot=\"icon-only\" name=\"add\"></ion-icon>\n     </ion-button>\n     <ion-button title=\" {{ 'REFRESCARM' | translate }}\" (click)=\"pideregistros0()\">\n       <ion-icon slot=\"icon-only\" name=\"refresh-circle-outline\"></ion-icon>\n     </ion-button>\n     <ion-button *ngIf=\"viewType === 'grid'\" (click)=\"changeToList()\">\n       <ion-icon slot=\"icon-only\" name=\"grid\"></ion-icon>\n     </ion-button>\n     <ion-button *ngIf=\"viewType === 'list'\" (click)=\"changeToGrid()\">\n       <ion-icon slot=\"icon-only\" name=\"list\"></ion-icon>\n     </ion-button>\n   </ion-buttons>\n </ion-toolbar>\n <ion-toolbar class=\"filters-toolbar\">\n   <ion-row class=\"searchbar-row\" align-items-center>\n     <ion-col>\n       <ion-searchbar animated [(ngModel)]=\"searchQuery\" (ionChange)=\"searchList()\" placeholder=\"{{ 'BUSCARM' | translate }}\"></ion-searchbar>\n     </ion-col>\n     <ion-col [hidden]=\"!showAgeFilter\" class=\"call-to-action-col\">\n       <ion-button fill=\"clear\" color=\"secondary\" class=\"filters-btn\" title=\" {{ 'FILTROM' | translate }}\" (click)=\"showAgeFilter = !showAgeFilter\">\n         <ion-icon slot=\"icon-only\" name=\"options\"></ion-icon>\n       </ion-button>\n     </ion-col>\n   </ion-row>\n   <form [formGroup]=\"rangeForm\" [hidden]=\"!showAgeFilter\">\n     <ion-row class=\"range-item-row\">\n       <ion-col size=\"12\">\n         <div class=\"range-header\">\n           <span class=\"range-value\">{{ rangeForm.controls.dual.value.lower }}</span>\n           <span class=\"range-label\">Filter by age</span>\n           <span class=\"range-value\">{{ rangeForm.controls.dual.value.upper }}</span>\n         </div>\n       </ion-col>\n       <ion-col size=\"12\">\n         <ion-range class=\"range-control\" formControlName=\"dual\" color=\"secondary\" pin=\"true\" dualKnobs=\"true\" (ionChange)=\"searchList()\" min=\"1\" max=\"100\" step=\"1\" debounce=\"400\"></ion-range>\n       </ion-col>\n     </ion-row>\n   </form>\n </ion-toolbar>\n</ion-header>\n<ion-content class=\"user-friends-content\">\n <ion-item-divider sticky>\n   <ion-label *ngIf=\"(itemsList?.length > 0) \" >{{ 'NOREGISTROSM' | translate }}: {{itemsList.length}}</ion-label>\n </ion-item-divider>\n \n <ion-list *ngIf=\"efecto === 0\" >\n   <ion-item lines=\"none\" *ngFor=\"let item of [0,1,2,3,4,5,6]\">\n     <ion-label>\n       <skeleton-element></skeleton-element>\n       <skeleton-element></skeleton-element>\n       <skeleton-element width=\"67%\"></skeleton-element>\n     </ion-label>\n   </ion-item>\n </ion-list>\n <ion-list  *ngIf=\"(itemsList?.length > 0) && (viewType === 'list')\">\n   <ion-item  *ngFor=\"let item of itemsList;let i = index; \" [routerLink]=\"\">\n<ion-grid>\n<ion-row>\n  <ion-col  (click)=\"updateRecord(item)\" size=\"12\">\n     <ion-icon name=\"server-outline\" slot=\"start\"></ion-icon>\n    <ion-label class=\"ion-text-wrap\">\n        <ion-note slot=\"end\">No. {{i+1}}</ion-note> <br>\n<p>\n        <strong>Nombre:</strong> {{item.nombre}} <br>    \n   \n    \n</p>   <ion-badge color=\"medium\">{{item.estado}}</ion-badge>\n     </ion-label>\n</ion-col>\n</ion-row>\n  <ion-row>\n<ion-col size=\"12\">\n      <ion-toolbar  color=\"transparent\">\n\n        <ion-buttons slot=\"secondary\">\n          <ion-button  title=\"Descargar archivo\"  (click)=\"descargar(item)\" >\n            <ion-icon slot=\"icon-only\" name=\"cloud-download-outline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n\n\n        <ion-buttons slot=\"secondary\">\n          <ion-button  title=\"{{ 'ELIMINARM' | translate }}\"  (click)=\"deleteRecord(item)\" >\n            <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n       \n      \n\n      \n      </ion-toolbar>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n   </ion-item>\n </ion-list>\n <ion-grid *ngIf=\"(itemsList?.length > 0) && (viewType === 'grid')\">\n   <ion-row>\n     <ion-col *ngFor=\"let item of itemsList;let i = index;\" size-lg=\"6\"  size-sm=\"6\" size=\"12\">\n       <ion-card  >\n         <ion-row class=\"user-stats-wrapper user-details-wrapper\">\n           <ion-col>\n             <span class=\"user-stat-value\">No.</span>\n             <span class=\"user-stat-name\">{{i+1}} </span>\n           </ion-col>\n           <ion-col>\n             <span class=\"user-stat-value\">{{item.estado}} </span>\n           </ion-col>\n         </ion-row>\n         <ion-item   [routerLink]=\"\">\n     \n           <ion-label (click)=\"updateRecord(item)\"   class=\"ion-text-wrap\">\n <p> \n              <strong>Nombre:</strong> {{item.nombre}} <br>    \n   \n      \n </p>    </ion-label>\n         </ion-item>\n         <ion-card-content>\n         </ion-card-content>\n         <ion-row no-padding>\n           <ion-col  size=\"12\" >\n      <ion-toolbar  color=\"transparent\">\n\n        <ion-buttons slot=\"secondary\">\n          <ion-button  title=\"Descargar archivo\"  (click)=\"descargar(item)\" >\n            <ion-icon slot=\"icon-only\" name=\"cloud-download-outline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n\n        \n        <ion-buttons slot=\"secondary\">\n          <ion-button  title=\"{{ 'ELIMINARM' | translate }}\"  (click)=\"deleteRecord(item)\" >\n            <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n      \n      </ion-toolbar>\n           </ion-col>\n         </ion-row>\n       </ion-card>\n     </ion-col>\n   </ion-row>\n </ion-grid>\n <h3 *ngIf=\"itemsList?.length == 0\" class=\"empty-list-message\">\n   {{ 'NODATOS' | translate }}  \n </h3>\n <ion-infinite-scroll threshold=\"100px\" (ionInfinite)=\"loadData($event)\">\n   <ion-infinite-scroll-content\n     loadingSpinner=\"bubbles\"\n     loadingText=\"Espere un momento...\">\n   </ion-infinite-scroll-content>\n </ion-infinite-scroll>\n</ion-content>\n","<form class=\"create-user-form ion-page\" [formGroup]=\"Form\" >\n<ion-header>\n        <ion-toolbar color=\"primary\">\n                <ion-buttons slot=\"end\">\n                        <ion-button (click)=\"dismissModal()\">\n                           <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n                        </ion-button>\n                </ion-buttons>\n                <ion-title>{{tituloxx}}</ion-title>\n        </ion-toolbar>\n</ion-header>\n<ion-content class=\"create-form-content\">\n    <section class=\"user-details-fields fields-section\">\n    <ion-list class=\"inputs-list\" lines=\"full\">\n      <ion-item class=\"input-item\">\n              <ion-label  position=\"floating\">Nombre<ion-text color=\"danger\">*</ion-text></ion-label>\n              <ion-input inputMode=\"text\" #inputId  clearInput=\"true\" formControlName=\"nombre\" required></ion-input>\n      </ion-item>\n<div class=\"error-container\">\n<div class=\"error-message\" *ngIf=\"Form.get('nombre').hasError('required') && (Form.get('nombre').dirty || Form.get('nombre').touched)\">\n  <ion-icon name=\"information-circle-outline\"></ion-icon>\n  <span>Ingrese un nombre valido</span>\n</div>\n </div>\n\n              <ion-input [hidden]=\"true\" #inputId  inputMode=\"text\" clearInput=\"true\" formControlName=\"foto\"></ion-input>\n              <input type=\"file\" id=\"fotoa\" style=\"visibility: hidden; height: 0px\"  #fotoa \n              accept=\".xls,.xlsx,.pdf,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,\" (change)=\"uploadPWA('fotoa')\">\n      <ion-item class=\"input-item\">\n              <ion-label  >Archivo<ion-text color=\"danger\">*</ion-text></ion-label>\n       <ion-avatar slot=\"end\"  *ngIf=\"fotoimg !== undefined\">   <ion-img  ionImgViewer  scheme=\"dark\"  [src]=\"fotoimg\"></ion-img>   </ion-avatar>               \n              <ion-buttons slot=\"end\">\n              <ion-button title=\"Adjuntar Archivo\" (click)=\"fotodatos('fotoa')\">\n                <ion-icon slot=\"icon-only\"  name=\"document-outline\"></ion-icon>\n            \n              </ion-button>\n              </ion-buttons>\n      </ion-item>\n<div class=\"error-container\">\n<div class=\"error-message\" *ngIf=\"Form.get('foto').hasError('required') && (Form.get('foto').dirty || Form.get('foto').touched)\">\n  <ion-icon name=\"information-circle-outline\"></ion-icon>\n  <span>Ingrese un foto valido</span>\n</div>\n </div>\n\n     </ion-list>\n  </section>\n</ion-content>\n<ion-footer>\n  <ion-row class=\"form-actions-wrapper\">\n    <ion-col>\n      <ion-button (click)=\"submitForm()\" color=\"primary\" expand=\"block\" fill=\"outline\" type=\"submit\" [disabled]=\"!Form.valid\">CREAR</ion-button>\n      </ion-col>\n  </ion-row>\n</ion-footer>\n</form>   \n","\nimport { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { MapsAPILoader, AgmMap } from '@agm/core';\nimport { ModalController , NavParams} from '@ionic/angular';\n\nimport { Plugins, Capacitor , CallbackID} from '@capacitor/core';\nconst { Geolocation} = Plugins;\n\n\n@Component({\n  selector: 'app-my-modal',\n  templateUrl: './my-modal.page.html',\n  styleUrls: ['./my-modal.page.scss'],\n})\nexport class MyModalPage implements OnInit {\n\n\n  title = 'AGM project';\n  latitude: number;\n  longitude: number;\n  zoom = 16 ;\n  address: string;\n  uubx: string;\n  watchId: CallbackID;\n  private geoCoder;\n  tituloxx: any;\n\n  @ViewChild('search', {static: false})\n  public searchElementRef: ElementRef;\n\n\n  constructor( private modalController: ModalController,\n    private mapsAPILoader: MapsAPILoader,\n    private ngZone: NgZone,\n    private navParams: NavParams\n  ) { }\n\n  dismissModal() {     this.modalController.dismiss('close');      }\n\n  dadireccion() {     this.modalController.dismiss({direccion: this.address, la: this.latitude, lo: this.longitude});      }\n  ngOnInit() {\n\n    this.uubx = this.navParams.get('uubx');\n\n\n\n    this.mapsAPILoader.load().then(() => {\n      if (this.uubx === '') {     this.setCurrentLocationa();      } else      {  this.setCurrentLocation2a();      }\n      this.geoCoder = new google.maps.Geocoder;\n\n      const autocomplete = new google.maps.places.Autocomplete(this.searchElementRef.nativeElement, {\n        types: ['address']\n      });\n      autocomplete.addListener('place_changed', () => {\n        this.ngZone.run(() => {\n\n          const place: google.maps.places.PlaceResult = autocomplete.getPlace();\n\n\n          if (place.geometry === undefined || place.geometry === null) {\n            return;\n          }\n\n          if (place) {\n          this.latitude = place.geometry.location.lat();\n          this.longitude = place.geometry.location.lng();\n          this.getAddress(this.latitude, this.longitude);\n          }\n        });\n      });\n    });\n\n  }\n\n  loadMap() {\n    this.mapsAPILoader.load().then(() => {\n   this.setCurrentLocationa33();\n\n\n    });\n  }\n\n  clearWatch() {\n    if (this.watchId != null) {\n      Plugins.Geolocation.clearWatch({ id: this.watchId });\n    }\n  }\n  // Get Current Location Coordinates\n  setCurrentLocationa33() {\n    if (!Capacitor.isPluginAvailable('Geolocation')) {\n      console.log('Plugin geolocation not available');\n      return;\n    }\n    try {\n      this.watchId = Plugins.Geolocation.watchPosition({timeout: 1000, enableHighAccuracy: true, maximumAge: 1000}, (data, err) => {\n        if (data) {\n          this.latitude = data.coords.latitude;\n          this.longitude = data.coords.longitude;\n      \n  \n        }\n  \n    });\n  } catch (e) {\n    console.error(e);\n  }\n  \n  }\n  setCurrentLocationa() {\n  if (!Capacitor.isPluginAvailable('Geolocation')) {\n    console.log('Plugin geolocation not available');\n    return;\n  }\n  try {\n    this.watchId = Plugins.Geolocation.watchPosition({timeout: 1000, enableHighAccuracy: true, maximumAge: 1000}, (data, err) => {\n      if (data) {\n        this.latitude = data.coords.latitude;\n        this.longitude = data.coords.longitude;\n        this.getAddress(this.latitude, this.longitude);\n\n      }\n\n  });\n} catch (e) {\n  console.error(e);\n}\n\n}\n\nsetCurrentLocation2a() {\n  if (!Capacitor.isPluginAvailable('Geolocation')) {\n    console.log('Plugin geolocation not available');\n    return;\n  }\n  try {\n    this.watchId = Plugins.Geolocation.watchPosition({timeout: 1000, enableHighAccuracy: true, maximumAge: 1000}, (data, err) => {\n    this.latitude = Number( this.uubx.substring(this.uubx.indexOf('{') + 1, this.uubx.indexOf('°') ));\n    this.longitude = Number( this.uubx.substring(this.uubx.indexOf('°') + 1, this.uubx.indexOf('}')) );\n    if (this.latitude !== 0) {\n      if (this.latitude) {\n      this.getAddress(this.latitude, this.longitude);\n      }\n    }\n\n  });\n} catch (e) {\n  console.error(e);\n}\n\n}\n\n\n\n\n  markerDragEnd($event: any) {\n    if (this.latitude !== 0) {\n      if (this.latitude) {\n    this.latitude = $event.coords.lat;\n    this.longitude = $event.coords.lng;\n    this.getAddress(this.latitude, this.longitude);\n      }}\n  }\n\n  getAddress(latitude, longitude) {\n    this.geoCoder.geocode({ 'location': { lat: latitude, lng: longitude } }, (results, status) => {\n      console.log(results);\n      console.log(status);\n      if (status === 'OK') {\n        if (results[0]) {\n          this.address = results[0].formatted_address;\n        } else {\n          window.alert('No results found');\n        }\n      } else {\n        window.alert('Geocoder failed due to: ' + status);\n      }\n\n    });\n  }\n\n  async closeModal() {\n    this.modalController.dismiss('close');\n  }\n\n}\n","<div\n  [ngClass]=\"{\n    'no-animated': noAnimated,\n    'inline': inline\n  }\"\n  [ngStyle]=\"styles\"\n></div>\n"]}