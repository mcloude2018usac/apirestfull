"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2039],{50076:(U,A,c)=>{c.d(A,{oK:()=>o,GW:()=>Z,dk:()=>_});var o=(()=>{return(a=o||(o={})).Prompt="PROMPT",a.Camera="CAMERA",a.Photos="PHOTOS",o;var a})(),Z=(()=>{return(a=Z||(Z={})).Rear="REAR",a.Front="FRONT",Z;var a})(),_=(()=>{return(a=_||(_={})).Uri="uri",a.Base64="base64",a.DataUrl="dataUrl",_;var a})()},26388:(U,A,c)=>{c.d(A,{dk:()=>Z.dk,oK:()=>Z.oK,V1:()=>_});var o=c(47423),Z=c(50076);const _=(0,o.fo)("Camera",{web:()=>c.e(3954).then(c.bind(c,63954)).then(a=>new a.CameraWeb)})},22039:(U,A,c)=>{c.r(A),c.d(A,{SucursalListPageModule:()=>ot});var o=c(23349),Z=c(55787),_=c(69808),a=c(33678),m=c(51062),s=c(93075),f=c(36351),h=c(70655),v=c(68554),d=c(4707),p=c(63814),T=c(15190),q=c(26388),t=c(5e3);const y=["inputId"],F=["foto0a"],M=["logo1a"];function S(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese nombre"),t.qZA(),t.qZA())}function I(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese direccion"),t.qZA(),t.qZA())}function k(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese ubicacion"),t.qZA(),t.qZA())}function L(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese email"),t.qZA(),t.qZA())}function w(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese telefonos"),t.qZA(),t.qZA())}function E(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese horario"),t.qZA(),t.qZA())}function N(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese nit"),t.qZA(),t.qZA())}function O(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese razon"),t.qZA(),t.qZA())}function J(r,u){if(1&r&&(t.TgZ(0,"ion-avatar",39),t._UZ(1,"ion-img",40),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.foto0img)}}function R(r,u){if(1&r&&(t.TgZ(0,"ion-avatar",39),t._UZ(1,"ion-img",40),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.logo1img)}}function D(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese logode portada"),t.qZA(),t.qZA())}function Q(r,u){1&r&&(t.TgZ(0,"div",37),t._UZ(1,"ion-icon",38),t.TgZ(2,"span"),t._uU(3,"Ingrese estado"),t.qZA(),t.qZA())}let x=(()=>{class r{constructor(e,i,n,l,g){this.modalController=e,this.translateService=i,this.authenticationService=n,this.navParams=l,this.actionSheetController=g,this.variables=[],this.userinfo=[],this.tituloxx="",this.vgrupo=[],this.apifoto=this.authenticationService.getapifoto()}ngAfterViewInit(){setTimeout(()=>{this.inputElement.setFocus()},400)}dismissModal(){this.modalController.dismiss("close")}ionViewDidEnter(){}ngOnInit(){this.variables=this.navParams.get("variables"),this.userinfo=this.navParams.get("userinfo"),this.idllave=this.navParams.get("idllave"),this.tituloxx=this.navParams.get("title"),this.Form=new s.cw({nombre:new s.NI("",s.kI.compose([s.kI.required,s.kI.pattern("[a-zA-Z0-9-_()\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda#*$!? \xf1\xd1&+-/.]*")])),direccion:new s.NI("",s.kI.required),ubicacion:new s.NI("",s.kI.required),email:new s.NI("",s.kI.compose([s.kI.required,s.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),telefonos:new s.NI("",s.kI.required),horario:new s.NI("",s.kI.required),nit:new s.NI("",s.kI.required),razon:new s.NI("",s.kI.required),foto0:new s.NI(""),logo1:new s.NI("",s.kI.required),estado:new s.NI("",s.kI.required)}),null==this.navParams.get("record")?this.translateService.get("NUEVOM").subscribe(e=>{this.tituloxx=e+" "+this.tituloxx,this.lpermiso=e}):(this.translateService.get("ACTUALIZAM").subscribe(e=>{this.tituloxx=e+" "+this.tituloxx,this.lpermiso=e}),this._ID=this.navParams.data.record._id,this.Form.controls.nombre.setValue(this.navParams.data.record.nombre),this.Form.controls.direccion.setValue(this.navParams.data.record.direccion),this.Form.controls.ubicacion.setValue(this.navParams.data.record.ubicacion),this.Form.controls.email.setValue(this.navParams.data.record.email),this.Form.controls.telefonos.setValue(this.navParams.data.record.telefonos),this.Form.controls.horario.setValue(this.navParams.data.record.horario),this.Form.controls.nit.setValue(this.navParams.data.record.nit),this.Form.controls.razon.setValue(this.navParams.data.record.razon),this.authenticationService.convertToDataURLviaCanvas(this.authenticationService.getapifoto()+this.navParams.data.record.foto0,"image/jpeg").then(e=>this.foto0img=e),this.Form.controls.foto0.setValue(this.navParams.data.record.foto0),this.authenticationService.convertToDataURLviaCanvas(this.authenticationService.getapifoto()+this.navParams.data.record.logo1,"image/jpeg").then(e=>this.logo1img=e),this.Form.controls.logo1.setValue(this.navParams.data.record.logo1),this.Form.controls.estado.setValue(this.navParams.data.record.estado))}submitForm0(){this.authenticationService.subefoto("","Image2s",this.foto0img,"","","","","create",this.userinfo[0].idempresa._id,"",this.idllave).then(e=>{let i=[];i=e,this.Form.controls.foto0.setValue(i.url),this.authenticationService.subefoto("","Image2s",this.logo1img,"","","","","create",this.userinfo[0].idempresa._id,"",this.idllave).then(n=>{let l=[];l=n,this.Form.controls.logo1.setValue(l.url);const g={idempresa:this.userinfo[0].idempresa._id,idpapa:this.idllave,nombre:this.Form.controls.nombre.value,direccion:this.Form.controls.direccion.value,ubicacion:this.Form.controls.ubicacion.value,email:this.Form.controls.email.value,telefonos:this.Form.controls.telefonos.value,horario:this.Form.controls.horario.value,nit:this.Form.controls.nit.value,razon:this.Form.controls.razon.value,foto0:this.Form.controls.foto0.value,logo1:this.Form.controls.logo1.value,estado:this.Form.controls.estado.value,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:this.lpermiso,accion:this.tituloxx}};g&&this.authenticationService.createReg("",g,"sucursals").then(b=>{!this.Form.valid||this.modalController.dismiss("ok")},b=>{this.authenticationService.presentAlert(b.error,"Precauci\xf3n","")})},n=>{this.authenticationService.presentAlert(n.error,"Precauci\xf3n","")})},e=>{this.authenticationService.presentAlert(e.error,"Precauci\xf3n","")})}submitForm1(){this.authenticationService.subefoto("","Image2s",this.foto0img,"","","",this.Form.controls.foto0.value,"update",this.userinfo[0].idempresa._id,this._ID,this.idllave).then(e=>{let i=[];i=e,this.Form.controls.foto0.setValue(i.url),this.authenticationService.subefoto("","Image2s",this.logo1img,"","","",this.Form.controls.logo1.value,"update",this.userinfo[0].idempresa._id,this._ID,this.idllave).then(n=>{let l=[];l=n,this.Form.controls.logo1.setValue(l.url);const g={idempresa:this.userinfo[0].idempresa._id,idpapa:this.idllave,nombre:this.Form.controls.nombre.value,direccion:this.Form.controls.direccion.value,ubicacion:this.Form.controls.ubicacion.value,email:this.Form.controls.email.value,telefonos:this.Form.controls.telefonos.value,horario:this.Form.controls.horario.value,nit:this.Form.controls.nit.value,razon:this.Form.controls.razon.value,foto0:this.Form.controls.foto0.value,logo1:this.Form.controls.logo1.value,estado:this.Form.controls.estado.value,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:this.lpermiso,accion:this.tituloxx}};g&&this.authenticationService.createReg(this._ID,g,"sucursals").then(b=>{!this.Form.valid||this.modalController.dismiss("ok")},b=>{this.authenticationService.presentAlert(b.error,"Precauci\xf3n","")})},n=>{this.authenticationService.presentAlert(n.error,"Precauci\xf3n","")})},e=>{this.authenticationService.presentAlert(e.error,"Precauci\xf3n","")})}submitForm(){null==this.navParams.get("record")?this.submitForm0():this.submitForm1()}dacomponente(e,i){return(0,h.mG)(this,void 0,void 0,function*(){let n="";"ubicacion"===e&&(n=this.Form.controls.ubicacion.value);const l=yield this.modalController.create({component:p.B,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,uubx:n},cssClass:"modal-fullscreen"});return l.onWillDismiss().then(g=>{"close"===g.data||("direccion"===e?this.Form.controls.direccion.setValue(g.data.direccion):this.Form.controls.ubicacion.setValue(g.data.direccion+" {"+g.data.la+"\xb0"+g.data.lo+"}"))}),yield l.present()})}takePicture(e){return(0,h.mG)(this,void 0,void 0,function*(){const i=yield q.V1.getPhoto({correctOrientation:!0,height:200,width:200,quality:60,allowEditing:!0,resultType:q.dk.DataUrl,source:q.oK.Camera});this.authenticationService.generateFromImage(i.dataUrl,400,400,1,n=>{switch(e){case"foto0a":this.foto0img=n,this.Form.controls.foto0.setValue(this.authenticationService.procesafoto(this.Form.controls.foto0.value));break;case"logo1a":this.logo1img=n,this.Form.controls.logo1.setValue(this.authenticationService.procesafoto(this.Form.controls.logo1.value))}})})}uploadPWA2(e,i){i&&i.length>0&&this.firstFileToBase64(i[0]).then(l=>{this.authenticationService.generateFromImage(l,400,400,1,g=>{switch(e){case"foto0a":this.foto0img=g,this.Form.controls.foto0.setValue(this.authenticationService.procesafoto(this.Form.controls.foto0.value));break;case"logo1a":this.logo1img=g,this.Form.controls.logo1.setValue(this.authenticationService.procesafoto(this.Form.controls.logo1.value))}})},l=>{switch(e){case"foto0a":this.foto0img=null,this.Form.controls.foto0.setValue("");break;case"logo1a":this.logo1img=null,this.Form.controls.logo1.setValue("")}})}uploadPWA(e){switch(e){case"foto0a":if(null==this.foto0a)return;this.uploadPWA2(e,this.foto0a.nativeElement.files);break;case"logo1a":if(null==this.logo1a)return;this.uploadPWA2(e,this.logo1a.nativeElement.files)}}firstFileToBase64(e){return new Promise((i,n)=>{const l=new FileReader;l&&null!=e?(l.readAsDataURL(e),l.onload=()=>{i(l.result)},l.onerror=g=>{n(g)}):n(new Error("No file found"))})}takePicture2(e){return(0,h.mG)(this,void 0,void 0,function*(){"foto0a"===e&&this.foto0a.nativeElement.click(),"logo1a"===e&&this.logo1a.nativeElement.click()})}fotodatos(e){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Foto",cssClass:"my-custom-class",buttons:[{text:"Galeria",role:"destructive",icon:"image-outline",handler:()=>{this.takePicture2(e)}},{text:"Camara",icon:"camera-outline",handler:()=>{this.takePicture(e)}}]})).present()})}combodatos(e,i,n,l,g,b){return(0,h.mG)(this,void 0,void 0,function*(){const P=yield this.modalController.create({component:T.j,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{grabax:b,variables:this.variables,userinfo:this.userinfo,record2:null,op:i,frm:n,idllave:this.idllave,titlex:"Buscar "+g},cssClass:"modal-fullscreen"});return P.onWillDismiss().then(nt=>{let C=[];C=nt,"close"!==C.data&&this.Form.controls[l].setValue(C.data?C.data.nombre:"")}),yield P.present()})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.IN),t.Y36(m.sK),t.Y36(v.$),t.Y36(o.X1),t.Y36(o.BX))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-sucursal-create"]],viewQuery:function(e,i){if(1&e&&(t.Gf(y,5),t.Gf(F,7),t.Gf(M,7)),2&e){let n;t.iGM(n=t.CRH())&&(i.inputElement=n.first),t.iGM(n=t.CRH())&&(i.foto0a=n.first),t.iGM(n=t.CRH())&&(i.logo1a=n.first)}},decls:127,vars:20,consts:[[1,"create-user-form","ion-page",3,"formGroup"],["color","primary"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"create-form-content"],[1,"user-details-fields","fields-section"],["lines","full",1,"inputs-list"],[1,"input-item"],["position","floating"],["color","danger"],["inputMode","text","clearInput","true","formControlName","nombre","required",""],["inputId",""],[1,"error-container"],["class","error-message",4,"ngIf"],["inputMode","text","clearInput","true","formControlName","direccion","required",""],["inputMode","text","clearInput","true","formControlName","ubicacion","required",""],["inputMode","text","clearInput","true","formControlName","email","required",""],["inputMode","text","clearInput","true","formControlName","telefonos","required",""],["inputMode","text","clearInput","true","formControlName","horario","required",""],["inputMode","text","clearInput","true","formControlName","nit","required",""],["inputMode","text","clearInput","true","formControlName","razon","required",""],["inputMode","text","clearInput","true","formControlName","foto0",3,"hidden"],["type","file","id","foto0a","accept","image/x-png,image/jpeg",2,"visibility","hidden","height","0px",3,"change"],["foto0a",""],["slot","end",4,"ngIf"],["title","Adjuntar Imagen",3,"click"],["slot","icon-only","name","camera-outline"],["inputMode","text","clearInput","true","formControlName","logo1",3,"hidden"],["type","file","id","logo1a","accept","image/x-png,image/jpeg",2,"visibility","hidden","height","0px",3,"change"],["logo1a",""],["formControlName","estado",3,"placeholder"],["text-wrap","","value","Activo"],["text-wrap","","value","Inactivo"],[1,"form-actions-wrapper"],["color","primary","expand","block","fill","outline","type","submit",3,"disabled","click"],[1,"error-message"],["name","information-circle-outline"],["slot","end"],["ionImgViewer","","scheme","dark",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"ion-header"),t.TgZ(2,"ion-toolbar",1),t.TgZ(3,"ion-buttons",2),t.TgZ(4,"ion-button",3),t.NdJ("click",function(){return i.dismissModal()}),t._UZ(5,"ion-icon",4),t.qZA(),t.qZA(),t.TgZ(6,"ion-title",5),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-content",6),t.TgZ(9,"section",7),t.TgZ(10,"ion-list",8),t.TgZ(11,"ion-item",9),t.TgZ(12,"ion-label",10),t._uU(13,"Nombre"),t.TgZ(14,"ion-text",11),t._uU(15,"*"),t.qZA(),t.qZA(),t._UZ(16,"ion-input",12,13),t.qZA(),t.TgZ(18,"div",14),t.YNc(19,S,4,0,"div",15),t.qZA(),t.TgZ(20,"ion-item",9),t.TgZ(21,"ion-label",10),t._uU(22,"Direccion"),t.TgZ(23,"ion-text",11),t._uU(24,"*"),t.qZA(),t.qZA(),t._UZ(25,"ion-input",16,13),t.qZA(),t.TgZ(27,"div",14),t.YNc(28,I,4,0,"div",15),t.qZA(),t.TgZ(29,"ion-item",9),t.TgZ(30,"ion-label",10),t._uU(31,"Ubicacion"),t.TgZ(32,"ion-text",11),t._uU(33,"*"),t.qZA(),t.qZA(),t._UZ(34,"ion-input",17,13),t.qZA(),t.TgZ(36,"div",14),t.YNc(37,k,4,0,"div",15),t.qZA(),t.TgZ(38,"ion-item",9),t.TgZ(39,"ion-label",10),t._uU(40,"Email"),t.TgZ(41,"ion-text",11),t._uU(42,"*"),t.qZA(),t.qZA(),t._UZ(43,"ion-input",18,13),t.qZA(),t.TgZ(45,"div",14),t.YNc(46,L,4,0,"div",15),t.qZA(),t.TgZ(47,"ion-item",9),t.TgZ(48,"ion-label",10),t._uU(49,"Telefonos"),t.TgZ(50,"ion-text",11),t._uU(51,"*"),t.qZA(),t.qZA(),t._UZ(52,"ion-input",19,13),t.qZA(),t.TgZ(54,"div",14),t.YNc(55,w,4,0,"div",15),t.qZA(),t.TgZ(56,"ion-item",9),t.TgZ(57,"ion-label",10),t._uU(58,"Horario"),t.TgZ(59,"ion-text",11),t._uU(60,"*"),t.qZA(),t.qZA(),t._UZ(61,"ion-input",20,13),t.qZA(),t.TgZ(63,"div",14),t.YNc(64,E,4,0,"div",15),t.qZA(),t.TgZ(65,"ion-item",9),t.TgZ(66,"ion-label",10),t._uU(67,"Nit"),t.TgZ(68,"ion-text",11),t._uU(69,"*"),t.qZA(),t.qZA(),t._UZ(70,"ion-input",21,13),t.qZA(),t.TgZ(72,"div",14),t.YNc(73,N,4,0,"div",15),t.qZA(),t.TgZ(74,"ion-item",9),t.TgZ(75,"ion-label",10),t._uU(76,"Razon"),t.TgZ(77,"ion-text",11),t._uU(78,"*"),t.qZA(),t.qZA(),t._UZ(79,"ion-input",22,13),t.qZA(),t.TgZ(81,"div",14),t.YNc(82,O,4,0,"div",15),t.qZA(),t._UZ(83,"ion-input",23),t.TgZ(84,"input",24,25),t.NdJ("change",function(){return i.uploadPWA("foto0a")}),t.qZA(),t.TgZ(86,"ion-item",9),t.TgZ(87,"ion-label"),t._uU(88,"Foto de portada"),t.qZA(),t.YNc(89,J,2,1,"ion-avatar",26),t.TgZ(90,"ion-buttons",2),t.TgZ(91,"ion-button",27),t.NdJ("click",function(){return i.fotodatos("foto0a")}),t._UZ(92,"ion-icon",28),t.qZA(),t.qZA(),t.qZA(),t._UZ(93,"ion-input",29,13),t.TgZ(95,"input",30,31),t.NdJ("change",function(){return i.uploadPWA("logo1a")}),t.qZA(),t.TgZ(97,"ion-item",9),t.TgZ(98,"ion-label"),t._uU(99,"Logo de portada"),t.TgZ(100,"ion-text",11),t._uU(101,"*"),t.qZA(),t.qZA(),t.YNc(102,R,2,1,"ion-avatar",26),t.TgZ(103,"ion-buttons",2),t.TgZ(104,"ion-button",27),t.NdJ("click",function(){return i.fotodatos("logo1a")}),t._UZ(105,"ion-icon",28),t.qZA(),t.qZA(),t.qZA(),t.TgZ(106,"div",14),t.YNc(107,D,4,0,"div",15),t.qZA(),t.TgZ(108,"ion-item",9),t.TgZ(109,"ion-label"),t._uU(110,"Estado"),t.TgZ(111,"ion-text",11),t._uU(112,"*"),t.qZA(),t.qZA(),t.TgZ(113,"ion-select",32,13),t.ALo(115,"translate"),t.TgZ(116,"ion-select-option",33),t._uU(117,"Activo"),t.qZA(),t.TgZ(118,"ion-select-option",34),t._uU(119,"Inactivo"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(120,"div",14),t.YNc(121,Q,4,0,"div",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(122,"ion-footer"),t.TgZ(123,"ion-row",35),t.TgZ(124,"ion-col"),t.TgZ(125,"ion-button",36),t.NdJ("click",function(){return i.submitForm()}),t._uU(126,"CREAR"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",i.Form),t.xp6(7),t.Oqu(i.tituloxx),t.xp6(12),t.Q6J("ngIf",i.Form.get("nombre").hasError("required")&&(i.Form.get("nombre").dirty||i.Form.get("nombre").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("direccion").hasError("required")&&(i.Form.get("direccion").dirty||i.Form.get("direccion").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("ubicacion").hasError("required")&&(i.Form.get("ubicacion").dirty||i.Form.get("ubicacion").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("email").hasError("required")&&(i.Form.get("email").dirty||i.Form.get("email").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("telefonos").hasError("required")&&(i.Form.get("telefonos").dirty||i.Form.get("telefonos").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("horario").hasError("required")&&(i.Form.get("horario").dirty||i.Form.get("horario").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("nit").hasError("required")&&(i.Form.get("nit").dirty||i.Form.get("nit").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("razon").hasError("required")&&(i.Form.get("razon").dirty||i.Form.get("razon").touched)),t.xp6(1),t.Q6J("hidden",!0),t.xp6(6),t.Q6J("ngIf",void 0!==i.foto0img),t.xp6(4),t.Q6J("hidden",!0),t.xp6(9),t.Q6J("ngIf",void 0!==i.logo1img),t.xp6(5),t.Q6J("ngIf",i.Form.get("logo1").hasError("required")&&(i.Form.get("logo1").dirty||i.Form.get("logo1").touched)),t.xp6(6),t.s9C("placeholder",t.lcZ(115,18,"SELECTVALORM")),t.xp6(8),t.Q6J("ngIf",i.Form.get("estado").hasError("required")&&(i.Form.get("estado").dirty||i.Form.get("estado").touched)),t.xp6(4),t.Q6J("disabled",!i.Form.valid))},directives:[s._Y,s.JL,s.sg,o.Gu,o.sr,o.Sm,o.YG,o.gu,o.wd,o.W2,o.q_,o.Ie,o.Q$,o.yW,o.pK,o.j9,s.JJ,s.u,s.Q7,_.O5,o.t9,o.QI,o.n0,o.fr,o.Nd,o.wI,o.BJ,o.Xz,f.Bg],pipes:[m.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),r})();var G=c(26806);function Y(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"ion-button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeToList()}),t._UZ(1,"ion-icon",33),t.qZA()}}function j(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"ion-button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeToGrid()}),t._UZ(1,"ion-icon",34),t.qZA()}}function z(r,u){if(1&r&&(t.TgZ(0,"ion-label"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.lnq("",t.lcZ(2,3,"NOREGISTROSM")," ",e.itemsList.length," ",t.lcZ(3,5,"NOREGISTROSM5"),"")}}function B(r,u){1&r&&(t.TgZ(0,"ion-item",36),t.TgZ(1,"ion-label",37),t._UZ(2,"skeleton-element"),t._UZ(3,"skeleton-element"),t._UZ(4,"skeleton-element",38),t.qZA(),t.qZA())}const V=function(){return[0,1,2,3,4,5,6]};function W(r,u){1&r&&(t.TgZ(0,"ion-list"),t.YNc(1,B,5,0,"ion-item",35),t.qZA()),2&r&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,V)))}function H(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"ion-item",40),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row"),t.TgZ(3,"ion-col",41),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).updateRecord(l)}),t.TgZ(4,"ion-avatar",1),t._UZ(5,"ion-img-viewer",42),t.qZA(),t.TgZ(6,"ion-label",37),t.TgZ(7,"ion-note",43),t._uU(8),t.qZA(),t._UZ(9,"br"),t.TgZ(10,"p"),t.TgZ(11,"strong"),t._uU(12,"Nombre:"),t.qZA(),t._uU(13),t._UZ(14,"br"),t.TgZ(15,"strong"),t._uU(16," Direccion:"),t.qZA(),t._uU(17),t._UZ(18,"br"),t.TgZ(19,"strong"),t._uU(20," Ubicacion:"),t.qZA(),t._uU(21),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24," Email:"),t.qZA(),t._uU(25),t._UZ(26,"br"),t.TgZ(27,"strong"),t._uU(28," Telefonos:"),t.qZA(),t._uU(29),t._UZ(30,"br"),t.TgZ(31,"strong"),t._uU(32," Horario:"),t.qZA(),t._uU(33),t._UZ(34,"br"),t.TgZ(35,"strong"),t._uU(36," Nit:"),t.qZA(),t._uU(37),t._UZ(38,"br"),t.TgZ(39,"strong"),t._uU(40," Razon:"),t.qZA(),t._uU(41),t._UZ(42,"br"),t.qZA(),t.TgZ(43,"ion-badge",44),t._uU(44),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"ion-row"),t.TgZ(46,"ion-col",17),t.TgZ(47,"ion-toolbar",45),t.TgZ(48,"ion-buttons",46),t.TgZ(49,"ion-button",5),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).deleteRecord(l)}),t.ALo(50,"translate"),t._UZ(51,"ion-icon",47),t.qZA(),t.qZA(),t.TgZ(52,"ion-buttons",48),t.TgZ(53,"ion-button",49),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).otrasop(l)}),t.ALo(54,"translate"),t._UZ(55,"ion-icon",50),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=u.$implicit,i=u.index,n=t.oxw(2);t.xp6(5),t.Q6J("src",n.apifoto+e.foto0),t.xp6(3),t.hij("No. ",i+1,""),t.xp6(5),t.hij(" ",e.nombre," "),t.xp6(4),t.hij(" ",e.direccion,""),t.xp6(4),t.hij(" ",e.ubicacion,""),t.xp6(4),t.hij(" ",e.email,""),t.xp6(4),t.hij(" ",e.telefonos,""),t.xp6(4),t.hij(" ",e.horario,""),t.xp6(4),t.hij(" ",e.nit,""),t.xp6(4),t.hij(" ",e.razon,""),t.xp6(3),t.Oqu(e.estado),t.xp6(5),t.s9C("title",t.lcZ(50,13,"ELIMINARM")),t.xp6(4),t.s9C("title",t.lcZ(54,15,"MENUM"))}}function K(r,u){if(1&r&&(t.TgZ(0,"ion-list"),t.YNc(1,H,56,17,"ion-item",39),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemsList)("ngForTrackBy",e.trackItems)}}function $(r,u){if(1&r){const e=t.EpF();t.TgZ(0,"ion-col",52),t.TgZ(1,"ion-card"),t.TgZ(2,"ion-row",53),t.TgZ(3,"ion-col"),t.TgZ(4,"span",54),t._uU(5,"No."),t.qZA(),t.TgZ(6,"span",55),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"ion-col"),t.TgZ(9,"span",54),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"ion-item",40),t.TgZ(12,"ion-avatar",1),t._UZ(13,"ion-img-viewer",42),t.qZA(),t.TgZ(14,"ion-label",56),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).updateRecord(l)}),t.TgZ(15,"p"),t.TgZ(16,"strong"),t._uU(17,"Nombre:"),t.qZA(),t._uU(18),t._UZ(19,"br"),t.TgZ(20,"strong"),t._uU(21,"Direccion:"),t.qZA(),t._uU(22),t._UZ(23,"br"),t.TgZ(24,"strong"),t._uU(25,"Ubicacion:"),t.qZA(),t._uU(26),t._UZ(27,"br"),t.TgZ(28,"strong"),t._uU(29,"Email:"),t.qZA(),t._uU(30),t._UZ(31,"br"),t.TgZ(32,"strong"),t._uU(33,"Telefonos:"),t.qZA(),t._uU(34),t._UZ(35,"br"),t.TgZ(36,"strong"),t._uU(37,"Horario:"),t.qZA(),t._uU(38),t._UZ(39,"br"),t.TgZ(40,"strong"),t._uU(41,"Nit:"),t.qZA(),t._uU(42),t._UZ(43,"br"),t.TgZ(44,"strong"),t._uU(45,"Razon:"),t.qZA(),t._uU(46),t._UZ(47,"br"),t.TgZ(48,"ion-avatar",1),t._UZ(49,"ion-img-viewer",42),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(50,"ion-card-content"),t.TgZ(51,"ion-row",57),t.TgZ(52,"ion-col",17),t.TgZ(53,"ion-toolbar",45),t.TgZ(54,"ion-buttons",46),t.TgZ(55,"ion-button",5),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).deleteRecord(l)}),t.ALo(56,"translate"),t._UZ(57,"ion-icon",47),t.qZA(),t.qZA(),t.TgZ(58,"ion-buttons",48),t.TgZ(59,"ion-button",49),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).otrasop(l)}),t.ALo(60,"translate"),t._UZ(61,"ion-icon",50),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=u.$implicit,i=u.index,n=t.oxw(2);t.xp6(7),t.hij("",i+1," "),t.xp6(3),t.hij("",e.estado," "),t.xp6(3),t.Q6J("src",n.apifoto+e.foto0),t.xp6(5),t.hij(" ",e.nombre," "),t.xp6(4),t.hij(" ",e.direccion," "),t.xp6(4),t.hij(" ",e.ubicacion," "),t.xp6(4),t.hij(" ",e.email," "),t.xp6(4),t.hij(" ",e.telefonos," "),t.xp6(4),t.hij(" ",e.horario," "),t.xp6(4),t.hij(" ",e.nit," "),t.xp6(4),t.hij(" ",e.razon," "),t.xp6(3),t.Q6J("src",n.apifoto+e.logo1),t.xp6(6),t.s9C("title",t.lcZ(56,14,"ELIMINARM")),t.xp6(4),t.s9C("title",t.lcZ(60,16,"MENUM"))}}function X(r,u){if(1&r&&(t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.YNc(2,$,62,18,"ion-col",51),t.qZA(),t.qZA()),2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.itemsList)("ngForTrackBy",e.trackItems)}}function tt(r,u){1&r&&(t.TgZ(0,"h3",58),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NODATOS")," "))}let et=(()=>{class r{constructor(e,i,n,l,g,b){this.routerOutlet=e,this.router=i,this.authenticationService=n,this.alertController=l,this.translateService=g,this.modalController=b,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.userinfo=[],this.viewType="grid",this.tituloxx="",this.efecto=0,this.seguro="",this.msg="",this.currentSegment="Todos",this.searchSubject=new d.t(1),this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}ngOnInit(){this.variables=this.router.getCurrentNavigation().extras.state.variables,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.title,this.searchQuery="",this.translateService.get("SEGUROM").subscribe(e=>{this.seguro=e}),this.translateService.get("MSGM").subscribe(e=>{this.msg=e}),this.rangeForm=new s.cw({dual:new s.NI({lower:1,upper:100})}),this.currentSegment="todos",this.pideregistros(this.currentSegment)}filterContacts(e){let i=e.detail.value;this.currentSegment=i,this.pideregistros(i)}pideregistros0(){this.pideregistros(this.currentSegment)}pideregistros(e){this.itemsList=[],this.efecto=0,this.authenticationService.getReg("todos/"+e+"/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"sucursals",0).then(i=>{this.efecto=1,this.items=i,this.itemsList=this.items},i=>{this.authenticationService.presentAlert(i.error,this.msg,"")})}trackItems(e,i){return i.id}searchList(){this.searchSubject.next({lower:this.rangeForm.controls.dual.value.lower,upper:this.rangeForm.controls.dual.value.upper,query:this.searchQuery}),this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(e,i){return e.filter(n=>n.nombre.toLowerCase().includes(i.toLowerCase()))}otrasop(e){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Seleccione Opci\xf3n",inputs:[{name:"Usuarios",type:"radio",label:"Usuarios",checked:!0,value:"/UserListPage\xb0Usuarios ->"+e.nombre},{name:"Dispositivos",type:"radio",label:"Dispositivos",value:"/dispositivoListPage\xb0Dispositivo ->"+e.nombre}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:n=>{}},{text:"Ok",handler:n=>{var l=n.split("\xb0");this.router.navigate([l[0]],{state:{variables:this.variables,user:null,idllave:e._id,idasociado:this.idllave,title:l[1]}})}}]})).present()})}deleteRecord(e){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:"No",cssClass:"secondary",handler:n=>{}},{text:"Si",handler:()=>{this.authenticationService.deleteReg(e._id+"/"+this.userinfo[0].email+"/"+this.userinfo[0].idempresa._id+"/na","sucursals").then(l=>{this.pideregistros(this.currentSegment)},l=>{this.authenticationService.presentAlert(l.error,this.msg,"")})}}]})).present()})}updateRecord(e){return(0,h.mG)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:x,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{variables:this.variables,record:e,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return i.onWillDismiss().then(n=>{"close"!==n.data&&this.pideregistros(this.currentSegment)}),yield i.present()})}addRecord(){return(0,h.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:x,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return e.onWillDismiss().then(i=>{"close"!==i.data&&this.pideregistros(this.currentSegment)}),yield e.present()})}loadData(e){setTimeout(()=>{e.target.complete(),1e3===this.items.length&&(e.target.disabled=!0)},500)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(o.jP),t.Y36(Z.F0),t.Y36(v.$),t.Y36(o.Br),t.Y36(m.sK),t.Y36(o.IN))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-sucursal-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(o.ju,5),2&e){let n;t.iGM(n=t.CRH())&&(i.infiniteScroll=n.first)}},decls:55,vars:35,consts:[["color","primary"],["slot","start"],["defaultHref","AsociadoListPage"],["size","small"],["collapse","true","slot","end"],[3,"title","click"],["slot","icon-only","name","add"],["slot","icon-only","name","refresh-circle-outline"],[3,"click",4,"ngIf"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"call-to-action-col",3,"hidden"],["fill","clear","color","secondary",1,"filters-btn",3,"title","click"],["slot","icon-only","name","options"],[3,"formGroup","hidden"],[1,"range-item-row"],["size","12"],[1,"range-header"],[1,"range-value"],[1,"range-label"],["formControlName","dual","color","secondary","pin","true","dualKnobs","true","min","1","max","100","step","1","debounce","400",1,"range-control",3,"ionChange"],[1,"user-friends-content"],["sticky",""],[4,"ngIf"],["value","todos",3,"ionChange"],["value","todos","checked",""],["value","Activo"],["value","Inactivo"],["class","empty-list-message",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Espere un momento..."],[3,"click"],["slot","icon-only","name","grid"],["slot","icon-only","name","list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],["width","67%"],["class","item md in-list ion-activatable ion-focusable item-label hydrated",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item","md","in-list","ion-activatable","ion-focusable","item-label","hydrated"],["size","12",3,"click"],["scheme","dark",3,"src"],["slot","end"],["color","medium"],["color","transparent"],["slot","secondary"],["slot","icon-only","name","trash-outline"],["slot","primary"],["color","secondary",3,"title","click"],["slot","icon-only","ios","ellipsis-horizontal","md","ellipsis-vertical"],["size-lg","6","size-sm","6","size","12",4,"ngFor","ngForOf","ngForTrackBy"],["size-lg","6","size-sm","6","size","12"],[1,"user-stats-wrapper","user-details-wrapper"],[1,"user-stat-value"],[1,"user-stat-name"],[1,"ion-text-wrap",3,"click"],["no-padding",""],[1,"empty-list-message"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.TgZ(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",4),t.TgZ(7,"ion-button",5),t.NdJ("click",function(){return i.addRecord()}),t.ALo(8,"translate"),t._UZ(9,"ion-icon",6),t.qZA(),t.TgZ(10,"ion-button",5),t.NdJ("click",function(){return i.pideregistros0()}),t.ALo(11,"translate"),t._UZ(12,"ion-icon",7),t.qZA(),t.YNc(13,Y,2,0,"ion-button",8),t.YNc(14,j,2,0,"ion-button",8),t.qZA(),t.qZA(),t.TgZ(15,"ion-toolbar",9),t.TgZ(16,"ion-row",10),t.TgZ(17,"ion-col"),t.TgZ(18,"ion-searchbar",11),t.NdJ("ngModelChange",function(l){return i.searchQuery=l})("ionChange",function(){return i.searchList()}),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.TgZ(20,"ion-col",12),t.TgZ(21,"ion-button",13),t.NdJ("click",function(){return i.showAgeFilter=!i.showAgeFilter}),t.ALo(22,"translate"),t._UZ(23,"ion-icon",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"form",15),t.TgZ(25,"ion-row",16),t.TgZ(26,"ion-col",17),t.TgZ(27,"div",18),t.TgZ(28,"span",19),t._uU(29),t.qZA(),t.TgZ(30,"span",20),t._uU(31,"Filter by age"),t.qZA(),t.TgZ(32,"span",19),t._uU(33),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-col",17),t.TgZ(35,"ion-range",21),t.NdJ("ionChange",function(){return i.searchList()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"ion-content",22),t.TgZ(37,"ion-item-divider",23),t.YNc(38,z,4,7,"ion-label",24),t.qZA(),t.TgZ(39,"ion-segment",25),t.NdJ("ionChange",function(l){return i.filterContacts(l)}),t.TgZ(40,"ion-segment-button",26),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"ion-segment-button",27),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"ion-segment-button",28),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.YNc(49,W,2,2,"ion-list",24),t.YNc(50,K,2,2,"ion-list",24),t.YNc(51,X,3,2,"ion-grid",24),t.YNc(52,tt,3,3,"h3",29),t.TgZ(53,"ion-infinite-scroll",30),t.NdJ("ionInfinite",function(l){return i.loadData(l)}),t._UZ(54,"ion-infinite-scroll-content",31),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.hij(" ",i.tituloxx," "),t.xp6(2),t.MGl("title"," ",t.lcZ(8,21,"AGREGARM"),""),t.xp6(3),t.MGl("title"," ",t.lcZ(11,23,"REFRESCARM"),""),t.xp6(3),t.Q6J("ngIf","grid"===i.viewType),t.xp6(1),t.Q6J("ngIf","list"===i.viewType),t.xp6(4),t.s9C("placeholder",t.lcZ(19,25,"BUSCARM")),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("hidden",!i.showAgeFilter),t.xp6(1),t.MGl("title"," ",t.lcZ(22,27,"FILTROM"),""),t.xp6(3),t.Q6J("formGroup",i.rangeForm)("hidden",!i.showAgeFilter),t.xp6(5),t.Oqu(i.rangeForm.controls.dual.value.lower),t.xp6(4),t.Oqu(i.rangeForm.controls.dual.value.upper),t.xp6(5),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0),t.xp6(3),t.hij(" ",t.lcZ(42,29,"TODOSM")," "),t.xp6(3),t.hij(" ",t.lcZ(45,31,"ACTIVOSM")," "),t.xp6(3),t.hij(" ",t.lcZ(48,33,"INACTIVOSM")," "),t.xp6(2),t.Q6J("ngIf",0===i.efecto),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"list"===i.viewType),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"grid"===i.viewType),t.xp6(1),t.Q6J("ngIf",0===(null==i.itemsList?null:i.itemsList.length)))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.YG,o.gu,_.O5,o.Nd,o.wI,o.VI,o.j9,s.JJ,s.On,s._Y,s.JL,s.sg,o.I_,o.QI,s.u,o.W2,o.rH,o.cJ,o.GO,o.ju,o.MB,o.Q$,o.q_,_.sg,o.Ie,G.B,o.jY,o.BJ,f.A6,o.uN,o.yp,o.PM,o.FN],pipes:[m.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),r})();var it=c(22675);let ot=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[_.ez,o.Pc,a.K,s.u5,s.UX,f.YL,it.v,Z.Bz.forChild([{path:"",component:et}]),m.aw.forChild()]]}),r})()},22675:(U,A,c)=>{c.d(A,{v:()=>h});var o=c(69808),Z=c(93075),_=c(51062),a=c(23349),m=c(55787),s=c(56604),f=c(5e3);let h=(()=>{class v{}return v.\u0275fac=function(p){return new(p||v)},v.\u0275mod=f.oAB({type:v}),v.\u0275inj=f.cJS({imports:[[o.ez,Z.u5,Z.UX,a.Pc,m.Bz,s.Cl,_.aw.forChild()]]}),v})()},63814:(U,A,c)=>{c.d(A,{B:()=>f});var o=c(70655),Z=c(47423),_=c(96090),a=c(5e3),m=c(23349);const s=["search"];let f=(()=>{class h{constructor(d,p,T){this.modalController=d,this.ngZone=p,this.navParams=T,this.title="AGM project",this.zoom=16}dismissModal(){this.modalController.dismiss("close")}dadireccion(){this.modalController.dismiss({direccion:this.address,la:this.latitude,lo:this.longitude})}ngOnInit(){this.uubx=this.navParams.get("uubx")}loadMap(){}clearWatch(){null!=this.watchId&&_.b.clearWatch({id:this.watchId})}setCurrentLocationa33(){if(Z.dV.isPluginAvailable("Geolocation"))try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,p)=>{d&&(this.latitude=d.coords.latitude,this.longitude=d.coords.longitude)})}catch(d){console.error(d)}}setCurrentLocationa(){try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,p)=>{d&&(this.latitude=d.coords.latitude,this.longitude=d.coords.longitude,this.getAddress(this.latitude,this.longitude))})}catch(d){console.error(d)}}setCurrentLocation2a(){if(Z.dV.isPluginAvailable("Geolocation"))try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,p)=>{this.latitude=Number(this.uubx.substring(this.uubx.indexOf("{")+1,this.uubx.indexOf("\xb0"))),this.longitude=Number(this.uubx.substring(this.uubx.indexOf("\xb0")+1,this.uubx.indexOf("}"))),0!==this.latitude&&this.latitude&&this.getAddress(this.latitude,this.longitude)})}catch(d){console.error(d)}}markerDragEnd(d){0!==this.latitude&&this.latitude&&(this.latitude=d.coords.lat,this.longitude=d.coords.lng,this.getAddress(this.latitude,this.longitude))}getAddress(d,p){this.geoCoder.geocode({location:{lat:d,lng:p}},(T,q)=>{"OK"===q?T[0]?this.address=T[0].formatted_address:window.alert("No results found"):window.alert("Geocoder failed due to: "+q)})}closeModal(){return(0,o.mG)(this,void 0,void 0,function*(){this.modalController.dismiss("close")})}}return h.\u0275fac=function(d){return new(d||h)(a.Y36(m.IN),a.Y36(a.R0b),a.Y36(m.X1))},h.\u0275cmp=a.Xpm({type:h,selectors:[["app-my-modal"]],viewQuery:function(d,p){if(1&d&&a.Gf(s,5),2&d){let T;a.iGM(T=a.CRH())&&(p.searchElementRef=T.first)}},decls:19,vars:6,consts:[[3,"translucent"],["color","primary"],["shape","round","color","dark",3,"click"],["slot","start","name","locate"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"ion-padding",3,"fullscreen"],["id","book-search-input","role","search"],["type","text","placeholder","Ingrese direcci\xf3n","autocorrect","off","autocapitalize","off","spellcheck","off","type","text",1,"book-search-input","native-input","sc-ion-input-ios",3,"keydown.enter"],["search",""],["type","submit","expand","block",1,"login-btn",3,"click"]],template:function(d,p){1&d&&(a.TgZ(0,"ion-header",0),a.TgZ(1,"ion-toolbar",1),a.TgZ(2,"ion-button",2),a.NdJ("click",function(){return p.loadMap()}),a._UZ(3,"ion-icon",3),a._uU(4," Ubicaci\xf3n "),a.qZA(),a.TgZ(5,"ion-buttons",4),a.TgZ(6,"ion-button",5),a.NdJ("click",function(){return p.closeModal()}),a._UZ(7,"ion-icon",6),a.qZA(),a.qZA(),a.TgZ(8,"ion-title",7),a._uU(9),a.qZA(),a.qZA(),a.qZA(),a.TgZ(10,"ion-content",8),a._uU(11),a.TgZ(12,"div",9),a.TgZ(13,"input",10,11),a.NdJ("keydown.enter",function(q){return q.preventDefault()}),a.qZA(),a.qZA(),a.TgZ(15,"h5"),a._uU(16),a.qZA(),a.TgZ(17,"ion-button",12),a.NdJ("click",function(){return p.dadireccion()}),a._uU(18,"Seleccionar"),a.qZA(),a.qZA()),2&d&&(a.Q6J("translucent",!0),a.xp6(9),a.Oqu(p.tituloxx),a.xp6(1),a.Q6J("fullscreen",!0),a.xp6(1),a.AsE("\n",p.latitude,", ",p.longitude," "),a.xp6(5),a.hij("Direcci\xf3n: ",p.address,""))},directives:[m.Gu,m.sr,m.YG,m.gu,m.Sm,m.wd,m.W2],styles:[".book-search-input[_ngcontent-%COMP%]{padding:6px;background:0 0;transition:top .5s ease;background:#bdbaba;border-bottom:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);margin-bottom:10px;margin-top:-1px;color:#fff;width:100%}"]}),h})()},26806:(U,A,c)=>{c.d(A,{B:()=>a});var o=c(5e3),Z=c(69808);const _=function(m,s){return{"no-animated":m,inline:s}};let a=(()=>{class m{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275cmp=o.Xpm({type:m,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(f,h){1&f&&o._UZ(0,"div",0),2&f&&o.Q6J("ngClass",o.WLB(2,_,h.noAnimated,h.inline))("ngStyle",h.styles)},directives:[Z.mk,Z.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),m})()}}]);