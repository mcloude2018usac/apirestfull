{"version":3,"sources":["webpack:///src/app/DESARROLLO/TIENDAS/provides/provides.module.ts","webpack:///src/app/DESARROLLO/TIENDAS/provides/provides.page.ts","webpack:///src/app/DESARROLLO/TIENDAS/provides/provides.page.html"],"names":["ProvidesPageModule","routerOutlet","router","authenticationService","alertController","translateService","modalController","showAgeFilter","showmenu","items","variables","userinfo","viewType","tituloxx","efecto","seguro","msg","currentSegment","searchSubject","ReplaySubject","this","apifoto","getapifoto","getcopiauser","logo1","dalogo1","searchQuery","get","subscribe","value","pideregistros","itemsList","filtro","role","idempresa","_id","email","getReg","then","data","err","presentAlert","error","filterList","list","query","filter","item","nombre","toLowerCase","includes","event","setTimeout","target","complete","length","disabled","i","navigate","state","user","llave","tipovista","moneda","sienvio","titulo"],"mappings":"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","file":"x","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule} from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule } from '@angular/forms';\nimport { ProvidesPage } from './provides.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule, TranslateModule.forChild(),\n    RouterModule.forChild([{ path: '', component: ProvidesPage }]),\n    ComponentsModule\n  ],\n  declarations: [ProvidesPage]\n})\nexport class ProvidesPageModule {}\n","import { Component , OnInit , ViewChild } from '@angular/core';\nimport {AlertController, ModalController ,  IonRouterOutlet} from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport {  Router , NavigationExtras } from '@angular/router';\nimport { AuthenticationService } from '../../services/Authentication.service';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ReplaySubject} from 'rxjs';\nimport { IonInfiniteScroll } from '@ionic/angular';\n\n@Component({\n  selector: 'app-provides',\n  templateUrl: './provides.page.html',\n  styleUrls: ['./provides.page.scss'],\n})\nexport class ProvidesPage implements OnInit {\n  @ViewChild(IonInfiniteScroll, { static : false }) infiniteScroll: IonInfiniteScroll;\nrangeForm: FormGroup;\nsearchQuery: string;\nshowAgeFilter = false;\nshowmenu = false;\napifoto: String;\nlogo1:any;\n  items: any  = [] ;\n  variables: any = [];\n  userinfo: any = [];\n  viewType = 'grid';\n  tituloxx = '';\n  efecto = 0;\n  seguro ='';\n  msg = '';\n  \n  \n  lat: number;\n    lng: number;\n    address: string;\n  \n  \n  itemsList: Array<any>;\n  public currentSegment: string = \"Todos\";\n  searchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\n\nconstructor(   private routerOutlet: IonRouterOutlet , private router: Router, private authenticationService: AuthenticationService,\n   public alertController: AlertController,     public translateService: TranslateService    ,    private modalController: ModalController\n   ) { this.apifoto = this.authenticationService.getapifoto();\n }\n\n  ngOnInit() {\n   // this.variables = this.router.getCurrentNavigation().extras.state.variables;\n    this.userinfo = this.authenticationService.getcopiauser();\n    \n    this.logo1=this.authenticationService.dalogo1(this.userinfo);\n    this.variables=null;\n    this.tituloxx =   'Tiendas' ;\n    this.searchQuery = '';\n    this.translateService.get('SEGUROM').subscribe((value) => {   this.seguro = value  });\n    this.translateService.get('MSGM').subscribe((value) => {   this.msg = value  });\n    this.pideregistros();\n  }\n\n \n  pideregistros0() {\n   this.pideregistros();\n  }\n  pideregistros() {\n       this.itemsList = [];\n       this.efecto = 0 ;\n       let filtro = '';\n       if (this.userinfo[0].role === 'Asociadoadmin') {\n        filtro = 'todos/Activo/' +  this.userinfo[0].idempresa._id + '/' + this.userinfo[0].email;\n       } else {\n          filtro = 'todos/Activo/' +  this.userinfo[0].idempresa._id;\n       }\n\n       this.authenticationService.getReg(filtro, 'asociados', 0).then((data) => {\n       this.efecto=1;\n       this.items =  data;\n       this.itemsList = this.items;\n }, (err) => {\n   this.authenticationService.presentAlert(err.error , this.msg , '');\n });\n  }\n  searchList() {\n \n    const query = (this.searchQuery && this.searchQuery !== null) ? this.searchQuery : '';\n    this.itemsList = this.filterList(this.items, query);\n  }\n filterList(list, query): Array<any> {\n   return list.filter(item => item.nombre.toLowerCase().includes(query.toLowerCase()));\n  }\n  loadData(event) {\n    setTimeout(() => {\n      event.target.complete();\n      if ( this.items.length === 1000) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n\n  damenu(i, item) {\n\n\n    const navigationExtras: NavigationExtras = {\n      state: {\n        variables: this.variables,\n        user: 'this.username',\n        llave: item._id,\n        tipovista: item.tipovista,\n        moneda: item.moneda,\n        sienvio: item.sienvio,\n        titulo: 'Categorias ' + item.nombre\n      }\n    };\n    this.router.navigate(['categoria-list'], navigationExtras);\n\n  }\n\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n  \n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n\n    <ion-buttons slot=\"end\">\n      <ion-button >\n     <!--   <img alt=\"logo\" id=\"header_logo\" height=\"33\" src=\"./assets/sample-images/walkthrough/logoarriba3.svg\">-->\n      </ion-button>\n      <img alt=\"logo\" id=\"header_logo\" height=\"33\" [src]=\"apifoto + logo1\">\n    </ion-buttons>\n\n\n    <ion-title>\n    {{tituloxx}}\n    </ion-title>\n    \n  </ion-toolbar>\n  <ion-toolbar class=\"filters-toolbar\">\n    <ion-row class=\"searchbar-row\" align-items-center>\n      <ion-col>\n        <ion-searchbar animated [(ngModel)]=\"searchQuery\" (ionChange)=\"searchList()\" placeholder=\"{{ 'BUSCARM' | translate }}\"></ion-searchbar>\n      </ion-col>\n     \n    </ion-row>\n \n  </ion-toolbar>\n\n</ion-header>\n\n<ion-content class=\"deals-listing-content\">\n\n  <div class=\"listing-item\" *ngFor=\"let item of  itemsList \" [ngClass]=\"{'ended': (1 < 0), 'imminent-end': (1 > 0), 'ends-soon': (1 > 0), 'distant-end': (1 >= 10)}\">\n    <ion-row class=\"top-row\">\n      <ion-col class=\"logo-col\" size=\"6\">\n        <app-aspect-ratio [ratio]=\"{w: 100, h: 32}\">\n          <app-image-shell [src]=\"apifoto  + item.foto\" [alt]=\"'deals logo'\" class=\"deal-logo\" animation=\"spinner\"></app-image-shell>\n        </app-aspect-ratio>\n      </ion-col>\n      <ion-col class=\"call-to-action-col\">\n        <ion-button class=\"claim-button\" expand=\"block\" color=\"claim\"  (click)=\"damenu(i,item)\" >\n          <span class=\"button-cta\">COMPRAR</span>\n          <ion-icon slot=\"end\" name=\"arrow-forward\"></ion-icon>\n        </ion-button>   \n      </ion-col>\n     \n    </ion-row>\n    <ion-row class=\"middle-row\">\n      <ion-col class=\"info-col\">\n        <h4 class=\"item-name\">\n          <a class=\"name-anchor\" [routerLink]=\"\">\n            <app-text-shell animation=\"bouncing\" [data]=\"item.nombre\"></app-text-shell>\n          </a>\n        </h4>\n        <p class=\"item-description\">\n          <app-text-shell animation=\"bouncing\" lines=\"3\" [data]=\"item.msmpublicidad\"></app-text-shell>\n        </p>\n      </ion-col>\n      \n   \n    </ion-row>\n    \n\n\n\n</div>\n\n\n</ion-content>\n"]}