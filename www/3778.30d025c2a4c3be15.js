"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3778],{23778:(D,z,h)=>{h.r(z),h.d(z,{formulariomovilsd2ListPageModule:()=>ji});var d=h(23349),j=h(55787),L=h(69808),k=h(33678),C=h(51062),g=h(93075),E=h(36351),p=h(70655),Q=h(68554),B=h(4707),V=h(63814),G=h(15190),U=h(26388),i=h(5e3),$=h(59978),W=h(21113);const X=["inputId"],K=["fotoa"];function ii(l,f){if(1&l&&(i.TgZ(0,"div"),i._UZ(1,"dynamic-form",11,12),i.qZA()),2&l){const e=i.oxw();i.xp6(1),i.Q6J("controls",e.controls)("form",e.form)}}function ti(l,f){1&l&&(i.TgZ(0,"div",13),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&l&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"obteniendo_info")," "))}let H=(()=>{class l{constructor(e,o,t,n,a,r,m,s){this.platform=e,this.router=o,this.modalController=t,this.controlsService=n,this.translateService=a,this.authenticationService=r,this.navParams=m,this.actionSheetController=s,this.variables=[],this.userinfo=[],this.tituloxx="",this.vgrupo=[],this.fechascompone=[],this.horascompone=[],this.submitted=[],this.OPERACIONT="CREAR",this.camposlectura=[],this.camposmodifica=[],this.camposimprime=[],this.muestrabien=!1,this.apifoto=this.authenticationService.getapifoto()}dismissModal(){this.modalController.dismiss("close","","modal-filters")}ionViewDidEnter(){}ngOnInit(){this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.navParams.get("title"),this.idcategoria=this.navParams.data.record2.idcategoria,this.permisoscamposfrm=this.navParams.data.permisoscamposfrm,this.modopcx="modal-fullscreen","true"===this.variables.modopc&&(this.platform.is("desktop")||this.platform.is("mobileweb"))&&(this.modopcx="modal-fullscreen2"),this.permisoscamposfrm&&(this.permisoscamposfrm.camposmodificables.id&&(this.camposmodifica=this.permisoscamposfrm.camposmodificables.id.split(";")),this.permisoscamposfrm.camposlectura.id&&(this.camposlectura=this.permisoscamposfrm.camposlectura.id.split(";")),this.permisoscamposfrm.camposimprime.id&&(this.camposimprime=this.permisoscamposfrm.camposimprime.id.split(";"))),this.nidformulario=this.navParams.data.record2.nidformulario,this.idformulario=this.navParams.data.record2.idformulario,this.idllave0=this.navParams.data.record2.idllave0,this.regitrosacumulados=this.navParams.data.record2.regitrosacumulados,this.geoposiciontxt=this.navParams.data.record2.geoposiciontxt,this.tipo2=this.navParams.data.record2.tipo2,this.tipo=this.navParams.data.record2.tipo,this.ejecuta=this.navParams.data.record2.ejecuta,this.ejecutainicio=this.navParams.data.record2.ejecutainicio,this.ejecutaactualiza=this.navParams.data.record2.ejecutaactualiza,this.ejecutaelimina=this.navParams.data.record2.ejecutaelimina,null==this.navParams.get("record")?(this.OPERACIONT=this.authenticationService.datraduccion("guardar")+" "+this.navParams.data.record2.nidformulario,this.titulo1=this.authenticationService.datraduccion("agregar")+" "+this.navParams.data.record2.nidformulario,this.titulo2=this.authenticationService.datraduccion("completa_form")+" "+this.navParams.data.record2.nidformulario,this.translateService.get("NUEVOM").subscribe(e=>{this.tituloxx=e+" "+this.tituloxx,this.lpermiso=e})):(this.OPERACIONT=this.authenticationService.datraduccion("actualizar")+" "+this.navParams.data.record2.nidformulario,this.titulo1=this.authenticationService.datraduccion("actualizar")+" "+this.navParams.data.record2.nidformulario,this.titulo2=this.authenticationService.datraduccion("camios_deseas")+" "+this.navParams.data.record2.nidformulario,this.translateService.get("ACTUALIZAM").subscribe(e=>{this.tituloxx=e+" "+this.tituloxx,this.lpermiso=e}),this._ID=this.navParams.data.record._id),this.form=new g.cw({}),this.onValueChanges()}onValueChanges(){this.form.valueChanges.subscribe(e=>{this.submitted=e})}existecampo(e,o){let t=!1;for(let n=0;n<e.length;n++)if(e[n]===o){t=!0;break}return t}davaloritem(e,o){let t="";return t=e[o]?e[o]:"",t}dalistacat(e,o){let t;for(let n=0;n<e.length;n++)if(e[n].label===o){t={key:e[n].key,label:e[n].label};break}return t}ngAfterViewInit(){this.regitrosacumulados=this.navParams.data.record2.regitrosacumulados,null==this.navParams.get("record")?this.authenticationService.getReg(this.idformulario+"/formulariod/"+this.userinfo[0].idempresa._id,"frmmovils",0).then(e=>{const o=[],t=e;for(let r=0;r<t.length;r++){const m=t[r].required;let s="",u="",c=[];switch(t[r].type){case"fecha":this.fechascompone.push(t[r].name);break;case"fechahora":this.horascompone.push(t[r].name);break;case"label":u=".";break;case"check":u=t[r].default,""==u?u="false":u||(u="false");break;case"select":c=this.dalistacat(t[r].options,t[r].default);break;default:u=t[r].default}c||(c=""),u||(u=""),s="true"==m?" (*)":" "+this.authenticationService.datraduccion("opcional"),"label"===t[r].type&&(u=".",s="");let _=t[r].disabled,v=t[r].hidden,b=t[r].required,w=!1,I=!1;this.permisoscamposfrm&&(w=this.existecampo(this.camposmodifica,t[r]._id),!0!==w?(_=this.existecampo(this.camposlectura,t[r]._id),!0===_?(v=!1,b=t[r].required,I=!0,w=!1):(I=!1,v=!0,b=!1,t[r].required&&(void 0===u||""===u||null===u)&&(u="0"),w=!1)):(v=!1,_=!1,b=!0,"0"===u&&(u="")));var n=t[r].title+s;"es"!==this.authenticationService.getlenguaje()&&t[r].title2&&(n=t[r].title2+s),o.push("selectremoto"===t[r].type||"select"===t[r].type||"select2"===t[r].type?{modopxc:this.modopcx,siimagenlocal:this.userinfo[0].idempresa.siimagenes,titulo1:this.titulo1,titulo2:this.titulo2,idformulario:this.idformulario,idcampo:t[r]._id,actualiza:"no",verregistros:t[r].verregistros,order:t[r].order,name:t[r].name,type:t[r].type,required:""+b,placeholder:t[r].placeholder,display:t[r].display,filtrocampo2:t[r].filtrocampo2,selected:t[r].selected,disabled:""+_,hidden:""+v,title:n,position:t[r].position,labelsizefondt:t[r].labelsizefondt,default:t[r].default,valor:"verquery"===t[r].type?u:c,default2:t[r].default2,default3:t[r].default3,copiarencampo:t[r].copiarencampo,categoria:t[r].categoria,combofijo:t[r].combofijo,idcadmovil:this.tt,options:t[r].options,fondoetiqueta:t[r].fondoetiqueta,coloretiqueta:t[r].coloretiqueta,blike:t[r].blike,rangomin:t[r].rangomin,rangomax:t[r].rangomax,rangostep:t[r].rangostep,alfatypo2:t[r].alfatypo2,alfatypo:t[r].alfatypo,idfrmconsulta:t[r].idfrmconsulta,idfrmconsulta2:t[r].idfrmconsulta2,idfrmconsulta2origen:t[r].idfrmconsulta2origen,idfrmconsultaorigen:t[r].idfrmconsultaorigen,usarunaves:t[r].usarunaves,idcampofiltro2:t[r].idcampofiltro2,idcampofiltro:t[r].idcampofiltro,idcampofiltromanual:t[r].idcampofiltromanual,regitrosacumulados:this.regitrosacumulados,frmapirest:t[r].frmapirest,idfrmconsultaorigenpapa:t[r].idfrmconsultaorigenpapa,idfrmconsultaorigenpapa2:t[r].idfrmconsultaorigenpapa2,idcampofiltropapa:t[r].idcampofiltropapa}:{modopxc:this.modopcx,siimagenlocal:this.userinfo[0].idempresa.siimagenes,titulo1:this.titulo1,titulo2:this.titulo2,idformulario:this.idformulario,idcampo:t[r]._id,actualiza:"no",order:t[r].order,name:t[r].name,type:t[r].type,required:""+b,placeholder:t[r].placeholder,display:t[r].display,filtrocampo2:t[r].filtrocampo2,selected:t[r].selected,disabled:""+_,hidden:""+v,title:n,position:t[r].position,labelsizefondt:t[r].labelsizefondt,default:t[r].default,valor:u,default2:t[r].default2,default3:t[r].default3,copiarencampo:t[r].copiarencampo,categoria:t[r].categoria,combofijo:t[r].combofijo,idcadmovil:this.tt,options:t[r].options,fondoetiqueta:t[r].fondoetiqueta,coloretiqueta:t[r].coloretiqueta,blike:t[r].blike,rangomin:t[r].rangomin,rangomax:t[r].rangomax,rangostep:t[r].rangostep,alfatypo2:t[r].alfatypo2,alfatypo:t[r].alfatypo,idfrmconsulta:"",idfrmconsulta2:"",idfrmconsulta2origen:"",idfrmconsultaorigen:"",usarunaves:"",idcampofiltro:"",idcampofiltro2:"",idcampofiltromanual:"",regitrosacumulados:"",frmapirest:"",idfrmconsultaorigenpapa:"",idcampofiltropapa:""})}this.controls=this.controlsService.getControls(o),this.muestrabien=!0},e=>{this.authenticationService.presentAlert(e.error,this.authenticationService.datraduccion("precaucion"),"")}):this.authenticationService.getReg(this.idformulario+"/formulariod/"+this.userinfo[0].idempresa._id,"frmmovils",0).then(e=>{const o=[],t=e;for(let a=0;a<t.length;a++){let m="";m="true"===t[a].required?" (*)":" "+this.authenticationService.datraduccion("opcional");let s="";"fecha"===(s=this.davaloritem(this.navParams.data.record,t[a].name),t[a].type)&&(s=this.authenticationService.dafecha(s,10),this.fechascompone.push(t[a].name)),s||(s=""),"label"===t[a].type&&(s=".",m="");let u=t[a].disabled,c=t[a].hidden,_=t[a].required,v=!1,b=!1;this.permisoscamposfrm&&(v=this.existecampo(this.camposmodifica,t[a]._id),!0!==v?(u=this.existecampo(this.camposlectura,t[a]._id),!0===u?(c=!1,_=t[a].required,b=!0,v=!1):(b=!1,c=!0,_=!1,t[a].required&&(void 0===s||""===s||null===s)&&(s="0"),v=!1)):(c=!1,u=!1,_=!0,"0"===s&&(s="")));var n=t[a].title+m;"es"!==this.authenticationService.getlenguaje()&&t[a].title2&&(n=t[a].title2+m),o.push("verquery"===t[a].type||"selectremoto"===t[a].type||"select"===t[a].type||"select2"===t[a].type?{modopxc:this.modopcx,siimagenlocal:this.userinfo[0].idempresa.siimagenes,titulo1:this.titulo1,titulo2:this.titulo2,idformulario:this.idformulario,idcampo:t[a]._id,actualiza:"si",verregistros:t[a].verregistros,order:t[a].order,name:t[a].name,type:t[a].type,required:""+_,placeholder:t[a].placeholder,display:t[a].display,filtrocampo2:t[a].filtrocampo2,selected:t[a].selected,disabled:""+u,hidden:""+c,title:n,position:t[a].position,labelsizefondt:t[a].labelsizefondt,default:"",valor:s,default2:t[a].default2,default3:t[a].default3,copiarencampo:t[a].copiarencampo,categoria:t[a].categoria,combofijo:t[a].combofijo,idcadmovil:this.tt,options:t[a].options,fondoetiqueta:t[a].fondoetiqueta,coloretiqueta:t[a].coloretiqueta,blike:t[a].blike,rangomin:t[a].rangomin,rangomax:t[a].rangomax,rangostep:t[a].rangostep,alfatypo2:t[a].alfatypo2,alfatypo:t[a].alfatypo,idfrmconsulta:t[a].idfrmconsulta,idfrmconsulta2:t[a].idfrmconsulta2,idfrmconsulta2origen:t[a].idfrmconsulta2origen,idfrmconsultaorigen:t[a].idfrmconsultaorigen,usarunaves:t[a].usarunaves,idcampofiltro:t[a].idcampofiltro,idcampofiltro2:t[a].idcampofiltro2,idcampofiltromanual:t[a].idcampofiltromanual,regitrosacumulados:this.regitrosacumulados,frmapirest:t[a].frmapirest,idfrmconsultaorigenpapa:t[a].idfrmconsultaorigenpapa,idfrmconsultaorigenpapa2:t[a].idfrmconsultaorigenpapa2,idcampofiltropapa:t[a].idcampofiltropapa}:{modopxc:this.modopcx,siimagenlocal:this.userinfo[0].idempresa.siimagenes,titulo1:this.titulo1,titulo2:this.titulo2,idformulario:this.idformulario,idcampo:t[a]._id,actualiza:"si",order:t[a].order,name:t[a].name,type:t[a].type,required:""+_,placeholder:t[a].placeholder,display:t[a].display,filtrocampo2:t[a].filtrocampo2,selected:t[a].selected,disabled:""+u,hidden:""+c,title:n,position:t[a].position,labelsizefondt:t[a].labelsizefondt,default:"",valor:s,default2:t[a].default2,default3:t[a].default3,copiarencampo:t[a].copiarencampo,categoria:t[a].categoria,combofijo:t[a].combofijo,idcadmovil:this.tt,options:t[a].options,fondoetiqueta:t[a].fondoetiqueta,coloretiqueta:t[a].coloretiqueta,blike:t[a].blike,rangomin:t[a].rangomin,rangomax:t[a].rangomax,rangostep:t[a].rangostep,alfatypo2:t[a].alfatypo2,alfatypo:t[a].alfatypo,idfrmconsulta:"",idfrmconsulta2:"",idfrmconsulta2origen:"",idfrmconsultaorigen:"",usarunaves:"",idcampofiltro:"",idcampofiltro2:"",idcampofiltromanual:"",regitrosacumulados:"",frmapirest:"",idfrmconsultaorigenpapa:"",idcampofiltropapa:""})}this.controls=this.controlsService.getControls(o),this.muestrabien=!0},e=>{this.authenticationService.presentAlert(e.error,this.authenticationService.datraduccion("precaucion"),"")})}objectToArray(e){var o=[];for(var t in e)o.push([t,e[t]]);return o}submitForm(){if("INVALID"===this.form.status)this.authenticationService.presentAlert(this.authenticationService.datraduccion("ingrese_todoscampos"),this.authenticationService.datraduccion("precaucion"),"");else{let n="Actualiza";for(let a=0;a<this.fechascompone.length;a++)this.submitted[this.fechascompone[a]]=this.authenticationService.dafecha(this.submitted[this.fechascompone[a]],2);for(let a=0;a<this.horascompone.length;a++);if(null==this.navParams.get("record")&&(n="Crea"),null==this.navParams.get("record")){this.submitted.usuarionew=this.userinfo[0].email,this.submitted.usuarioup=this.userinfo[0].email,this.submitted.usuarioup2=this.userinfo[0].nombrealias,this.submitted.usuarionew2=this.userinfo[0].nombrealias,this.submitted.idempresa=this.userinfo[0].idempresa._id,this.submitted.idpapa=this.idllave0,this.submitted.geoposicionxxx=this.geoposiciontxt,this.submitted.estadointerno="activo",this.submitted.comentarioanulado="",this.submitted.comentariocerrado="";const a={idcat:this.idcategoria,idform:this.idformulario,idpapa:this.idllave0,papaitem:this.regitrosacumulados[0].item,estructura:this.submitted,tipo:this.tipo,tipo2:this.tipo2,ejecuta:this.ejecuta,ejecutainicio:this.ejecutainicio,ejecutaactualiza:this.ejecutaactualiza,ejecutaelimina:this.ejecutaelimina,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:n,accion:"Crea en formulario movil"}};a&&this.authenticationService.createRegmovil("",a,"frmmovils").then(r=>{this.modalController.dismiss("ok","","modal-filters")},r=>{this.authenticationService.presentAlert(r.error,this.authenticationService.datraduccion("precaucion"),"")})}else{var e=this.objectToArray(this.submitted),o=this.objectToArray(this.navParams.data.record),t="";for(let r=0;r<e.length;r++)for(let m=0;m<o.length;m++)e[r][0]===o[m][0]&&e[r][1]===o[m][1]&&(t=t+e[r][0]+"\xb0");this.submitted.usuarioup=this.userinfo[0].email,this.submitted.usuarioup2=this.userinfo[0].nombrealias,this.submitted.idempresa=this.userinfo[0].idempresa._id,this.submitted.idpapa=this.idllave0,this.submitted.geoposicionxxx=this.geoposiciontxt,this.submitted.estadointerno="activo",this.submitted.comentarioanulado="",this.submitted.comentariocerrado="";const a={idcat:this.idcategoria,idform:this.idformulario,estructura:this.submitted,estructuraante:this.navParams.data.record,nocambio:t,idpapa:this.idllave0,papaitem:this.regitrosacumulados[0].item,tipo:this.tipo,tipo2:this.tipo2,ejecuta:this.ejecuta,ejecutainicio:this.ejecutainicio,ejecutaactualiza:this.ejecutaactualiza,ejecutaelimina:this.ejecutaelimina,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:n,accion:"Actualiza en formulario movil"}};a&&this.authenticationService.createRegmovil(this.navParams.data.record._id,a,"frmmovils").then(r=>{this.modalController.dismiss("ok","","modal-filters")},r=>{this.authenticationService.presentAlert(r.error,this.authenticationService.datraduccion("precaucion"),"")})}}}dacomponente(e,o){return(0,p.mG)(this,void 0,void 0,function*(){let t="";"ubicacion"===e&&(t=this.form.controls.ubicacion.value);const n=yield this.modalController.create({component:V.B,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,uubx:t},cssClass:"modal-fullscreen"});return n.onWillDismiss().then(a=>{"close"===a.data||("direccion"===e?this.form.controls.direccion.setValue(a.data.direccion):this.form.controls.ubicacion.setValue(a.data.direccion+" {"+a.data.la+"\xb0"+a.data.lo+"}"))}),yield n.present()})}takePicture(e){return(0,p.mG)(this,void 0,void 0,function*(){const o=yield U.V1.getPhoto({correctOrientation:!0,height:200,width:200,quality:60,allowEditing:!0,resultType:U.dk.DataUrl,source:U.oK.Camera});this.authenticationService.generateFromImage(o.dataUrl,200,200,.5,t=>{"fotoa"===e&&(this.fotoimg=t,this.form.controls.foto.setValue(this.authenticationService.procesafoto(this.form.controls.foto.value)))})})}uploadPWA2(e,o){o&&o.length>0&&this.firstFileToBase64(o[0]).then(n=>{this.authenticationService.generateFromImage(n,200,300,.5,a=>{"fotoa"===e&&(this.fotoimg=a,this.form.controls.foto.setValue(this.authenticationService.procesafoto(this.form.controls.foto.value)))})},n=>{"fotoa"===e&&(this.fotoimg=null,this.form.controls.foto1.setValue(""))})}uploadPWA(e){if("fotoa"===e){if(null==this.fotoa)return;this.uploadPWA2(e,this.fotoa.nativeElement.files)}}firstFileToBase64(e){return new Promise((o,t)=>{const n=new FileReader;n&&null!=e?(n.readAsDataURL(e),n.onload=()=>{o(n.result)},n.onerror=a=>{t(a)}):t(new Error("No file found"))})}takePicture2(e){return(0,p.mG)(this,void 0,void 0,function*(){"fotoa"===e&&this.fotoa.nativeElement.click()})}fotodatos(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Foto",cssClass:"my-custom-class",buttons:[{text:"Galeria",role:"destructive",icon:"image-outline",handler:()=>{this.takePicture2(e)}},{text:"Camara",icon:"camera-outline",handler:()=>{this.takePicture(e)}}]})).present()})}combodatos(e,o,t,n,a,r){return(0,p.mG)(this,void 0,void 0,function*(){const m=yield this.modalController.create({component:G.j,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{grabax:r,variables:this.variables,userinfo:this.userinfo,record2:null,op:o,frm:t,idllave:this.idllave,titlex:"Buscar "+a},cssClass:"modal-fullscreen"});return m.onWillDismiss().then(s=>{let u=[];u=s,"close"!==u.data&&this.form.controls[n].setValue(u.data?u.data.nombre:"")}),yield m.present()})}}return l.\u0275fac=function(e){return new(e||l)(i.Y36(d.t4),i.Y36(j.F0),i.Y36(d.IN),i.Y36($.X),i.Y36(C.sK),i.Y36(Q.$),i.Y36(d.X1),i.Y36(d.BX))},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-formulariomovils2-create"]],viewQuery:function(e,o){if(1&e&&(i.Gf(X,5),i.Gf(K,7)),2&e){let t;i.iGM(t=i.CRH())&&(o.inputElement=t.first),i.iGM(t=i.CRH())&&(o.fotoa=t.first)}},decls:16,vars:4,consts:[["color","primary"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"create-form-content"],["ion-content-print","",1,"user-details-fields","fields-section"],[4,"ngIf","ngIfElse"],["loading",""],[1,"form-actions-wrapper"],["color","primary","expand","block","fill","outline","type","submit",3,"hidden","click"],[3,"controls","form"],["dynamicForm","dynamicForm"],[1,"loading"]],template:function(e,o){if(1&e&&(i.TgZ(0,"ion-header"),i.TgZ(1,"ion-toolbar",0),i.TgZ(2,"ion-buttons",1),i.TgZ(3,"ion-button",2),i.NdJ("click",function(){return o.dismissModal()}),i._UZ(4,"ion-icon",3),i.qZA(),i.qZA(),i._UZ(5,"ion-title",4),i.qZA(),i.qZA(),i.TgZ(6,"ion-content",5),i.TgZ(7,"section",6),i.YNc(8,ii,3,2,"div",7),i.YNc(9,ti,3,3,"ng-template",null,8,i.W1O),i.qZA(),i.qZA(),i.TgZ(11,"ion-footer"),i.TgZ(12,"ion-row",9),i.TgZ(13,"ion-col"),i.TgZ(14,"ion-button",10),i.NdJ("click",function(){return o.submitForm()}),i._uU(15),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const t=i.MAs(10);i.xp6(8),i.Q6J("ngIf",o.controls)("ngIfElse",t),i.xp6(6),i.Q6J("hidden",!o.muestrabien),i.xp6(1),i.Oqu(o.OPERACIONT)}},directives:[d.Gu,d.sr,d.Sm,d.YG,d.gu,d.wd,d.W2,L.O5,d.fr,d.Nd,d.wI,W.r],pipes:[C.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;font-size:x-large}"]}),l})();var ei=h(21295),O=h(56604),oi=h(26806),ai=h(75525);function ri(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){return i.CHM(e),i.oxw().addRecord()}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",22),i.qZA()}2&l&&i.MGl("title"," ",i.lcZ(1,1,"AGREGARM"),"")}function si(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){return i.CHM(e),i.oxw().comandoscmd()}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",23),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"ejecutar_comandos"))}function ni(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-searchbar",24),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw().searchQuery=t})("ionChange",function(){return i.CHM(e),i.oxw().searchList()}),i.ALo(1,"translate"),i.qZA()}if(2&l){const e=i.oxw();i.s9C("title",e.idformulario),i.s9C("placeholder",i.lcZ(1,3,"BUSCARM")),i.Q6J("ngModel",e.searchQuery)}}function li(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",25),i.NdJ("click",function(){return i.CHM(e),i.oxw().showFilter()}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",26),i.qZA()}2&l&&i.MGl("title"," ",i.lcZ(1,1,"FILTROM"),"")}function ci(l,f){if(1&l&&(i.TgZ(0,"div"),i.TgZ(1,"ion-item-divider",18),i.TgZ(2,"ion-label",29),i.TgZ(3,"span"),i._UZ(4,"div",30),i.ALo(5,"sanitizeHtml"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&l){const e=i.oxw(2);i.xp6(4),i.Q6J("innerHtml",i.lcZ(5,1,e.master),i.oJD)}}function ui(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-item",27),i.NdJ("click",function(){return i.CHM(e),i.oxw().toggleDetails()}),i._UZ(1,"ion-icon",28),i._uU(2),i.ALo(3,"translate"),i.YNc(4,ci,6,3,"div",19),i.qZA()}if(2&l){const e=i.oxw();i.xp6(2),i.AsE(" ",i.lcZ(3,3,"datos_de")," ",e.formularionombre," "),i.xp6(2),i.Q6J("ngIf",e.showDetails)}}function di(l,f){if(1&l&&(i.TgZ(0,"ion-label"),i._uU(1),i.ALo(2,"translate"),i.ALo(3,"translate"),i.qZA()),2&l){const e=i.oxw();i.xp6(1),i.lnq("",i.lcZ(2,3,"NOREGISTROSM")," ",e.itemsList.length," ",i.lcZ(3,5,"NOREGISTROSM5"),"")}}function mi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).dageoposicion(t.item)}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",40),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"geoposicion"))}function hi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).generareporte(t.item)}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",41),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"generar_reporte"))}function fi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).printpdf(t.item,0)}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",42),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"imprimir_pdf"))}function pi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).printpdf(t.item,1)}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",42),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"imprimir_pdf"))}function gi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).print(t.item)}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",42),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"imprimir"))}function vi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).printexcel(t.item)}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",43),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"imprimir_excel"))}function _i(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-button",6),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).deleteRecord(t.item)}),i.ALo(1,"translate"),i._UZ(2,"ion-icon",44),i.qZA()}2&l&&i.s9C("title",i.lcZ(1,1,"ELIMINARM"))}function bi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-buttons",45),i.TgZ(1,"ion-button",46),i.NdJ("click",function(){i.CHM(e);const t=i.oxw().$implicit;return i.oxw(2).otrasop(t.item,t.nombre)}),i.ALo(2,"translate"),i._UZ(3,"ion-icon",47),i.qZA(),i.qZA()}2&l&&(i.xp6(1),i.s9C("title",i.lcZ(2,1,"MENUM")))}function xi(l,f){if(1&l){const e=i.EpF();i.TgZ(0,"ion-item-sliding"),i.TgZ(1,"ion-item",33),i.NdJ("click",function(){const n=i.CHM(e).$implicit;return i.oxw(2).updateRecord(n.item)}),i._UZ(2,"ion-icon",34),i.TgZ(3,"ion-label",29),i.TgZ(4,"span"),i._UZ(5,"div",30),i.ALo(6,"sanitizeHtml"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"ion-item",35),i.TgZ(8,"ion-toolbar",36),i.TgZ(9,"ion-badge",37),i._uU(10),i.qZA(),i.TgZ(11,"ion-buttons",38),i.YNc(12,mi,3,3,"ion-button",5),i.qZA(),i.TgZ(13,"ion-buttons",38),i.YNc(14,hi,3,3,"ion-button",5),i.qZA(),i.TgZ(15,"ion-buttons",38),i.YNc(16,fi,3,3,"ion-button",5),i.qZA(),i.TgZ(17,"ion-buttons",38),i.YNc(18,pi,3,3,"ion-button",5),i.qZA(),i.TgZ(19,"ion-buttons",38),i.YNc(20,gi,3,3,"ion-button",5),i.qZA(),i.TgZ(21,"ion-buttons",38),i.YNc(22,vi,3,3,"ion-button",5),i.qZA(),i.TgZ(23,"ion-buttons",38),i.YNc(24,_i,3,3,"ion-button",5),i.qZA(),i.YNc(25,bi,4,3,"ion-buttons",39),i.qZA(),i.qZA(),i.qZA()}if(2&l){const e=f.$implicit,o=f.index,t=i.oxw(2);i.xp6(5),i.Q6J("innerHtml",i.lcZ(6,10,e.nombre),i.oJD),i.xp6(5),i.Oqu(t.itemsList.length-o),i.xp6(2),i.Q6J("ngIf",""!==e.item.geoposicionxxx&&void 0!==e.item.geoposicionxxx),i.xp6(2),i.Q6J("ngIf",""!==t.variables.generareporte&&void 0!==t.variables.generareporte),i.xp6(2),i.Q6J("ngIf","true"===t.variables.imprimeorden&&"false"===t.variables.reporteencabezado),i.xp6(2),i.Q6J("ngIf","true"===t.variables.imprimeorden&&"true"===t.variables.reporteencabezado),i.xp6(2),i.Q6J("ngIf","false"===t.variables.imprimeorden),i.xp6(2),i.Q6J("ngIf","true"===t.variables.imprimeorden2),i.xp6(2),i.Q6J("ngIf","true"===t.variables.peliminacion&&"Cerrado"!==e.item.estadointerno&&"Anulado"!==e.item.estadointerno),i.xp6(1),i.Q6J("ngIf",1===t.tienedetalle)}}function yi(l,f){if(1&l&&(i.TgZ(0,"cdk-virtual-scroll-viewport",31),i.YNc(1,xi,26,12,"ion-item-sliding",32),i.qZA()),2&l){const e=i.oxw();i.Q6J("items",e.itemsList),i.xp6(1),i.Q6J("cdkVirtualForOf",e.itemsList)("cdkVirtualForTrackBy",e.trackItems)}}function Ci(l,f){1&l&&(i.TgZ(0,"ion-item",49),i.TgZ(1,"ion-label",29),i._UZ(2,"skeleton-element"),i._UZ(3,"skeleton-element"),i._UZ(4,"skeleton-element",50),i.qZA(),i.qZA())}const Si=function(){return[0,1,2,3,4,5,6]};function Zi(l,f){1&l&&(i.TgZ(0,"ion-list"),i.YNc(1,Ci,5,0,"ion-item",48),i.qZA()),2&l&&(i.xp6(1),i.Q6J("ngForOf",i.DdM(1,Si)))}function Ai(l,f){1&l&&(i.TgZ(0,"h3",51),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&l&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"NODATOS")," "))}let Pi=(()=>{class l{constructor(e,o,t,n,a,r,m,s){this.platform=e,this.Pdfx=o,this.routerOutlet=t,this.router=n,this.authenticationService=a,this.alertController=r,this.translateService=m,this.modalController=s,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.items2=[],this.variables=[],this.userinfo=[],this.showDetails=!1,this.tienedetalle=0,this.viewType="list",this.camposbusqueda=[],this.comandos=[],this.tituloxx="",this.cmpver=[],this.keysprint=[],this.efecto=0,this.seguro="",this.msg="",this.currentSegment="Todos",this.searchSubject=new B.t(1),this.keysaa=[],this.keys=[],this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}ngOnInit(){this.variables=this.router.getCurrentNavigation().extras.state.variables,this.modopc=this.router.getCurrentNavigation().extras.state.modopc,this.rranterior=this.router.getCurrentNavigation().extras.state.rranterior,this.estadomaster=this.router.getCurrentNavigation().extras.state.estadomaster,this.rrsiguiente=this.router.getCurrentNavigation().extras.state.rrsiguiente,this.ejecutaactualiza=this.router.getCurrentNavigation().extras.state.ejecutaactualiza,this.ejecutaelimina=this.router.getCurrentNavigation().extras.state.ejecutaelimina,this.ejecutainicio=this.router.getCurrentNavigation().extras.state.ejecutainicio,this.comandos=void 0===this.router.getCurrentNavigation().extras.state.variables.comandos?[]:this.router.getCurrentNavigation().extras.state.variables.comandos,this.noreg=this.router.getCurrentNavigation().extras.state.noreg,this.formularionombre=this.router.getCurrentNavigation().extras.state.formularionombre,this.paginarr="formulariomovilsd"+this.rrsiguiente+"ListPage",this.master=this.router.getCurrentNavigation().extras.state.master,this.permisoscamposfrm=this.router.getCurrentNavigation().extras.state.permisoscamposfrm,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.idllave0=this.router.getCurrentNavigation().extras.state.idllave0,this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.title,this.idcategoria=this.router.getCurrentNavigation().extras.state.idcategoria,this.verregistros=this.router.getCurrentNavigation().extras.state.verregistros,this.nidformulario=this.router.getCurrentNavigation().extras.state.nidformulario,this.idformulario=this.router.getCurrentNavigation().extras.state.idformulario,this.geoposicion=this.router.getCurrentNavigation().extras.state.geoposicion,this.regitrosacumulados=this.router.getCurrentNavigation().extras.state.regitrosacumulados,this.cmpver=this.router.getCurrentNavigation().extras.state.datat,this.tipo2=this.router.getCurrentNavigation().extras.state.tipo2,this.tipo=this.router.getCurrentNavigation().extras.state.tipo,this.ejecuta=this.router.getCurrentNavigation().extras.state.ejecuta,this.ejecutaope=this.router.getCurrentNavigation().extras.state.ejecutaope,this.ejecutaope2=this.router.getCurrentNavigation().extras.state.ejecutaope2,this.searchQuery="",this.translateService.get("SEGUROM").subscribe(e=>{this.seguro=e}),this.translateService.get("MSGM").subscribe(e=>{this.msg=e}),this.rangeForm=new g.cw({dual:new g.NI({lower:1,upper:100})}),this.currentSegment="todos",this.authenticationService.convertToDataURLviaCanvas(this.authenticationService.getapifoto()+this.userinfo[0].idempresa.foto0,"image/png").then(e=>this.logotipoempresa=e),this.authenticationService.getReg(this.idformulario+"/formulariocamposver2/"+this.userinfo[0].idempresa._id,"frmmovils",0).then(e=>{let o;o=e;for(let n=0;n<o.length;n++){var t=o[n].nombre;"es"!==this.authenticationService.getlenguaje()&&(t=o[n].nombre2),this.camposbusqueda.push({name:"myInput",type:"radio",label:t,value:o[n]._id+"\xb0"+o[n].tipo})}},e=>{this.authenticationService.presentAlert(e.error,this.msg,"")}),this.authenticationService.getReg(this.idllave+"/camposdetalle/"+this.userinfo[0].idempresa._id+"/1","frmmovilds",0).then(e=>{let o=[];if(o=e,this.items2=[],o.length>0){this.tienedetalle=1;for(let n=0;n<o.length;n++){let a="";"Check List Detalle"===e[n].type&&(a="Check list ");var t=e[n].title;"es"!==this.authenticationService.getlenguaje()&&(t=e[n].title2),this.items2.push(0===n?{name:o[n].name,type:"radio",label:a+t,checked:!0,value:o[n]._id+"\xb0"+o[n].idformdetalle.id+"\xb0/ProductoListPage\xb0"+this.nidformulario+" -> "+t+"\xb0"+e[n].type+"\xb0"+e[n].maxnumregistros}:{name:o[n].name,type:"radio",label:a+t,checked:!1,value:o[n]._id+"\xb0"+o[n].idformdetalle.id+"\xb0/ProductoListPage\xb0"+this.nidformulario+" -> "+t+"\xb0"+e[n].type+"\xb0"+e[n].maxnumregistros})}}},e=>{this.authenticationService.presentAlert(e.error,this.msg,"")}),this.pideregistros(this.currentSegment),this.geoposiciontxt="",this.geoposiciontxt="false"===this.geoposicion||void 0===this.geoposicion?"":this.setCurrentLocationa33()}filterContacts(e){const o=e.detail.value;this.currentSegment=o,this.pideregistros(o)}pideregistros0(){this.pideregistros(this.currentSegment)}pideregistros(e){this.itemsList=[],this.efecto=0;let o="";o="Ver solo los mios"===this.verregistros?this.idllave+"/formulariodetalle/"+this.userinfo[0].idempresa._id+"\xb0"+this.userinfo[0].email+"\xb0"+this.idllave0+"\xb0"+this.authenticationService.getlenguaje()+"\xb0"+this.authenticationService.replaceAll(this.apifoto,"/","-"):this.idllave+"/formulariodetalle/"+this.userinfo[0].idempresa._id+"\xb0todos\xb0"+this.idllave0+"\xb0"+this.authenticationService.getlenguaje()+"\xb0"+this.authenticationService.replaceAll(this.apifoto,"/","-"),this.authenticationService.getReg(o,"frmmovils",0).then(t=>{this.efecto=1,this.items=t,this.itemsList=this.items},t=>{this.authenticationService.presentAlert(t.error,this.msg,"")})}generareporte(e){}setCurrentLocationa33(){return(0,p.mG)(this,void 0,void 0,function*(){var e;e=yield this.authenticationService.getGPS(),this.geoposiciontxt=e.length>0?e[0].la+"\xac"+e[0].ln:""})}printa(e){return(0,p.mG)(this,void 0,void 0,function*(){let o="";o=e._id+"/formulariogeneralpdfsolo/"+this.userinfo[0].idempresa._id+"\xb0"+this.idformulario+"\xb0"+this.idformulario+"\xb0"+this.authenticationService.getlenguaje(),this.authenticationService.getReg(o,"frmmovils",0).then(t=>{this.efecto=1,this.Pdfx.printfrmsolologos(this.nidformulario,null,this.tipo2,t,this.logotipoempresa,this.userinfo[0].idempresa.nombre,this.userinfo[0].nombrealias,this.authenticationService.dafechastringtodatefinal(new Date,"dd-MM-yyyy, hh:mm aaa"),this.userinfo[0].idempresa.subtitulo,this.nidformulario,this.userinfo[0].idempresa.simarca,"portrait")},t=>{this.authenticationService.presentAlert(t.error,this.msg,"")})})}printpdf(e,o){return(0,p.mG)(this,void 0,void 0,function*(){1===o?this.authenticationService.getReg(this.nidformulario+"\xb0"+this.idformulario+"/"+e._id+"/"+this.userinfo[0].idempresa._id+"\xb0"+this.authenticationService.getlenguaje()+"/frmmovilpreportepdf/1","frmmovils",0).then(t=>{var n;console.log(t),n=t,console.log(n.estado),this.Pdfx.printfrmsolologos(this.nidformulario,null,this.tipo2,n.estado,this.logotipoempresa,this.userinfo[0].idempresa.nombre,this.userinfo[0].nombrealias,this.authenticationService.dafechastringtodatefinal(new Date,"dd-MM-yyyy, hh:mm aaa"),this.userinfo[0].idempresa.subtitulo,this.nidformulario,this.userinfo[0].idempresa.simarca,"portrait")}):this.authenticationService.getReg(this.nidformulario+"\xb0"+this.idformulario+"/"+e._id+"/"+this.userinfo[0].idempresa._id+"/frmmovilpreportepdf/1","frmmovils",0).then(t=>{var n;console.log(t),n=t,console.log(n.estado),this.Pdfx.printfrmsolo(this.nidformulario,e,this.tipo2,n.estado)})})}print(e){return(0,p.mG)(this,void 0,void 0,function*(){this.authenticationService.printproceso(e,this.userinfo,this.nidformulario,this.nidformulario,this.cmpver,this.idformulario,this.logotipoempresa,this.tipo2,this.variables)})}trackItems(e,o){return o.id}searchList(){this.searchSubject.next({lower:this.rangeForm.controls.dual.value.lower,upper:this.rangeForm.controls.dual.value.upper,query:this.searchQuery}),this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(e,o){return e.filter(t=>t.nombre.toLowerCase().includes(o.toLowerCase()))}otrasop(e,o){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.authenticationService.datraduccion("sel_opcion"),inputs:this.items2,buttons:[{text:this.authenticationService.datraduccion("cancelar"),role:"cancel",cssClass:"secondary",handler:n=>{}},{text:this.authenticationService.datraduccion("aceptar"),handler:n=>{const a=n.split("\xb0");"Check List Detalle"===a[4]?this.combodatoscheck0(this.idformulario,e,a[0],a[3]):this.authenticationService.getReg(a[1],"frmmovils",0).then(r=>{this.authenticationService.getReg(a[1]+"/formulariocamposver/"+this.userinfo[0].idempresa._id,"frmmovils",0).then(m=>{this.authenticationService.getReg("todos/permisos/"+this.userinfo[0].idempresa._id+"/"+a[1]+"/"+this.userinfo[0]._id,"formulariousrds",0).then(s=>{var u;u=s.length>0?{acciones:s[0].acciones,master:o,activas:s[0].activas,anularorden:s[0].anularorden,cerradas:s[0].cerradas,comandos:s[0].comandos,comentariosorden:s[0].comentariosorden,documentacionorden:s[0].documentacionorden,documentosorden:s[0].documentosorden,ejecutadas:s[0].ejecutadas,eliminaorden:s[0].eliminaorden,filtrarorden:s[0].filtrarorden,estadomaster:e.estadointerno,finalizaorden:s[0].finalizaorden,fotosorden:s[0].fotosorden,generareporte:s[0].generareporte,imprimeorden:s[0].imprimeorden,pactualizacion:s[0].actualizacion,pausarorden:s[0].pausarorden,pconsulta:s[0].consulta,pcreacion:s[0].creacion,peliminacion:s[0].eliminacion,pfiltro:s[0].filtro,pingreso:s[0].ingreso,potros1:"",publico:s[0].publico,tareasorden:s[0].tareasorden,trayectoriaorden:s[0].trayectoriaorden}:{acciones:this.variables.acciones,master:o,activas:this.variables.activas,comandos:this.variables.comandos,anularorden:this.variables.anularorden,cerradas:this.variables.cerradas,comentariosorden:this.variables.comentariosorden,documentacionorden:this.variables.documentacionorden,documentosorden:this.variables.documentosorden,ejecutadas:this.variables.ejecutadas,eliminaorden:this.variables.eliminaorden,filtrarorden:this.variables.filtrarorden,estadomaster:"activo",finalizaorden:this.variables.finalizaorden,fotosorden:this.variables.fotosorden,generareporte:this.variables.generareporte,imprimeorden:this.variables.imprimeorden,imprimeorden2:this.variables.imprimeorden2,pactualizacion:this.variables.pactualizacion,pausarorden:this.variables.pausarorden,pconsulta:this.variables.pconsulta,pcreacion:this.variables.pcreacion,peliminacion:this.variables.peliminacion,pfiltro:this.variables.pfiltro,pingreso:this.variables.pingreso,potros1:this.variables.potros,publico:this.variables.publico,tareasorden:this.variables.tareasorden,trayectoriaorden:this.variables.trayectoriaorden};let _=[];_=this.regitrosacumulados,_.push({tabla:this.nidformulario,idtabla:this.idformulario,item:e});const v={state:{variables:u,user:null,master:this.master,estadomaster:"activo",idllave0:e._id,modopc:this.modopc,idllave:r[0]._id,datat:m,idcategoria:r[0].categoria,idcampo:a[0],verregistros:this.verregistros,idformulario:r[0]._id,tipo2:r[0].tipo2,ejecuta:r[0].ejecuta,ejecutaactualiza:this.ejecutaactualiza,ejecutaelimina:this.ejecutaelimina,ejecutainicio:this.ejecutainicio,tipo:r[0].tipo,nidformulario:r[0].nombre,regitrosacumulados:_,title:a[3],rranterior:""+(Number(this.rranterior)+1),rrsiguiente:""+(Number(this.rrsiguiente)+1),noreg:a[5],geoposicion:r[0].geoposicion}};this.router.navigate([this.paginarr],v)},s=>{this.authenticationService.presentAlert(s.error,this.msg,"")})},m=>{this.authenticationService.presentAlert(m.error,this.msg,"")})},r=>{this.authenticationService.presentAlert(r.error,this.msg,"")})}}]})).present()})}davaloritem(e,o){let t="";return t=e[o]?e[o]:"",t}combodatoscheck0(e,o,t,n){return(0,p.mG)(this,void 0,void 0,function*(){let a="";this.authenticationService.getReg(e+"\xb0"+t+"/formulariodidxx/"+this.userinfo[0].idempresa._id,"frmmovils",0).then(r=>{let m;const s=r;for(let c=0;c<s.length;c++){let v="";v="true"===s[c].required?" (*)":" (Opcional)";let b="";b=this.davaloritem(o,s[c].name),b||(b=""),"label"===s[c].type&&(b=".");var u=s[c].title+v;if("es"!==this.authenticationService.getlenguaje()&&s[c].title2&&(u=s[c].title2+v),"select3"===s[c].type){const w=[];w.push({tabla:this.nidformulario,idtabla:this.idformulario,item:o}),a=s[c].name,m={idformulario:e,idcampo:s[c]._id,actualiza:"si",verregistros:s[c].verregistros,order:s[c].order,name:s[c].name,type:s[c].type,required:s[c].required,placeholder:s[c].placeholder,display:s[c].display,filtrocampo2:s[c].filtrocampo2,selected:s[c].selected,disabled:s[c].disabled,hidden:s[c].hidden,title:u,position:s[c].position,labelsizefondt:s[c].labelsizefondt,default:"",default2:s[c].default2,default3:s[c].default3,copiarencampo:s[c].copiarencampo,valor:b,categoria:s[c].categoria,combofijo:s[c].combofijo,idcadmovil:"",options:s[c].options,fondoetiqueta:s[c].fondoetiqueta,coloretiqueta:s[c].coloretiqueta,blike:s[c].blike,rangomin:s[c].rangomin,rangomax:s[c].rangomax,rangostep:s[c].rangostep,alfatypo2:s[c].alfatypo2,alfatypo:s[c].alfatypo,idfrmconsulta:s[c].idfrmconsulta,idfrmconsulta2:s[c].idfrmconsulta2,idfrmconsulta2origen:s[c].idfrmconsulta2origen,idfrmconsultaorigen:s[c].idfrmconsultaorigen,usarunaves:s[c].usarunaves,idcampofiltro:s[c].idcampofiltro,idcampofiltro2:s[c].idcampofiltro2,idcampofiltromanual:s[c].idcampofiltromanual,regitrosacumulados:w,idfrmconsultaorigenpapa:s[c].idfrmconsultaorigenpapa,idfrmconsultaorigenpapa2:s[c].idfrmconsultaorigenpapa2,frmapirest:s[c].frmapirest,idcampofiltropapa:s[c].idcampofiltropapa}}}this.combodatoscheck(m,o,n,t,a)},r=>{this.authenticationService.presentAlert(r.error,this.authenticationService.datraduccion("precaucion"),"")})})}replaceAll(e,o,t){return e.replace(new RegExp(o,"g"),t)}dageoposicion(e){var o="https://www.google.com/maps/search/?api=1&query="+e.geoposicionxxx.replace("\xac",",");this.authenticationService.addNewEvent2nube("",o)}combodatoscheck(e,o,t,n,a){return(0,p.mG)(this,void 0,void 0,function*(){const r=o;if("no"===e.actualiza)for(let S=0;S<e.regitrosacumulados.length;S++)e.regitrosacumulados[S].idtabla===e.idformulario&&(e.regitrosacumulados[S].item=r);let m="sigraba";"true"===e.combofijo&&(m="nograba");let s="";e.idfrmconsulta&&""!==e.idfrmconsulta.id&&void 0!==e.idfrmconsulta.id&&(s="si",m="formulariott");let u="",c="";if(void 0!==e.idcampofiltro&&""!==e.idcampofiltro){for(let S=0;S<e.regitrosacumulados.length;S++)if(e.regitrosacumulados[S].idtabla===e.idfrmconsultaorigen.id){for(let Z=0;Z<e.idfrmconsulta2origen.length;Z++){var _=e.regitrosacumulados[S].item[e.idfrmconsulta2origen[Z].nombre.split("\xb0")[0]],v=_.split("\xb0"),b=_;if(_.indexOf("\xb0")>=0){b="<br>";for(let x=0;x<v.length;x++)v[x].indexOf("\xac")<0&&(b=b+"<strong>"+v[x].split(":")[0]+"</strong> : "+v[x].split(":")[1]+"<br>")}c=c+"<strong>"+e.idfrmconsulta2origen[Z].nombre.split("\xb0")[1]+"</strong>: "+b.split("\xac")[0]+"<br>"}c=c+"\xac"+e.regitrosacumulados[S].item._id}u="Ver solo los mios"===e.verregistros?""!==e.idcampofiltropapa&&void 0!==e.idcampofiltropapa?'"'+e.idcampofiltropapa+'":"'+c+'","usuarionew":"'+this.userinfo[0].email+'"':'"'+e.idcampofiltro+'":"'+c+'","usuarionew":"'+this.userinfo[0].email+'"':""!==e.idcampofiltropapa&&void 0!==e.idcampofiltropapa?'"'+e.idcampofiltropapa+'":"'+c+'"':c.indexOf("\xac")>=0?'"'+e.idcampofiltro+'":{"$regex" : "'+c.split("\xac")[1]+'", "$options" : "i"}':'"'+e.idcampofiltro+'":"'+c+'"'}else"Ver solo los mios"===e.verregistros&&(u='"usuarionew":"'+this.userinfo[0].email+'"');if(""===e.idcampofiltropapa||void 0===e.idcampofiltropapa){let S=[];if("select3"===e.type&&(S=e.valor.split("\xac")[0].split(";")),e.idfrmconsultaorigenpapa.id){var I="";for(let x=0;x<e.regitrosacumulados.length;x++)if(e.regitrosacumulados[x].idtabla===e.idfrmconsultaorigenpapa.id){I=e.regitrosacumulados[x].item.idpapa;break}for(let x=0;x<this.regitrosacumulados.length;x++)if(this.regitrosacumulados[x].idtabla===e.idfrmconsultaorigenpapa.id){I=this.regitrosacumulados[x].item._id;break}}const Z=yield this.modalController.create({component:G.j,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{tarraymultiple:S,idpapafiltro:I,idcampofiltromanual:e.idcampofiltromanual,tipo:e.type,filtrar:u,idfrmconsulta:e.idfrmconsulta,idfrmconsulta2:e.idfrmconsulta2,siformulatiot:s,variables:"",userinfo:"",grabax:m,vector:e.options,record2:null,op:e.idcampo,frm:"frmcats",idllave:"",titlex:"Buscar "+t},cssClass:"modal-fullscreen"});return Z.onWillDismiss().then(x=>{let N=[];N=x,"close"!==N.data&&N.data&&this.authenticationService.getReg(this.idformulario+"/formulariod/"+this.userinfo[0].idempresa._id,"frmmovils",0).then(F=>{const M={},A=F;for(let y=0;y<A.length;y++){const P=A[y].name;let q="";q=this.davaloritem(o,A[y].name),q||(q=""),""!==A[y].type&&(M[P]=P===a?N.data.correos:q)}M.usuarioup=this.userinfo[0].email,M.idempresa=this.userinfo[0].idempresa._id;const J={idcat:this.idcategoria,idform:this.idformulario,estructura:M,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Actualiza",accion:"Actualiza en formulario movil"}};J&&this.authenticationService.createRegmovil(o._id,J,"frmmovils").then(y=>{this.pideregistros(this.currentSegment)},y=>{this.authenticationService.presentAlert(y.error,this.authenticationService.datraduccion("precaucion"),"")})})}),yield Z.present()}u=""===u?"idpapa:'":this.replaceAll(u,"/","\xeb"),this.authenticationService.getReg(e.idfrmconsultaorigenpapa.id+"/"+u+"/"+this.userinfo[0].idempresa._id+"/formulariosolopapa/","frmmovils",0).then(Z=>(0,p.mG)(this,void 0,void 0,function*(){let x=[];"select3"===e.type&&(x=e.valor.split("\xac")[0].split(";"));var N="";Z[0]._id&&(N=Z[0]._id);const F=yield this.modalController.create({component:G.j,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{idcampofiltromanual:e.idcampofiltromanual,tarraymultiple:x,tipo:e.type,idpapafiltro:N,filtrar:u,idfrmconsulta:e.idfrmconsulta,idfrmconsulta2:e.idfrmconsulta2,siformulatiot:s,variables:"",userinfo:"",grabax:m,vector:e.options,record2:null,op:e.idcampo,frm:"frmcats",idllave:"",titlex:"Buscar "+e.title},cssClass:"modal-fullscreen"});return F.onWillDismiss().then(M=>{let A=[];A=M,"close"!==A.data&&A.data&&this.authenticationService.getReg(this.idformulario+"/formulariod/"+this.userinfo[0].idempresa._id,"frmmovils",0).then(J=>{const y={},P=J;for(let T=0;T<P.length;T++){const Y=P[T].name;let R="";R=this.davaloritem(o,P[T].name),R||(R=""),""!==P[T].type&&(y[Y]=Y===a?A.data.correos+"\xac"+A.data.correos2:R)}y.usuarioup=this.userinfo[0].email,y.idempresa=this.userinfo[0].idempresa._id;const q={idcat:this.idcategoria,idform:this.idformulario,estructura:y,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Actualiza",accion:"Actualiza en formulario movil"}};q&&this.authenticationService.createRegmovil(o._id,q,"frmmovils").then(T=>{this.pideregistros(this.currentSegment)},T=>{this.authenticationService.presentAlert(T.error,this.authenticationService.datraduccion("precaucion"),"")})})}),yield F.present()}),Z=>{this.authenticationService.presentAlert(Z.error,this.authenticationService.datraduccion("precaucion"),"")})})}deleteRecord(e){return(0,p.mG)(this,void 0,void 0,function*(){var o={estructura:e,papaitem:this.regitrosacumulados[0].item,tipo:this.tipo,tipo2:this.tipo2,ejecuta:this.ejecuta,ejecutaactualiza:this.ejecutaactualiza,ejecutaelimina:this.ejecutaelimina,ejecutainicio:this.ejecutainicio};yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:this.authenticationService.datraduccion("cancelar"),cssClass:"secondary",handler:n=>{}},{text:this.authenticationService.datraduccion("aceptar"),handler:()=>{this.authenticationService.deleteRegbody(e._id+"/"+this.idformulario+"/formulario/"+this.userinfo[0].email+"/"+this.userinfo[0].idempresa._id+"/na","frmmovils",o).then(a=>{this.pideregistros(this.currentSegment)},a=>{this.authenticationService.presentAlert(a.error,this.msg,"")})}}]})).present()})}toggleDetails(){this.showDetails=!this.showDetails}updateRecord(e){return(0,p.mG)(this,void 0,void 0,function*(){if("true"===this.variables.pactualizacion&&"activo"===this.estadomaster){let t=[];t=this.regitrosacumulados,t.push({tabla:this.nidformulario,idtabla:this.idformulario,item:e});var o="modal-fullscreen";"true"===this.modopc&&(this.platform.is("desktop")||this.platform.is("mobileweb"))&&(o="modal-fullscreen2");const n=yield this.modalController.create({component:H,swipeToClose:!0,id:"modal-filters",presentingElement:this.routerOutlet.nativeEl,componentProps:{permisoscamposfrm:this.permisoscamposfrm,variables:this.variables,record:e,title:this.nidformulario,record2:{tipo:this.tipo,tipo2:this.tipo2,ejecutaactualiza:this.ejecutaactualiza,ejecutaelimina:this.ejecutaelimina,ejecutainicio:this.ejecutainicio,ejecuta:this.ejecuta,geoposicion:this.geoposicion,regitrosacumulados:this.regitrosacumulados,idllave0:this.idllave0,idcategoria:this.idcategoria,idformulario:this.idformulario,nidformulario:this.nidformulario},userinfo:this.userinfo},cssClass:o});return n.onWillDismiss().then(a=>{"close"!==a.data&&this.pideregistros(this.currentSegment)}),yield n.present()}})}finalizarfrm(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:this.authenticationService.datraduccion("cancelar"),cssClass:"secondary",handler:t=>{}},{text:this.authenticationService.datraduccion("aceptar"),handler:()=>{const t={operacion:"actualizafrmdirecto",idform:e._id,formulario:this.idllave,update:{estadointerno:"Cerrado"},bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Actualiza",accion:"actualiza formulario estado finaliza "+this.idllave+"  "+e._id}};t&&this.authenticationService.createRegmovil("",t,"frmmovils").then(n=>{this.pideregistros(this.currentSegment)},n=>{this.authenticationService.presentAlert(n.error,"Precauci\xf3n","")})}}]})).present()})}comandoscmd(){return(0,p.mG)(this,void 0,void 0,function*(){for(var e=[],o=0;o<this.comandos.length;o++){var t=this.comandos[o].nombre;"es"!==this.authenticationService.getlenguaje()&&(t=this.comandos[o].nombre2),e.push(0===o?{name:this.comandos[o].nombre,type:"radio",label:t,checked:!0,value:this.comandos[o].email+"\xb0"+this.comandos[o].nombre}:{name:this.comandos[o].nombre,type:"radio",label:t,checked:!1,value:this.comandos[o].email+"\xb0"+this.comandos[o].nombre})}yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.authenticationService.datraduccion("sel_opcion"),inputs:e,buttons:[{text:this.authenticationService.datraduccion("cancelar"),role:"cancel",cssClass:"secondary",handler:a=>{}},{text:this.authenticationService.datraduccion("aceptar"),handler:a=>{this.enviacomando(this.idformulario,a)}}]})).present()})}str2DOMElement(e){var o=document.createElement("iframe");o.style.display="none",document.body.appendChild(o),o.contentDocument.open(),o.contentDocument.write(e),o.contentDocument.close();var t=o.contentDocument.body.firstChild;return document.body.removeChild(o),t}enviacomando(e,o){return(0,p.mG)(this,void 0,void 0,function*(){var t=e+"\xb0"+o,n=o.split("\xb0");if(void 0===t||""===t)this.authenticationService.presentAlert(this.authenticationService.datraduccion("frm_noejecucion"),this.authenticationService.datraduccion("precaucion"),"");else{[].push({tabla:this.nidformulario,idtabla:this.idformulario,item:[]});const r={operacion:"ejecutaoperacion",idempresa:this.userinfo[0].idempresa._id,idcat:this.idcategoria,idform:this.idformulario,estructura:"nada",geoposiciontxt:this.geoposiciontxt,acumulados:this.regitrosacumulados,idpapa:this.idllave0,tipo:this.tipo,tipo2:this.tipo2,ejecuta:t,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Crear",accion:""}};r&&this.authenticationService.createRegmovil("",r,"frmmovils").then(m=>{var s;"csv"===(s=m).tipo?this.authenticationService.bajarexcel(s.data,n[1]+".csv"):this.authenticationService.presentAlert(this.authenticationService.datraduccion("ope_exito"),"","Exito")},m=>{this.authenticationService.presentAlert(m.error,this.authenticationService.datraduccion("precaucion"),"")})}})}ejecutaoperacion(e){return(0,p.mG)(this,void 0,void 0,function*(){var o;if(void 0===(o=1===e?this.ejecutaope:this.ejecutaope2)||""===o)this.authenticationService.presentAlert(this.authenticationService.datraduccion("frm_noejecucion"),this.authenticationService.datraduccion("precaucion"),"");else{const t={operacion:"ejecutaoperacion",idempresa:this.userinfo[0].idempresa._id,idcat:this.idcategoria,idform:this.idformulario,estructura:"nada",geoposiciontxt:this.geoposiciontxt,acumulados:this.regitrosacumulados,idpapa:this.idllave0,tipo:this.tipo,tipo2:this.tipo2,ejecuta:o,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Crear",accion:""}};t&&this.authenticationService.createRegmovil("",t,"frmmovils").then(n=>{this.authenticationService.presentAlert(this.authenticationService.datraduccion("ope_exito"),"","Exito"),this.pideregistros(this.currentSegment)},n=>{this.authenticationService.presentAlert(n.error,this.authenticationService.datraduccion("precaucion"),"")})}})}addRecord(){return(0,p.mG)(this,void 0,void 0,function*(){if(""!==this.noreg&&void 0!==this.noreg&&"0"!==this.noreg&&Number(this.noreg)<=this.itemsList.length)return void this.authenticationService.presentAlert(this.authenticationService.datraduccion("crear_deta0")+this.noreg+this.authenticationService.datraduccion("crear_deta1"),this.msg,"");if("true"===this.geoposicion&&""===this.geoposiciontxt)return void this.authenticationService.presentAlert(this.authenticationService.datraduccion("frm_geosi"),this.msg,"");let e=[];e=this.regitrosacumulados,e.push({tabla:this.nidformulario,idtabla:this.idformulario,item:null});var o="modal-fullscreen";"true"===this.modopc&&(this.platform.is("desktop")||this.platform.is("mobileweb"))&&(o="modal-fullscreen2");const t=yield this.modalController.create({component:H,swipeToClose:!0,id:"modal-filters",presentingElement:this.routerOutlet.nativeEl,componentProps:{permisoscamposfrm:this.permisoscamposfrm,variables:this.variables,record:null,title:this.nidformulario,record2:{tipo:this.tipo,tipo2:this.tipo2,ejecutaactualiza:this.ejecutaactualiza,ejecutaelimina:this.ejecutaelimina,ejecutainicio:this.ejecutainicio,ejecuta:this.ejecuta,geoposiciontxt:this.geoposiciontxt,geoposicion:this.geoposicion,regitrosacumulados:this.regitrosacumulados,idllave0:this.idllave0,idcategoria:this.idcategoria,idformulario:this.idformulario,nidformulario:this.nidformulario},userinfo:this.userinfo},cssClass:o});return t.onWillDismiss().then(n=>{"close"!==n.data&&this.pideregistros(this.currentSegment)}),yield t.present()})}loadData(e){setTimeout(()=>{e.target.complete(),this.virtualScroll.checkEnd(),25===this.itemsList.length&&(e.target.disabled=!0)},500)}toggleInfiniteScroll(){this.infiniteScroll.disabled=!this.infiniteScroll.disabled}showFilter(){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.authenticationService.datraduccion("buscar_campos"),inputs:this.camposbusqueda,buttons:[{text:this.authenticationService.datraduccion("cancelar"),role:"cancel",cssClass:"secondary",handler:o=>{}},{text:this.authenticationService.datraduccion("aceptar"),handler:o=>{this.showFilter2(o)}}]})).present()})}copiar(e){return(0,p.mG)(this,void 0,void 0,function*(){if(navigator.clipboard)try{yield navigator.clipboard.writeText(e._id)}catch(o){}})}showFilter2(e){return(0,p.mG)(this,void 0,void 0,function*(){const o=e.split("\xb0");yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.authenticationService.datraduccion("info_buscar"),inputs:[{name:"campo2",label:"Buscar",placeholder:"",type:o[1]}],buttons:[{text:this.authenticationService.datraduccion("cancelar"),role:"cancel",cssClass:"secondary",handler:n=>{}},{text:this.authenticationService.datraduccion("aceptar"),handler:n=>{this.itemsList=[],this.efecto=0;let a="";a="Ver solo los mios"===this.verregistros?this.idformulario+"/"+o[0]+"/"+n.campo2.replace("/","\xac")+"/"+this.userinfo[0].idempresa._id+"\xb0todosdetalle\xb0"+this.userinfo[0].email+"\xb0"+this.idllave0:this.idformulario+"/"+o[0]+"/"+n.campo2.replace("/","\xac")+"/"+this.userinfo[0].idempresa._id+"\xb0todosdetalle\xb0todos\xb0"+this.idllave0,this.authenticationService.getReg(a,"frmmovils",0).then(r=>{this.efecto=1,this.items=r,this.itemsList=this.items},r=>{this.authenticationService.presentAlert(r.error,this.msg,"")})}}]})).present().then(()=>{document.querySelector("ion-alert input").focus()})})}}return l.\u0275fac=function(e){return new(e||l)(i.Y36(d.t4),i.Y36(ei.$),i.Y36(d.jP),i.Y36(j.F0),i.Y36(Q.$),i.Y36(d.Br),i.Y36(C.sK),i.Y36(d.IN))},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-formulariomovilsd2-list"]],viewQuery:function(e,o){if(1&e&&(i.Gf(d.ju,5),i.Gf(d.aJ,5)),2&e){let t;i.iGM(t=i.CRH())&&(o.infiniteScroll=t.first),i.iGM(t=i.CRH())&&(o.virtualScroll=t.first)}},decls:31,vars:15,consts:[["color","primary"],["slot","start"],["defaultHref","categoriaformularioListPage"],["size","small"],["collapse","true","slot","end"],[3,"title","click",4,"ngIf"],[3,"title","click"],["slot","icon-only","name","refresh-circle-outline"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"title","ngModel","placeholder","ngModelChange","ionChange",4,"ngIf"],[1,"call-to-action-col"],["fill","clear","color","secondary","class","filters-btn",3,"title","click",4,"ngIf"],[3,"formGroup","hidden"],[1,"range-item-row"],["size","12"],["formControlName","dual","color","secondary","pin","true","dualKnobs","true","min","1","max","100","step","1","debounce","400",1,"range-control",3,"ionChange"],["padding","",3,"click",4,"ngIf"],["sticky",""],[4,"ngIf"],["itemSize","56","minBufferPx","900","maxBufferPx","1350",3,"items",4,"ngIf"],["class","empty-list-message",4,"ngIf"],["slot","icon-only","name","add"],["slot","icon-only","name","caret-forward-circle-outline"],["animated","",3,"title","ngModel","placeholder","ngModelChange","ionChange"],["fill","clear","color","secondary",1,"filters-btn",3,"title","click"],["slot","icon-only","name","options"],["padding","",3,"click"],["color","primary","item-right","","name","add"],[1,"ion-text-wrap"],[1,"first-letter",3,"innerHtml"],["itemSize","56","minBufferPx","900","maxBufferPx","1350",3,"items"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["lines","none","detail","",1,"item","md","in-list","ion-activatable","ion-focusable","item-label","hydrated",3,"click"],["name","star","size","small","slot","start"],["lines","full"],["color","transparent"],["color","primary","slot","start"],["slot","secondary"],["slot","primary",4,"ngIf"],["slot","icon-only","name","map-outline"],["slot","icon-only","name","document-outline"],["slot","icon-only","name","print-outline"],["slot","icon-only","name","download-outline"],["slot","icon-only","name","trash-outline"],["slot","primary"],["color","secondary",3,"title","click"],["slot","icon-only","ios","ellipsis-horizontal","md","ellipsis-vertical"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["width","67%"],[1,"empty-list-message"]],template:function(e,o){1&e&&(i.TgZ(0,"ion-header"),i.TgZ(1,"ion-toolbar",0),i.TgZ(2,"ion-buttons",1),i._UZ(3,"ion-back-button",2),i.qZA(),i.TgZ(4,"ion-title",3),i._uU(5),i.qZA(),i.TgZ(6,"ion-buttons",4),i.YNc(7,ri,3,3,"ion-button",5),i.YNc(8,si,3,3,"ion-button",5),i.TgZ(9,"ion-button",6),i.NdJ("click",function(){return o.pideregistros0()}),i.ALo(10,"translate"),i._UZ(11,"ion-icon",7),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"ion-toolbar",8),i.TgZ(13,"ion-row",9),i.TgZ(14,"ion-col"),i.YNc(15,ni,2,5,"ion-searchbar",10),i.qZA(),i.TgZ(16,"ion-col",11),i.YNc(17,li,3,3,"ion-button",12),i.qZA(),i.qZA(),i.TgZ(18,"form",13),i.TgZ(19,"ion-row",14),i._UZ(20,"ion-col",15),i.TgZ(21,"ion-col",15),i.TgZ(22,"ion-range",16),i.NdJ("ionChange",function(){return o.searchList()}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(23,"ion-list"),i.YNc(24,ui,5,5,"ion-item",17),i.qZA(),i.TgZ(25,"ion-item-divider",18),i.YNc(26,di,4,7,"ion-label",19),i.qZA(),i.qZA(),i.TgZ(27,"ion-content"),i.YNc(28,yi,2,3,"cdk-virtual-scroll-viewport",20),i.YNc(29,Zi,2,2,"ion-list",19),i.YNc(30,Ai,3,3,"h3",21),i.qZA()),2&e&&(i.xp6(5),i.hij(" ",o.tituloxx," "),i.xp6(2),i.Q6J("ngIf","true"===o.variables.pcreacion&&"activo"===o.estadomaster),i.xp6(1),i.Q6J("ngIf",0!==o.comandos.length),i.xp6(1),i.MGl("title"," ",i.lcZ(10,13,"REFRESCARM"),""),i.xp6(6),i.Q6J("ngIf","true"===o.variables.pconsulta),i.xp6(2),i.Q6J("ngIf","true"===o.variables.pfiltro),i.xp6(1),i.Q6J("formGroup",o.rangeForm)("hidden",!o.showAgeFilter),i.xp6(6),i.Q6J("ngIf",o.master),i.xp6(2),i.Q6J("ngIf",(null==o.itemsList?null:o.itemsList.length)>0),i.xp6(2),i.Q6J("ngIf",(null==o.itemsList?null:o.itemsList.length)>0&&"list"===o.viewType),i.xp6(1),i.Q6J("ngIf",0===o.efecto),i.xp6(1),i.Q6J("ngIf",0===(null==o.itemsList?null:o.itemsList.length)))},directives:[d.Gu,d.sr,d.Sm,d.oU,d.cs,d.wd,L.O5,d.YG,d.gu,d.Nd,d.wI,g._Y,g.JL,g.sg,d.I_,d.QI,g.JJ,g.u,d.q_,d.rH,d.W2,d.VI,d.j9,g.On,d.Ie,d.Q$,O.N7,O.xd,O.x0,d.td,d.yp,L.sg,oi.B],pipes:[C.X$,ai.A],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}.first-letter2[_ngcontent-%COMP%]{text-transform:capitalize;font-size:10px}.first-letter[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}.image[_ngcontent-%COMP%]{height:5vw;width:5vw;border:2px solid #fff;border-radius:50%;box-shadow:0 0 5px gray;display:block}.circle-pic[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:10%;display:block}"]}),l})();var Ti=h(76398),ki=h(81656),wi=h(22753);let ji=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=i.oAB({type:l}),l.\u0275inj=i.cJS({imports:[[L.ez,d.Pc,k.K,g.u5,g.UX,E.YL,Ti.N,wi.D,O.Cl,j.Bz.forChild([{path:"",component:Pi}]),C.aw.forChild(),ki.YZ]]}),l})()},26806:(D,z,h)=>{h.d(z,{B:()=>k});var d=h(5e3),j=h(69808);const L=function(C,g){return{"no-animated":C,inline:g}};let k=(()=>{class C{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return C.\u0275fac=function(E){return new(E||C)},C.\u0275cmp=d.Xpm({type:C,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(E,p){1&E&&d._UZ(0,"div",0),2&E&&d.Q6J("ngClass",d.WLB(2,L,p.noAnimated,p.inline))("ngStyle",p.styles)},directives:[j.mk,j.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),C})()},75525:(D,z,h)=>{h.d(z,{A:()=>L});var d=h(5e3),j=h(22313);let L=(()=>{class k{constructor(g){this._sanitizer=g}transform(g){return this._sanitizer.bypassSecurityTrustHtml(g)}}return k.\u0275fac=function(g){return new(g||k)(d.Y36(j.H7,16))},k.\u0275pipe=d.Yjl({name:"sanitizeHtml",type:k,pure:!0}),k})()}}]);