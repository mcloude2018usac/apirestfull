(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{74560:(y,w,l)=>{"use strict";l.r(w),l.d(w,{startFocusVisible:()=>n});const v="ion-focused",s=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],n=t=>{let e=[],o=!0;const h=t?t.shadowRoot:document,E=t||document.body,i=m=>{e.forEach(f=>f.classList.remove(v)),m.forEach(f=>f.classList.add(v)),e=m},a=()=>{o=!1,i([])},_=m=>{o=s.includes(m.key),o||i([])},c=m=>{if(o&&m.composedPath){const f=m.composedPath().filter(r=>!!r.classList&&r.classList.contains("ion-focusable"));i(f)}},g=()=>{h.activeElement===E&&i([])};return h.addEventListener("keydown",_),h.addEventListener("focusin",c),h.addEventListener("focusout",g),h.addEventListener("touchstart",a),h.addEventListener("mousedown",a),{destroy:()=>{h.removeEventListener("keydown",_),h.removeEventListener("focusin",c),h.removeEventListener("focusout",g),h.removeEventListener("touchstart",a),h.removeEventListener("mousedown",a)},setFocus:i}}},34474:(y,w,l)=>{"use strict";l.d(w,{a:()=>s,b:()=>t,c:()=>e,d:()=>n,e:()=>o,f:()=>p,g:()=>v});const v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>"},59955:(y,w,l)=>{"use strict";l.d(w,{S:()=>p});const p={bubbles:{dur:1e3,circles:9,fn:(s,n,t)=>{const e=s*n/t-s+"ms",o=2*Math.PI*n/t;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":e}}}},circles:{dur:1e3,circles:8,fn:(s,n,t)=>{const e=n/t,o=s*e-s+"ms",h=2*Math.PI*e;return{r:5,style:{top:9*Math.sin(h)+"px",left:9*Math.cos(h)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(s,n)=>({r:6,style:{left:9-9*n+"px","animation-delay":-110*n+"ms"}})},lines:{dur:1e3,lines:8,fn:(s,n,t)=>({y1:14,y2:26,style:{transform:`rotate(${360/t*n+(n<t/2?180:-180)}deg)`,"animation-delay":s*n/t-s+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(s,n,t)=>({y1:12,y2:20,style:{transform:`rotate(${360/t*n+(n<t/2?180:-180)}deg)`,"animation-delay":s*n/t-s+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(s,n,t)=>({y1:17,y2:29,style:{transform:`rotate(${30*n+(n<6?180:-180)}deg)`,"animation-delay":s*n/t-s+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(s,n,t)=>({y1:12,y2:20,style:{transform:`rotate(${30*n+(n<6?180:-180)}deg)`,"animation-delay":s*n/t-s+"ms"}})}}},92448:(y,w,l)=>{"use strict";l.d(w,{D:()=>t});var v=l(69808),p=l(93075),s=l(23349),n=l(5e3);let t=(()=>{class e{}return e.\u0275fac=function(h){return new(h||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[v.ez,p.u5,p.UX,s.Pc]]}),e})()},16112:(y,w,l)=>{"use strict";l.d(w,{D:()=>A});var v=l(70655),p=l(68554),s=l(40872),n=l.n(s),t=l(5e3),e=l(23349),o=l(69808);const h=["video"],E=["canvas"],i=["fileinput"],a=["search"];function _(m,f){if(1&m){const r=t.EpF();t.TgZ(0,"ion-button",20),t.NdJ("click",function(){return t.CHM(r),t.oxw().stopScan()}),t._UZ(1,"ion-icon",21),t.qZA()}}function c(m,f){if(1&m){const r=t.EpF();t.TgZ(0,"ion-button",22),t.NdJ("click",function(){return t.CHM(r),t.oxw().reset()}),t._UZ(1,"ion-icon",23),t.qZA()}}function g(m,f){if(1&m&&(t.TgZ(0,"h3",24),t._uU(1,"Monto a cobrar: "),t.TgZ(2,"strong"),t._uU(3),t.ALo(4,"currency"),t.qZA(),t.qZA()),2&m){const r=t.oxw();t.xp6(3),t.hij(" ",t.xi3(4,1,r.monto,r.moneda),"")}}let A=(()=>{class m{constructor(r,d,u,M,b,P,x,D){this.alertController=r,this.modalController=d,this.loadingCtrl=u,this.toastCtrl=M,this.authenticationService=b,this.ngZone=P,this.navParams=x,this.plt=D,this.scanActive=!1,this.scanResult=null,this.loading=null,this.title="AGM project",this.zoom=16,this.userinfo=[],this.monto=0,this.plt.is("ios")&&"standalone"in window.navigator&&window}dismissModal(){this.modalController.dismiss({data:"close"})}ngOnInit(){this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.navParams.get("title"),this.moneda=this.navParams.get("moneda"),this.monto=this.navParams.get("monto"),this.tipo=this.navParams.get("tipo")}ngAfterViewInit(){this.canvasElement=this.canvas.nativeElement,this.canvasContext=this.canvasElement.getContext("2d"),this.videoElement=this.video.nativeElement,this.startScan()}showQrToast(){return(0,v.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:`Open ${this.scanResult}?`,position:"top",buttons:[{text:"Open",handler:()=>{window.open(this.scanResult,"_system","location=yes")}}]})).present()})}reset(){this.scanResult=null}stopScan(){this.scanActive=!1}startScan(){return(0,v.mG)(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});this.videoElement.srcObject=r,this.videoElement.setAttribute("playsinline",!0),this.loading=yield this.loadingCtrl.create({}),yield this.loading.present(),this.videoElement.play(),requestAnimationFrame(this.scan.bind(this))})}scan(){return(0,v.mG)(this,void 0,void 0,function*(){if(this.videoElement.readyState===this.videoElement.HAVE_ENOUGH_DATA){this.loading&&(yield this.loading.dismiss(),this.loading=null,this.scanActive=!0),this.canvasElement.height=this.videoElement.videoHeight,this.canvasElement.width=this.videoElement.videoWidth,this.canvasContext.drawImage(this.videoElement,0,0,this.canvasElement.width,this.canvasElement.height);const r=this.canvasContext.getImageData(0,0,this.canvasElement.width,this.canvasElement.height),d=n()(r.data,r.width,r.height,{inversionAttempts:"dontInvert"});d?(this.scanActive=!1,this.scanResult=d.data,""!==this.scanResult&&this.modalController.dismiss({data:this.scanResult})):this.scanActive&&requestAnimationFrame(this.scan.bind(this))}else requestAnimationFrame(this.scan.bind(this))})}captureImage(){this.fileinput.nativeElement.click()}handleFile(r){const d=r.item(0),u=new Image;u.onload=()=>{this.canvasContext.drawImage(u,0,0,this.canvasElement.width,this.canvasElement.height);const M=this.canvasContext.getImageData(0,0,this.canvasElement.width,this.canvasElement.height),b=n()(M.data,M.width,M.height,{inversionAttempts:"dontInvert"});b&&(this.scanResult=b.data,""!==this.scanResult&&this.modalController.dismiss({data:this.scanResult}))},u.src=URL.createObjectURL(d)}closeModal(){return(0,v.mG)(this,void 0,void 0,function*(){this.modalController.dismiss({data:"close"})})}}return m.\u0275fac=function(r){return new(r||m)(t.Y36(e.Br),t.Y36(e.IN),t.Y36(e.HT),t.Y36(e.yF),t.Y36(p.$),t.Y36(t.R0b),t.Y36(e.X1),t.Y36(e.t4))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-my-modalscanqr"]],viewQuery:function(r,d){if(1&r&&(t.Gf(h,5),t.Gf(E,5),t.Gf(i,5),t.Gf(a,5)),2&r){let u;t.iGM(u=t.CRH())&&(d.video=u.first),t.iGM(u=t.CRH())&&(d.canvas=u.first),t.iGM(u=t.CRH())&&(d.fileinput=u.first),t.iGM(u=t.CRH())&&(d.searchElementRef=u.first)}},decls:22,vars:7,consts:[[3,"translucent"],["color","primary"],["collapse","true","slot","end"],["title","Parar escaner","color","danger",3,"click",4,"ngIf"],["title","Reset","color","warning",3,"click",4,"ngIf"],["title","Iniciar escaner",3,"click"],["slot","icon-only","name","qr-code-outline"],["title","leer imagen qr de galeria",3,"click"],["slot","icon-only","name","image-outline"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"ion-padding",3,"fullscreen"],["type","file","accept","image/*;capture=camera","hidden","",3,"change"],["fileinput",""],["class","detail-title",4,"ngIf"],["width","100%",3,"hidden"],["video",""],["hidden",""],["canvas",""],["title","Parar escaner","color","danger",3,"click"],["slot","start","name","stop-circle-outline"],["title","Reset","color","warning",3,"click"],["slot","start","name","refresh-circle-outline"],[1,"detail-title"]],template:function(r,d){1&r&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-buttons",2),t.YNc(3,_,2,0,"ion-button",3),t.YNc(4,c,2,0,"ion-button",4),t.TgZ(5,"ion-button",5),t.NdJ("click",function(){return d.startScan()}),t._UZ(6,"ion-icon",6),t.qZA(),t.TgZ(7,"ion-button",7),t.NdJ("click",function(){return d.captureImage()}),t._UZ(8,"ion-icon",8),t.qZA(),t.TgZ(9,"ion-button",9),t.NdJ("click",function(){return d.closeModal()}),t._UZ(10,"ion-icon",10),t.qZA(),t.qZA(),t.TgZ(11,"ion-title",11),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"ion-content",12),t.TgZ(14,"input",13,14),t.NdJ("change",function(M){return d.handleFile(M.target.files)}),t.qZA(),t._UZ(16,"br"),t.YNc(17,g,5,4,"h3",15),t._UZ(18,"video",16,17),t._UZ(20,"canvas",18,19),t.qZA()),2&r&&(t.Q6J("translucent",!0),t.xp6(3),t.Q6J("ngIf",d.scanActive),t.xp6(1),t.Q6J("ngIf",d.scanResult),t.xp6(8),t.Oqu(d.tituloxx),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(4),t.Q6J("ngIf",0!==d.monto),t.xp6(1),t.Q6J("hidden",!d.scanActive))},directives:[e.Gu,e.sr,e.Sm,o.O5,e.YG,e.gu,e.wd,e.W2],pipes:[o.H9],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-swiper-pagination-space: 30px;--page-swiper-pagination-height: 18px;--page-pagination-bullet-size: 10px;--page-options-gutter: calc(var(--page-margin) / 2);--page-related-items-gutter: calc(var(--page-margin) / 2);--page-color: #089bdf}.book-search-input[_ngcontent-%COMP%]{padding:6px;background:0 0;transition:top .5s ease;background:#bdbaba;border-bottom:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);margin-bottom:10px;margin-top:-1px;color:#fff;width:100%}.detail-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;color:var(--ion-color-dark-tint);margin:0;margin-bottom:calc(var(--page-margin) / 2)}"]}),m})()},69492:(y,w,l)=>{"use strict";l.d(w,{_:()=>v});class v{static areNotEqual(s){let n,t=!0;for(const e in s.controls)if(s.controls.hasOwnProperty(e)){const o=s.controls[e];if(void 0===n)n=o.value;else if(n!==o.value){t=!1;break}}return t?null:{areNotEqual:!0}}}},94327:function(y,w){var p;void 0!==(p=function(){"use strict";function n(i,a,_){var c=new XMLHttpRequest;c.open("GET",i),c.responseType="blob",c.onload=function(){E(c.response,a,_)},c.onerror=function(){console.error("could not download file")},c.send()}function t(i){var a=new XMLHttpRequest;a.open("HEAD",i,!1);try{a.send()}catch(_){}return 200<=a.status&&299>=a.status}function e(i){try{i.dispatchEvent(new MouseEvent("click"))}catch(_){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,h=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(i,a,_){var c=o.URL||o.webkitURL,g=document.createElement("a");g.download=a=a||i.name||"download",g.rel="noopener","string"==typeof i?(g.href=i,g.origin===location.origin?e(g):t(g.href)?n(i,a,_):e(g,g.target="_blank")):(g.href=c.createObjectURL(i),setTimeout(function(){c.revokeObjectURL(g.href)},4e4),setTimeout(function(){e(g)},0))}:"msSaveOrOpenBlob"in navigator?function(i,a,_){if(a=a||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function(i,a){return void 0===a?a={autoBom:!1}:"object"!=typeof a&&(console.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i}(i,_),a);else if(t(i))n(i,a,_);else{var c=document.createElement("a");c.href=i,c.target="_blank",setTimeout(function(){e(c)})}}:function(i,a,_,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof i)return n(i,a,_);var g="application/octet-stream"===i.type,A=/constructor/i.test(o.HTMLElement)||o.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||g&&A||h)&&"undefined"!=typeof FileReader){var f=new FileReader;f.onloadend=function(){var u=f.result;u=m?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=u:location=u,c=null},f.readAsDataURL(i)}else{var r=o.URL||o.webkitURL,d=r.createObjectURL(i);c?c.location=d:location.href=d,c=null,setTimeout(function(){r.revokeObjectURL(d)},4e4)}});o.saveAs=E.saveAs=E,y.exports=E}.apply(w,[]))&&(y.exports=p)}}]);