"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2391],{50076:(x,A,s)=>{s.d(A,{oK:()=>a,GW:()=>p,dk:()=>h});var a=(()=>{return(r=a||(a={})).Prompt="PROMPT",r.Camera="CAMERA",r.Photos="PHOTOS",a;var r})(),p=(()=>{return(r=p||(p={})).Rear="REAR",r.Front="FRONT",p;var r})(),h=(()=>{return(r=h||(h={})).Uri="uri",r.Base64="base64",r.DataUrl="dataUrl",h;var r})()},26388:(x,A,s)=>{s.d(A,{dk:()=>p.dk,oK:()=>p.oK,V1:()=>h});var a=s(47423),p=s(50076);const h=(0,a.fo)("Camera",{web:()=>s.e(3954).then(s.bind(s,63954)).then(r=>new r.CameraWeb)})},72391:(x,A,s)=>{s.r(A),s.d(A,{formulariotareasListPageModule:()=>at});var a=s(23349),p=s(55787),h=s(69808),r=s(33678),g=s(51062),c=s(93075),v=s(36351),m=s(70655),Z=s(68554),d=s(4707),f=s(63814),b=s(15190),T=s(26388),t=s(5e3),U=s(81656);const q=["inputId"],k=["fotoa"];function L(n,u){1&n&&(t.TgZ(0,"div",33),t._UZ(1,"ion-icon",34),t.TgZ(2,"span"),t._uU(3,"Ingrese descripci\xf3n de la tarea"),t.qZA(),t.qZA())}function F(n,u){1&n&&(t.TgZ(0,"div",33),t._UZ(1,"ion-icon",34),t.TgZ(2,"span"),t._uU(3,"Ingrese fecha inicio"),t.qZA(),t.qZA())}function I(n,u){1&n&&(t.TgZ(0,"div",33),t._UZ(1,"ion-icon",34),t.TgZ(2,"span"),t._uU(3,"Ingrese fecha final"),t.qZA(),t.qZA())}function w(n,u){1&n&&(t.TgZ(0,"div",33),t._UZ(1,"ion-icon",34),t.TgZ(2,"span"),t._uU(3,"Ingrese usuario"),t.qZA(),t.qZA())}function E(n,u){1&n&&(t.TgZ(0,"div",33),t._UZ(1,"ion-icon",34),t.TgZ(2,"span"),t._uU(3,"Ingrese estado"),t.qZA(),t.qZA())}let y=(()=>{class n{constructor(i,e,o,l,_){this.modalController=i,this.translateService=e,this.authenticationService=o,this.navParams=l,this.actionSheetController=_,this.vusuario=[],this.variables=[],this.userinfo=[],this.tituloxx="",this.vgrupo=[],this.tipovisible=!1,this.datePickerObj={closeOnSelect:!0,mondayFirst:!0,showTodayButton:!1,closeLabel:"Cancelar",todayLabel:"Hoy",clearButton:!1,titleLabel:"Fecha: ",monthsList:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weeksList:["D","L","M","M","J","V","S"],dateFormat:"DD-MM-YYYY",momentLocale:"pt-BR",yearInAscending:!0,btnCloseSetInReverse:!1,btnProperties:{expand:"block",fill:"",size:"",disabled:"",strong:"",color:""}},this.apifoto=this.authenticationService.getapifoto()}ngAfterViewInit(){setTimeout(()=>{this.inputElement.setFocus()},400)}dismissModal(){this.modalController.dismiss("close")}ionViewDidEnter(){}ngOnInit(){this.variables=this.navParams.get("variables"),this.userinfo=this.navParams.get("userinfo"),this.idllave=this.navParams.get("idllave"),this.act=this.navParams.get("act"),this.tituloxx=this.navParams.get("title"),this.tipovisible=this.navParams.get("tipovisible"),this.Form=new c.cw({nombre:new c.NI("",c.kI.required),fechainicio:new c.NI("",c.kI.required),fechafinal:new c.NI("",c.kI.required),usuario:new c.NI("",c.kI.required),estado:new c.NI("",c.kI.required),avance:new c.NI(""),horas:new c.NI("")}),null==this.navParams.get("record")?this.translateService.get("NUEVOM").subscribe(i=>{this.tituloxx=i+" "+this.tituloxx,this.lpermiso=i}):(this.translateService.get("ACTUALIZAM").subscribe(i=>{this.tituloxx=i+" "+this.tituloxx,this.lpermiso=i}),this._ID=this.navParams.data.record._id,this.Form.controls.nombre.setValue(this.navParams.data.record.nombre),this.Form.controls.fechainicio.setValue(this.authenticationService.dafecha(this.navParams.data.record.fechainicio,1)),this.Form.controls.fechafinal.setValue(this.authenticationService.dafecha(this.navParams.data.record.fechafinal,1)),this.Form.controls.avance.setValue(this.navParams.data.record.avance),this.Form.controls.horas.setValue(this.navParams.data.record.horas),this.Form.controls.usuario.setValue(this.navParams.data.record.usuario),this.idusuario=this.navParams.data.record.idusuario,this.Form.controls.estado.setValue(this.navParams.data.record.estado))}submitForm(){const i=this.Form.controls.horas.value;let e=0;i&&i.upper&&i.upper>i.lower&&(e=i.upper-i.lower);const o={idempresa:this.userinfo[0].idempresa._id,idpapa:this.idllave,nombre:this.Form.controls.nombre.value,idusuario:this.idusuario,fechainicio:this.authenticationService.dafecha(this.Form.controls.fechainicio.value,2),fechafinal:this.authenticationService.dafecha(this.Form.controls.fechafinal.value,2),cantidadhoras:e,usuario:this.Form.controls.usuario.value,actividad:this.act,nombrealias:this.userinfo[0].nombrealias,avance:this.Form.controls.avance.value,horas:this.Form.controls.horas.value,estado:this.Form.controls.estado.value,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:this.lpermiso,accion:this.tituloxx}};null==this.navParams.get("record")?o&&this.authenticationService.createReg("",o,"formulariotareass").then(l=>{!this.Form.valid||this.modalController.dismiss("ok")},l=>{this.authenticationService.presentAlert(l.error,"Precauci\xf3n","")}):o&&this.authenticationService.createReg(this._ID,o,"formulariotareass").then(l=>{!this.Form.valid||this.modalController.dismiss("ok")},l=>{this.authenticationService.presentAlert(l.error,"Precauci\xf3n","")})}dacomponente(i,e){return(0,m.mG)(this,void 0,void 0,function*(){let o="";"ubicacion"===i&&(o=this.Form.controls.ubicacion.value);const l=yield this.modalController.create({component:f.B,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,uubx:o}});return l.onWillDismiss().then(_=>{"close"===_.data||("direccion"===i?this.Form.controls.direccion.setValue(_.data.direccion):this.Form.controls.ubicacion.setValue(_.data.direccion+" {"+_.data.la+"\xb0"+_.data.lo+"}"))}),yield l.present()})}takePicture(i){return(0,m.mG)(this,void 0,void 0,function*(){const e=yield T.V1.getPhoto({correctOrientation:!0,height:200,width:200,quality:60,allowEditing:!0,resultType:T.dk.DataUrl,source:T.oK.Camera});this.authenticationService.generateFromImage(e.dataUrl,200,200,.5,o=>{"fotoa"===i&&(this.fotoimg=o,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})})}uploadPWA2(i,e){e&&e.length>0&&this.firstFileToBase64(e[0]).then(l=>{this.authenticationService.generateFromImage(l,200,300,.5,_=>{"fotoa"===i&&(this.fotoimg=_,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})},l=>{"fotoa"===i&&(this.fotoimg=null,this.Form.controls.foto1.setValue(""))})}uploadPWA(i){if("fotoa"===i){if(null==this.fotoa)return;this.uploadPWA2(i,this.fotoa.nativeElement.files)}}firstFileToBase64(i){return new Promise((e,o)=>{const l=new FileReader;l&&null!=i?(l.readAsDataURL(i),l.onload=()=>{e(l.result)},l.onerror=_=>{o(_)}):o(new Error("No file found"))})}takePicture2(i){return(0,m.mG)(this,void 0,void 0,function*(){"fotoa"===i&&this.fotoa.nativeElement.click()})}fotodatos(i){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Foto",cssClass:"my-custom-class",buttons:[{text:"Galeria",role:"destructive",icon:"image-outline",handler:()=>{this.takePicture2(i)}},{text:"Camara",icon:"camera-outline",handler:()=>{this.takePicture(i)}}]})).present()})}combodatoslimpia(i){return(0,m.mG)(this,void 0,void 0,function*(){this.Form.controls[i].setValue(""),this.idusuario=""})}combodatos(i,e,o,l,_,P){return(0,m.mG)(this,void 0,void 0,function*(){if(!1===this.tipovisible){const M=yield this.modalController.create({component:b.j,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{grabax:P,variables:this.variables,userinfo:this.userinfo,record2:null,op:e,frm:o,idllave:this.idllave,titlex:"Buscar "+_}});return M.onWillDismiss().then(rt=>{let C=[];C=rt,"close"!==C.data&&(C.data?(this.Form.controls[l].setValue(C.data.nombre),this.idusuario=C.data._id):this.Form.controls[l].setValue(""))}),yield M.present()}})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(a.IN),t.Y36(g.sK),t.Y36(Z.$),t.Y36(a.X1),t.Y36(a.BX))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-formulariotareas-create"]],viewQuery:function(i,e){if(1&i&&(t.Gf(q,5),t.Gf(k,7)),2&i){let o;t.iGM(o=t.CRH())&&(e.inputElement=o.first),t.iGM(o=t.CRH())&&(e.fotoa=o.first)}},decls:84,vars:21,consts:[[1,"create-user-form","ion-page",3,"formGroup"],["color","primary"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"create-form-content"],[1,"user-details-fields","fields-section"],["lines","full",1,"inputs-list"],[1,"input-item"],["position","floating"],["color","danger"],["rows","7","inputMode","text","clearInput","true","formControlName","nombre","required","",3,"disabled"],["inputId",""],[1,"error-container"],["class","error-message",4,"ngIf"],["readonly","","formControlName","fechainicio",2,"text-align","right",3,"disabled","liIonic4Datepicker"],["readonly","","formControlName","fechafinal",2,"text-align","right",3,"disabled","liIonic4Datepicker"],["min","0","max","24","dualKnobs","true","color","secondary","pin","","snaps","true","formControlName","horas","ticks","",3,"disabled"],["slot","start"],["slot","end"],["min","0","max","100","color","secondary","pin","","snaps","true","formControlName","avance","ticks",""],["inputMode","text","clearInput","true","formControlName","usuario","required","",1,"ion-text-end",3,"disabled","readonly","click"],["slot","end",3,"hidden"],["color","secondary","expand","full","title","Limpiar",3,"click"],["slot","icon-only","name","close-circle-outline"],["title","Seleccione Informaci\xf3n",3,"click"],["slot","icon-only","name","search-outline"],["formControlName","estado",3,"disabled","placeholder"],["text-wrap","","value","Activo"],["text-wrap","","value","Inactivo"],[1,"form-actions-wrapper"],["color","primary","expand","block","fill","outline","type","submit",3,"disabled","click"],[1,"error-message"],["name","information-circle-outline"]],template:function(i,e){1&i&&(t.TgZ(0,"form",0),t.TgZ(1,"ion-header"),t.TgZ(2,"ion-toolbar",1),t.TgZ(3,"ion-buttons",2),t.TgZ(4,"ion-button",3),t.NdJ("click",function(){return e.dismissModal()}),t._UZ(5,"ion-icon",4),t.qZA(),t.qZA(),t.TgZ(6,"ion-title",5),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-content",6),t.TgZ(9,"section",7),t.TgZ(10,"ion-list",8),t.TgZ(11,"ion-item",9),t.TgZ(12,"ion-label",10),t._uU(13,"Descripci\xf3n de la tarea"),t.TgZ(14,"ion-text",11),t._uU(15,"*"),t.qZA(),t.qZA(),t._UZ(16,"ion-textarea",12,13),t.qZA(),t.TgZ(18,"div",14),t.YNc(19,L,4,0,"div",15),t.qZA(),t.TgZ(20,"ion-item",9),t.TgZ(21,"ion-label",10),t._uU(22,"Fechai nicio"),t.TgZ(23,"ion-text",11),t._uU(24,"*"),t.qZA(),t.qZA(),t._UZ(25,"ion-input",16),t.qZA(),t.TgZ(26,"div",14),t.YNc(27,F,4,0,"div",15),t.qZA(),t.TgZ(28,"ion-item",9),t.TgZ(29,"ion-label",10),t._uU(30,"Fecha final"),t.TgZ(31,"ion-text",11),t._uU(32,"*"),t.qZA(),t.qZA(),t._UZ(33,"ion-input",17),t.qZA(),t.TgZ(34,"div",14),t.YNc(35,I,4,0,"div",15),t.qZA(),t.TgZ(36,"ion-item",9),t.TgZ(37,"ion-label"),t._uU(38,"Horario por dia (Hrs 24)"),t.qZA(),t.TgZ(39,"ion-range",18),t.TgZ(40,"ion-label",19),t._uU(41,"0"),t.qZA(),t.TgZ(42,"ion-label",20),t._uU(43,"24"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"ion-item",9),t.TgZ(45,"ion-label"),t._uU(46,"Avance (%)"),t.qZA(),t.TgZ(47,"ion-range",21),t.TgZ(48,"ion-label",19),t._uU(49,"0"),t.qZA(),t.TgZ(50,"ion-label",20),t._uU(51,"100"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"ion-item",9),t.TgZ(53,"ion-label"),t._uU(54,"Usuario"),t.TgZ(55,"ion-text",11),t._uU(56,"*"),t.qZA(),t.qZA(),t.TgZ(57,"ion-input",22,13),t.NdJ("click",function(){return e.combodatos(1,"usuario-plantilla","frmcats","usuario","Usuario","personals")}),t.qZA(),t.TgZ(59,"ion-buttons",23),t.TgZ(60,"ion-button",24),t.NdJ("click",function(){return e.combodatoslimpia("usuario")}),t._UZ(61,"ion-icon",25),t.qZA(),t.TgZ(62,"ion-button",26),t.NdJ("click",function(){return e.combodatos(1,"usuario-plantilla","frmcats","usuario","Usuario","personals")}),t._UZ(63,"ion-icon",27),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div",14),t.YNc(65,w,4,0,"div",15),t.qZA(),t.TgZ(66,"ion-item",9),t.TgZ(67,"ion-label"),t._uU(68,"Estado"),t.TgZ(69,"ion-text",11),t._uU(70,"*"),t.qZA(),t.qZA(),t.TgZ(71,"ion-select",28),t.ALo(72,"translate"),t.TgZ(73,"ion-select-option",29),t._uU(74,"Activo"),t.qZA(),t.TgZ(75,"ion-select-option",30),t._uU(76,"Inactivo"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(77,"div",14),t.YNc(78,E,4,0,"div",15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(79,"ion-footer"),t.TgZ(80,"ion-row",31),t.TgZ(81,"ion-col"),t.TgZ(82,"ion-button",32),t.NdJ("click",function(){return e.submitForm()}),t._uU(83,"CREAR"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.Q6J("formGroup",e.Form),t.xp6(7),t.Oqu(e.tituloxx),t.xp6(9),t.Q6J("disabled",e.tipovisible),t.xp6(3),t.Q6J("ngIf",e.Form.get("nombre").hasError("required")&&(e.Form.get("nombre").dirty||e.Form.get("nombre").touched)),t.xp6(6),t.Q6J("disabled",e.tipovisible)("liIonic4Datepicker",e.datePickerObj),t.xp6(2),t.Q6J("ngIf",e.Form.get("fechainicio").hasError("required")&&(e.Form.get("fechainicio").dirty||e.Form.get("fechainicio").touched)),t.xp6(6),t.Q6J("disabled",e.tipovisible)("liIonic4Datepicker",e.datePickerObj),t.xp6(2),t.Q6J("ngIf",e.Form.get("fechafinal").hasError("required")&&(e.Form.get("fechafinal").dirty||e.Form.get("fechafinal").touched)),t.xp6(4),t.Q6J("disabled",e.tipovisible),t.xp6(18),t.Q6J("disabled",e.tipovisible)("readonly",!0),t.xp6(2),t.Q6J("hidden",e.tipovisible),t.xp6(6),t.Q6J("ngIf",e.Form.get("usuario").hasError("required")&&(e.Form.get("usuario").dirty||e.Form.get("usuario").touched)),t.xp6(6),t.s9C("placeholder",t.lcZ(72,19,"SELECTVALORM")),t.Q6J("disabled",e.tipovisible),t.xp6(7),t.Q6J("ngIf",e.Form.get("estado").hasError("required")&&(e.Form.get("estado").dirty||e.Form.get("estado").touched)),t.xp6(4),t.Q6J("disabled",!e.Form.valid))},directives:[c._Y,c.JL,c.sg,a.Gu,a.sr,a.Sm,a.YG,a.gu,a.wd,a.W2,a.q_,a.Ie,a.Q$,a.yW,a.g2,a.j9,c.JJ,c.u,c.Q7,h.O5,a.pK,U.w5,a.I_,a.QI,a.t9,a.n0,a.fr,a.Nd,a.wI],pipes:[g.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),n})();var N=s(26806);function O(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",30),t.NdJ("click",function(){return t.CHM(i),t.oxw().addRecord()}),t.ALo(1,"translate"),t._UZ(2,"ion-icon",31),t.qZA()}if(2&n){const i=t.oxw();t.MGl("title"," ",t.lcZ(1,2,"AGREGARM"),""),t.Q6J("hidden",i.tipovisible)}}function S(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",32),t.NdJ("click",function(){return t.CHM(i),t.oxw().changeToList()}),t._UZ(1,"ion-icon",33),t.qZA()}}function J(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",32),t.NdJ("click",function(){return t.CHM(i),t.oxw().changeToGrid()}),t._UZ(1,"ion-icon",34),t.qZA()}}function R(n,u){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.lnq("",t.lcZ(2,3,"NOREGISTROSM")," ",i.itemsList.length," ",t.lcZ(3,5,"NOREGISTROSM5"),"")}}function D(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-segment",35),t.NdJ("ionChange",function(o){return t.CHM(i),t.oxw().filterContacts(o)}),t.TgZ(1,"ion-segment-button",36),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-segment-button",37),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"ion-segment-button",38),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,3,"TODOSM")," "),t.xp6(3),t.hij(" ",t.lcZ(6,5,"ACTIVOSM")," "),t.xp6(3),t.hij(" ",t.lcZ(9,7,"INACTIVOSM")," "))}function Q(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-segment",39),t.NdJ("ionChange",function(o){return t.CHM(i),t.oxw().filterContacts(o)}),t.TgZ(1,"ion-segment-button",37),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-segment-button",40),t._uU(5,"\nCerradas "),t.qZA(),t.qZA()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"ACTIVOSM")," "))}function Y(n,u){1&n&&(t.TgZ(0,"ion-item",42),t.TgZ(1,"ion-label",43),t._UZ(2,"skeleton-element"),t._UZ(3,"skeleton-element"),t._UZ(4,"skeleton-element",44),t.qZA(),t.qZA())}const G=function(){return[0,1,2,3,4,5,6]};function B(n,u){1&n&&(t.TgZ(0,"ion-list"),t.YNc(1,Y,5,0,"ion-item",41),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,G)))}function j(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",60),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2).$implicit;return t.oxw(2).finaliza(o)}),t._UZ(1,"ion-icon",61),t.qZA()}}function H(n,u){if(1&n&&(t.TgZ(0,"ion-buttons",54),t.YNc(1,j,2,0,"ion-button",59),t.qZA()),2&n){const i=t.oxw(3);t.Q6J("hidden",!i.tipovisible),t.xp6(1),t.Q6J("ngIf","activo"===i.estadointerno0)}}function W(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",6),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit;return t.oxw(2).deleteRecord(o)}),t.ALo(1,"translate"),t._UZ(2,"ion-icon",62),t.qZA()}2&n&&t.s9C("title",t.lcZ(1,1,"ELIMINARM"))}function z(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-item",46),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row"),t.TgZ(3,"ion-col",47),t.NdJ("click",function(){const l=t.CHM(i).$implicit;return t.oxw(2).updateRecord(l)}),t._UZ(4,"ion-icon",48),t.TgZ(5,"ion-label",43),t.TgZ(6,"ion-note",49),t._uU(7),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"p"),t.TgZ(10,"strong"),t._uU(11,"Descripci\xf3n de la tarea:"),t.qZA(),t._uU(12),t._UZ(13,"br"),t.TgZ(14,"strong"),t._uU(15,"Fecha inicio:"),t.qZA(),t._uU(16),t._UZ(17,"br"),t.TgZ(18,"strong"),t._uU(19,"Fecha final:"),t.qZA(),t._uU(20),t._UZ(21,"br"),t.TgZ(22,"strong"),t._uU(23,"Horario:"),t.qZA(),t._uU(24),t._UZ(25,"br"),t.TgZ(26,"strong"),t._uU(27,"Cantidad horas:"),t.qZA(),t._uU(28),t._UZ(29,"br"),t.TgZ(30,"strong"),t._uU(31," AVANCE:"),t.qZA(),t._uU(32),t._UZ(33,"br"),t.TgZ(34,"strong"),t._uU(35," Usuario:"),t.qZA(),t._uU(36),t._UZ(37,"br"),t.qZA(),t.TgZ(38,"ion-badge",50),t._uU(39),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"ion-row"),t.TgZ(41,"div",51),t._UZ(42,"br"),t._uU(43),t.ALo(44,"date"),t._UZ(45,"br"),t._uU(46),t.ALo(47,"date"),t._UZ(48,"br"),t._uU(49," \xa0\xa0\xa0\xa0\xa0"),t.TgZ(50,"strong"),t._uU(51," Actividad"),t.qZA(),t._uU(52),t.qZA(),t.TgZ(53,"ion-col",17),t.TgZ(54,"ion-toolbar",52),t.YNc(55,H,2,2,"ion-buttons",53),t.TgZ(56,"ion-buttons",54),t.YNc(57,W,3,3,"ion-button",55),t.qZA(),t.TgZ(58,"ion-buttons",56),t.TgZ(59,"ion-button",57),t.NdJ("click",function(){const l=t.CHM(i).$implicit;return t.oxw(2).otrasop(l)}),t.ALo(60,"translate"),t._UZ(61,"ion-icon",58),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const i=u.$implicit,e=u.index,o=t.oxw(2);t.xp6(7),t.hij("No. ",e+1,""),t.xp6(5),t.hij(" ",i.nombre," "),t.xp6(4),t.hij(" ",i.fechainicio.substring(0,10)," "),t.xp6(4),t.hij(" ",i.fechafinal.substring(0,10)," "),t.xp6(4),t.AsE(" ",i.horas.lower," - ",i.horas.upper," hrs. "),t.xp6(4),t.hij(" ",i.cantidadhoras," "),t.xp6(4),t.hij(" ",i.avance," %"),t.xp6(4),t.hij(" ",i.usuario," "),t.xp6(3),t.Oqu(i.estado),t.xp6(4),t.AsE("\xa0\xa0\xa0\xa0\xa0 Creaci\xf3n:[",i.nombrealiasnew," ,",t.xi3(44,19,i.createdAt,"dd-MM-yyyy, hh:mm aaa")," ]"),t.xp6(3),t.AsE(" \xa0\xa0\xa0\xa0\xa0Actualiza :[",i.nombrealiasup,",",t.xi3(47,22,i.updatedAt,"dd-MM-yyyy, hh:mm aaa"),"] "),t.xp6(6),t.hij(": ",i.actividad," "),t.xp6(3),t.Q6J("ngIf","Cerrada"!==i.estado),t.xp6(1),t.Q6J("hidden",o.tipovisible),t.xp6(1),t.Q6J("ngIf","activo"===o.estadointerno0&&o.userinfo[0].email===i.usuarionew),t.xp6(2),t.s9C("title",t.lcZ(60,25,"MENUM"))}}function V(n,u){if(1&n&&(t.TgZ(0,"ion-list"),t.YNc(1,z,62,27,"ion-item",45),t.qZA()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("ngForOf",i.itemsList)("ngForTrackBy",i.trackItems)}}function K(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",60),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(2).$implicit;return t.oxw(2).finaliza(o)}),t._UZ(1,"ion-icon",61),t.qZA()}}function $(n,u){if(1&n&&(t.TgZ(0,"ion-buttons",54),t.YNc(1,K,2,0,"ion-button",59),t.qZA()),2&n){const i=t.oxw(3);t.Q6J("hidden",!i.tipovisible),t.xp6(1),t.Q6J("ngIf","activo"===i.estadointerno0)}}function X(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-button",6),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().$implicit;return t.oxw(2).deleteRecord(o)}),t.ALo(1,"translate"),t._UZ(2,"ion-icon",62),t.qZA()}2&n&&t.s9C("title",t.lcZ(1,1,"ELIMINARM"))}function tt(n,u){if(1&n){const i=t.EpF();t.TgZ(0,"ion-col",64),t.TgZ(1,"ion-card"),t.TgZ(2,"ion-row",65),t.TgZ(3,"ion-col"),t.TgZ(4,"span",66),t._uU(5,"No."),t.qZA(),t.TgZ(6,"span",67),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"ion-col"),t.TgZ(9,"span",66),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"ion-item",46),t._UZ(12,"ion-icon",48),t.TgZ(13,"ion-label",68),t.NdJ("click",function(){const l=t.CHM(i).$implicit;return t.oxw(2).updateRecord(l)}),t.TgZ(14,"p"),t.TgZ(15,"strong"),t._uU(16,"Descripci\xf3n de la tarea:"),t.qZA(),t._uU(17),t._UZ(18,"br"),t.TgZ(19,"strong"),t._uU(20," Fecha inicio:"),t.qZA(),t._uU(21),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24," Fecha final:"),t.qZA(),t._uU(25),t._UZ(26,"br"),t.TgZ(27,"strong"),t._uU(28,"Horario:"),t.qZA(),t._uU(29),t._UZ(30,"br"),t.TgZ(31,"strong"),t._uU(32," Cantidad horas:"),t.qZA(),t._uU(33),t._UZ(34,"br"),t.TgZ(35,"strong"),t._uU(36," AVANCE:"),t.qZA(),t._uU(37),t._UZ(38,"br"),t.TgZ(39,"strong"),t._uU(40," Usuario:"),t.qZA(),t._uU(41),t._UZ(42,"br"),t.qZA(),t.qZA(),t.qZA(),t._UZ(43,"ion-card-content"),t.TgZ(44,"ion-row",69),t.TgZ(45,"div",51),t._UZ(46,"br"),t._uU(47),t.ALo(48,"date"),t._UZ(49,"br"),t._uU(50),t.ALo(51,"date"),t._UZ(52,"br"),t._uU(53," \xa0\xa0\xa0\xa0\xa0"),t.TgZ(54,"strong"),t._uU(55," Actividad"),t.qZA(),t._uU(56),t.qZA(),t.TgZ(57,"ion-col",17),t.TgZ(58,"ion-toolbar",52),t.YNc(59,$,2,2,"ion-buttons",53),t.TgZ(60,"ion-buttons",54),t.YNc(61,X,3,3,"ion-button",55),t.qZA(),t.TgZ(62,"ion-buttons",56),t.TgZ(63,"ion-button",57),t.NdJ("click",function(){const l=t.CHM(i).$implicit;return t.oxw(2).otrasop(l)}),t.ALo(64,"translate"),t._UZ(65,"ion-icon",58),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const i=u.$implicit,e=u.index,o=t.oxw(2);t.xp6(7),t.hij("",e+1," "),t.xp6(3),t.hij("",i.estado," "),t.xp6(7),t.hij(" ",i.nombre," "),t.xp6(4),t.hij(" ",i.fechainicio.substring(0,10)," "),t.xp6(4),t.hij(" ",i.fechafinal.substring(0,10)," "),t.xp6(4),t.AsE(" ",i.horas.lower," - ",i.horas.upper," hrs "),t.xp6(4),t.hij(" ",i.cantidadhoras," "),t.xp6(4),t.hij(" ",i.avance,"% "),t.xp6(4),t.hij(" ",i.usuario," "),t.xp6(6),t.AsE("\xa0\xa0\xa0\xa0\xa0 Creaci\xf3n:[",i.nombrealiasnew," ,",t.xi3(48,19,i.createdAt,"dd-MM-yyyy, hh:mm aaa")," ]"),t.xp6(3),t.AsE(" \xa0\xa0\xa0\xa0\xa0Actualiza :[",i.nombrealiasup,",",t.xi3(51,22,i.updatedAt,"dd-MM-yyyy, hh:mm aaa"),"] "),t.xp6(6),t.hij(": ",i.actividad," "),t.xp6(3),t.Q6J("ngIf","Cerrada"!==i.estado),t.xp6(1),t.Q6J("hidden",o.tipovisible),t.xp6(1),t.Q6J("ngIf","activo"===o.estadointerno0&&o.userinfo[0].email===i.usuarionew),t.xp6(2),t.s9C("title",t.lcZ(64,25,"MENUM"))}}function it(n,u){if(1&n&&(t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.YNc(2,tt,66,27,"ion-col",63),t.qZA(),t.qZA()),2&n){const i=t.oxw();t.xp6(2),t.Q6J("ngForOf",i.itemsList)("ngForTrackBy",i.trackItems)}}function et(n,u){1&n&&(t.TgZ(0,"h3",70),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NODATOS")," "))}let ot=(()=>{class n{constructor(i,e,o,l,_,P){this.routerOutlet=i,this.router=e,this.authenticationService=o,this.alertController=l,this.translateService=_,this.modalController=P,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.userinfo=[],this.arreglo=[],this.viewType="grid",this.tituloxx="",this.efecto=0,this.seguro="",this.msg="",this.tipovisible=!1,this.currentSegment="Todos",this.searchSubject=new d.t(1),this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}ngOnInit(){this.variables=this.router.getCurrentNavigation().extras.state.variables,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.act=this.router.getCurrentNavigation().extras.state.record2.act,this.arreglo=this.router.getCurrentNavigation().extras.state.arreglo,this.estadointerno0=this.router.getCurrentNavigation().extras.state.estadointerno0,this.arreglo&&(this.tipovisible=!0),this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.title,this.searchQuery="",this.translateService.get("SEGUROM").subscribe(i=>{this.seguro=i}),this.translateService.get("MSGM").subscribe(i=>{this.msg=i}),this.rangeForm=new c.cw({dual:new c.NI({lower:1,upper:100})}),this.currentSegment=!1===this.tipovisible?"todos":"Activo",this.pideregistros(this.currentSegment)}filterContacts(i){let e=i.detail.value;this.currentSegment=e,this.pideregistros(e)}pideregistros0(){this.pideregistros(this.currentSegment)}pideregistros(i){this.itemsList=[],this.efecto=0,this.arreglo?this.authenticationService.getReg("tareasusuario2/"+this.userinfo[0]._id+"\xb0"+i+"/"+this.userinfo[0].idempresa._id+"/"+this.arreglo,"formulariotareass",0).then(e=>{this.efecto=1,this.items=e,this.itemsList=this.items},e=>{this.authenticationService.presentAlert(e.error,this.msg,"")}):this.authenticationService.getReg("todos/"+i+"/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"formulariotareass",0).then(e=>{this.efecto=1,this.items=e,this.itemsList=this.items},e=>{this.authenticationService.presentAlert(e.error,this.msg,"")})}trackItems(i,e){return e.id}searchList(){this.searchSubject.next({lower:this.rangeForm.controls.dual.value.lower,upper:this.rangeForm.controls.dual.value.upper,query:this.searchQuery}),this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(i,e){return i.filter(o=>o.nombre.toLowerCase().includes(e.toLowerCase()))}otrasop(i){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Seleccione Opci\xf3n",inputs:[{name:"Actividades",type:"radio",label:"Actividades",checked:!0,value:"/formulariotareasdocListPage\xb0Actividades ->"+i.nombre}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:o=>{}},{text:"Ok",handler:o=>{var l=o.split("\xb0");this.router.navigate([l[0]],{state:{variables:this.variables,user:null,estadointerno0:this.estadointerno0,idllave:i._id,title:l[1]}})}}]})).present()})}deleteRecord(i){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:"No",cssClass:"secondary",handler:o=>{}},{text:"Si",handler:()=>{this.authenticationService.deleteReg(i._id+"/"+this.userinfo[0].email+"/"+this.userinfo[0].idempresa._id+"/na","formulariotareass").then(l=>{this.pideregistros(this.currentSegment)},l=>{this.authenticationService.presentAlert(l.error,this.msg,"")})}}]})).present()})}finaliza(i){this.authenticationService.createReg(i._id,{operacion:"cierra tarea",estado:"cerrada",bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Actualiza",accion:"cierra tarea proyectos"}},"formulariotareass").then(o=>{this.pideregistros(this.currentSegment)},o=>{this.authenticationService.presentAlert(o.error,"Precauci\xf3n","")})}updateRecord(i){return(0,m.mG)(this,void 0,void 0,function*(){if("activo"===this.estadointerno0&&this.userinfo[0].email===i.usuarionew){const e=yield this.modalController.create({component:y,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{act:this.act,tipovisible:this.tipovisible,variables:this.variables,record:i,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return e.onWillDismiss().then(o=>{"close"!==o.data&&this.pideregistros(this.currentSegment)}),yield e.present()}})}addRecord(){return(0,m.mG)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:y,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{act:this.act,tipovisible:!1,variables:this.variables,record:null,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return i.onWillDismiss().then(e=>{"close"!==e.data&&this.pideregistros(this.currentSegment)}),yield i.present()})}loadData(i){setTimeout(()=>{i.target.complete(),1e3===this.items.length&&(i.target.disabled=!0)},500)}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(a.jP),t.Y36(p.F0),t.Y36(Z.$),t.Y36(a.Br),t.Y36(g.sK),t.Y36(a.IN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-formulariotareas-list"]],viewQuery:function(i,e){if(1&i&&t.Gf(a.ju,5),2&i){let o;t.iGM(o=t.CRH())&&(e.infiniteScroll=o.first)}},decls:45,vars:26,consts:[["color","primary"],["slot","start"],["defaultHref","formulariomovilsproceso2CreatePage"],["size","small"],["collapse","true","slot","end"],[3,"hidden","title","click",4,"ngIf"],[3,"title","click"],["slot","icon-only","name","refresh-circle-outline"],[3,"click",4,"ngIf"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"call-to-action-col",3,"hidden"],["fill","clear","color","secondary",1,"filters-btn",3,"title","click"],["slot","icon-only","name","options"],[3,"formGroup","hidden"],[1,"range-item-row"],["size","12"],[1,"range-header"],[1,"range-value"],[1,"range-label"],["formControlName","dual","color","secondary","pin","true","dualKnobs","true","min","1","max","100","step","1","debounce","400",1,"range-control",3,"ionChange"],[1,"user-friends-content"],["sticky",""],[4,"ngIf"],["value","todos",3,"ionChange",4,"ngIf"],["value","Activo",3,"ionChange",4,"ngIf"],["class","empty-list-message",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Espere un momento..."],[3,"hidden","title","click"],["slot","icon-only","name","add"],[3,"click"],["slot","icon-only","name","grid"],["slot","icon-only","name","list"],["value","todos",3,"ionChange"],["value","todos","checked",""],["value","Activo"],["value","Inactivo"],["value","Activo",3,"ionChange"],["value","Cerrada"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],["width","67%"],["class","item md in-list ion-activatable ion-focusable item-label hydrated",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item","md","in-list","ion-activatable","ion-focusable","item-label","hydrated"],["size","12",3,"click"],["name","server-outline","slot","start"],["slot","end"],["color","medium"],[2,"font-size","10px","text-transform","capitalize","text-align","left"],["color","transparent"],["slot","secondary",3,"hidden",4,"ngIf"],["slot","secondary",3,"hidden"],[3,"title","click",4,"ngIf"],["slot","primary"],["color","secondary",3,"title","click"],["slot","icon-only","ios","ellipsis-horizontal","md","ellipsis-vertical"],["title","Finalizar tarea",3,"click",4,"ngIf"],["title","Finalizar tarea",3,"click"],["slot","icon-only","name","send-outline"],["slot","icon-only","name","trash-outline"],["size-lg","6","size-sm","6","size","12",4,"ngFor","ngForOf","ngForTrackBy"],["size-lg","6","size-sm","6","size","12"],[1,"user-stats-wrapper","user-details-wrapper"],[1,"user-stat-value"],[1,"user-stat-name"],[1,"ion-text-wrap",3,"click"],["no-padding",""],[1,"empty-list-message"]],template:function(i,e){1&i&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.TgZ(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",4),t.YNc(7,O,3,4,"ion-button",5),t.TgZ(8,"ion-button",6),t.NdJ("click",function(){return e.pideregistros0()}),t.ALo(9,"translate"),t._UZ(10,"ion-icon",7),t.qZA(),t.YNc(11,S,2,0,"ion-button",8),t.YNc(12,J,2,0,"ion-button",8),t.qZA(),t.qZA(),t.TgZ(13,"ion-toolbar",9),t.TgZ(14,"ion-row",10),t.TgZ(15,"ion-col"),t.TgZ(16,"ion-searchbar",11),t.NdJ("ngModelChange",function(l){return e.searchQuery=l})("ionChange",function(){return e.searchList()}),t.ALo(17,"translate"),t.qZA(),t.qZA(),t.TgZ(18,"ion-col",12),t.TgZ(19,"ion-button",13),t.NdJ("click",function(){return e.showAgeFilter=!e.showAgeFilter}),t.ALo(20,"translate"),t._UZ(21,"ion-icon",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"form",15),t.TgZ(23,"ion-row",16),t.TgZ(24,"ion-col",17),t.TgZ(25,"div",18),t.TgZ(26,"span",19),t._uU(27),t.qZA(),t.TgZ(28,"span",20),t._uU(29,"Filter by age"),t.qZA(),t.TgZ(30,"span",19),t._uU(31),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"ion-col",17),t.TgZ(33,"ion-range",21),t.NdJ("ionChange",function(){return e.searchList()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-content",22),t.TgZ(35,"ion-item-divider",23),t.YNc(36,R,4,7,"ion-label",24),t.qZA(),t.YNc(37,D,10,9,"ion-segment",25),t.YNc(38,Q,6,3,"ion-segment",26),t.YNc(39,B,2,2,"ion-list",24),t.YNc(40,V,2,2,"ion-list",24),t.YNc(41,it,3,2,"ion-grid",24),t.YNc(42,et,3,3,"h3",27),t.TgZ(43,"ion-infinite-scroll",28),t.NdJ("ionInfinite",function(l){return e.loadData(l)}),t._UZ(44,"ion-infinite-scroll-content",29),t.qZA(),t.qZA()),2&i&&(t.xp6(5),t.hij(" ",e.tituloxx," "),t.xp6(2),t.Q6J("ngIf","activo"===e.estadointerno0),t.xp6(1),t.MGl("title"," ",t.lcZ(9,20,"REFRESCARM"),""),t.xp6(3),t.Q6J("ngIf","grid"===e.viewType),t.xp6(1),t.Q6J("ngIf","list"===e.viewType),t.xp6(4),t.s9C("placeholder",t.lcZ(17,22,"BUSCARM")),t.Q6J("ngModel",e.searchQuery),t.xp6(2),t.Q6J("hidden",!e.showAgeFilter),t.xp6(1),t.MGl("title"," ",t.lcZ(20,24,"FILTROM"),""),t.xp6(3),t.Q6J("formGroup",e.rangeForm)("hidden",!e.showAgeFilter),t.xp6(5),t.Oqu(e.rangeForm.controls.dual.value.lower),t.xp6(4),t.Oqu(e.rangeForm.controls.dual.value.upper),t.xp6(5),t.Q6J("ngIf",(null==e.itemsList?null:e.itemsList.length)>0),t.xp6(1),t.Q6J("ngIf",!1===e.tipovisible),t.xp6(1),t.Q6J("ngIf",!0===e.tipovisible),t.xp6(1),t.Q6J("ngIf",0===e.efecto),t.xp6(1),t.Q6J("ngIf",(null==e.itemsList?null:e.itemsList.length)>0&&"list"===e.viewType),t.xp6(1),t.Q6J("ngIf",(null==e.itemsList?null:e.itemsList.length)>0&&"grid"===e.viewType),t.xp6(1),t.Q6J("ngIf",0===(null==e.itemsList?null:e.itemsList.length)))},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.wd,h.O5,a.YG,a.gu,a.Nd,a.wI,a.VI,a.j9,c.JJ,c.On,c._Y,c.JL,c.sg,a.I_,a.QI,c.u,a.W2,a.rH,a.ju,a.MB,a.Q$,a.cJ,a.GO,a.q_,h.sg,a.Ie,N.B,a.jY,a.uN,a.yp,a.PM,a.FN],pipes:[g.X$,h.uU],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),n})();var nt=s(22675);let at=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.ez,a.Pc,r.K,c.u5,c.UX,v.YL,U.YZ,nt.v,p.Bz.forChild([{path:"",component:ot}]),g.aw.forChild()]]}),n})()},22675:(x,A,s)=>{s.d(A,{v:()=>m});var a=s(69808),p=s(93075),h=s(51062),r=s(23349),g=s(55787),c=s(56604),v=s(5e3);let m=(()=>{class Z{}return Z.\u0275fac=function(f){return new(f||Z)},Z.\u0275mod=v.oAB({type:Z}),Z.\u0275inj=v.cJS({imports:[[a.ez,p.u5,p.UX,r.Pc,g.Bz,c.Cl,h.aw.forChild()]]}),Z})()},63814:(x,A,s)=>{s.d(A,{B:()=>v});var a=s(70655),p=s(47423),h=s(96090),r=s(5e3),g=s(23349);const c=["search"];let v=(()=>{class m{constructor(d,f,b){this.modalController=d,this.ngZone=f,this.navParams=b,this.title="AGM project",this.zoom=16}dismissModal(){this.modalController.dismiss("close")}dadireccion(){this.modalController.dismiss({direccion:this.address,la:this.latitude,lo:this.longitude})}ngOnInit(){this.uubx=this.navParams.get("uubx")}loadMap(){}clearWatch(){null!=this.watchId&&h.b.clearWatch({id:this.watchId})}setCurrentLocationa33(){if(p.dV.isPluginAvailable("Geolocation"))try{this.watchId=h.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,f)=>{d&&(this.latitude=d.coords.latitude,this.longitude=d.coords.longitude)})}catch(d){console.error(d)}}setCurrentLocationa(){try{this.watchId=h.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,f)=>{d&&(this.latitude=d.coords.latitude,this.longitude=d.coords.longitude,this.getAddress(this.latitude,this.longitude))})}catch(d){console.error(d)}}setCurrentLocation2a(){if(p.dV.isPluginAvailable("Geolocation"))try{this.watchId=h.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,f)=>{this.latitude=Number(this.uubx.substring(this.uubx.indexOf("{")+1,this.uubx.indexOf("\xb0"))),this.longitude=Number(this.uubx.substring(this.uubx.indexOf("\xb0")+1,this.uubx.indexOf("}"))),0!==this.latitude&&this.latitude&&this.getAddress(this.latitude,this.longitude)})}catch(d){console.error(d)}}markerDragEnd(d){0!==this.latitude&&this.latitude&&(this.latitude=d.coords.lat,this.longitude=d.coords.lng,this.getAddress(this.latitude,this.longitude))}getAddress(d,f){this.geoCoder.geocode({location:{lat:d,lng:f}},(b,T)=>{"OK"===T?b[0]?this.address=b[0].formatted_address:window.alert("No results found"):window.alert("Geocoder failed due to: "+T)})}closeModal(){return(0,a.mG)(this,void 0,void 0,function*(){this.modalController.dismiss("close")})}}return m.\u0275fac=function(d){return new(d||m)(r.Y36(g.IN),r.Y36(r.R0b),r.Y36(g.X1))},m.\u0275cmp=r.Xpm({type:m,selectors:[["app-my-modal"]],viewQuery:function(d,f){if(1&d&&r.Gf(c,5),2&d){let b;r.iGM(b=r.CRH())&&(f.searchElementRef=b.first)}},decls:19,vars:6,consts:[[3,"translucent"],["color","primary"],["shape","round","color","dark",3,"click"],["slot","start","name","locate"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"ion-padding",3,"fullscreen"],["id","book-search-input","role","search"],["type","text","placeholder","Ingrese direcci\xf3n","autocorrect","off","autocapitalize","off","spellcheck","off","type","text",1,"book-search-input","native-input","sc-ion-input-ios",3,"keydown.enter"],["search",""],["type","submit","expand","block",1,"login-btn",3,"click"]],template:function(d,f){1&d&&(r.TgZ(0,"ion-header",0),r.TgZ(1,"ion-toolbar",1),r.TgZ(2,"ion-button",2),r.NdJ("click",function(){return f.loadMap()}),r._UZ(3,"ion-icon",3),r._uU(4," Ubicaci\xf3n "),r.qZA(),r.TgZ(5,"ion-buttons",4),r.TgZ(6,"ion-button",5),r.NdJ("click",function(){return f.closeModal()}),r._UZ(7,"ion-icon",6),r.qZA(),r.qZA(),r.TgZ(8,"ion-title",7),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"ion-content",8),r._uU(11),r.TgZ(12,"div",9),r.TgZ(13,"input",10,11),r.NdJ("keydown.enter",function(T){return T.preventDefault()}),r.qZA(),r.qZA(),r.TgZ(15,"h5"),r._uU(16),r.qZA(),r.TgZ(17,"ion-button",12),r.NdJ("click",function(){return f.dadireccion()}),r._uU(18,"Seleccionar"),r.qZA(),r.qZA()),2&d&&(r.Q6J("translucent",!0),r.xp6(9),r.Oqu(f.tituloxx),r.xp6(1),r.Q6J("fullscreen",!0),r.xp6(1),r.AsE("\n",f.latitude,", ",f.longitude," "),r.xp6(5),r.hij("Direcci\xf3n: ",f.address,""))},directives:[g.Gu,g.sr,g.YG,g.gu,g.Sm,g.wd,g.W2],styles:[".book-search-input[_ngcontent-%COMP%]{padding:6px;background:0 0;transition:top .5s ease;background:#bdbaba;border-bottom:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);margin-bottom:10px;margin-top:-1px;color:#fff;width:100%}"]}),m})()},26806:(x,A,s)=>{s.d(A,{B:()=>r});var a=s(5e3),p=s(69808);const h=function(g,c){return{"no-animated":g,inline:c}};let r=(()=>{class g{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return g.\u0275fac=function(v){return new(v||g)},g.\u0275cmp=a.Xpm({type:g,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(v,m){1&v&&a._UZ(0,"div",0),2&v&&a.Q6J("ngClass",a.WLB(2,h,m.noAnimated,m.inline))("ngStyle",m.styles)},directives:[p.mk,p.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),g})()}}]);