"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[935],{50076:(C,T,c)=>{c.d(T,{oK:()=>a,GW:()=>Z,dk:()=>_});var a=(()=>{return(r=a||(a={})).Prompt="PROMPT",r.Camera="CAMERA",r.Photos="PHOTOS",a;var r})(),Z=(()=>{return(r=Z||(Z={})).Rear="REAR",r.Front="FRONT",Z;var r})(),_=(()=>{return(r=_||(_={})).Uri="uri",r.Base64="base64",r.DataUrl="dataUrl",_;var r})()},26388:(C,T,c)=>{c.d(T,{dk:()=>Z.dk,oK:()=>Z.oK,V1:()=>_});var a=c(47423),Z=c(50076);const _=(0,a.fo)("Camera",{web:()=>c.e(3954).then(c.bind(c,63954)).then(r=>new r.CameraWeb)})},40935:(C,T,c)=>{c.r(T),c.d(T,{frmactividadListPageModule:()=>lt});var a=c(23349),Z=c(55787),_=c(69808),r=c(33678),u=c(51062),l=c(93075),A=c(36351),p=c(70655),b=c(68554),m=c(4707),f=c(63814),v=c(15190),q=c(26388),t=c(5e3);const M=["inputId"],N=["fotoa"];function L(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese orden"),t.qZA(),t.qZA())}function w(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese actor"),t.qZA(),t.qZA())}function E(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese clase"),t.qZA(),t.qZA())}function O(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese descripci\xf3n"),t.qZA(),t.qZA())}function J(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese tipo"),t.qZA(),t.qZA())}function S(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese etapa"),t.qZA(),t.qZA())}function R(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese conector"),t.qZA(),t.qZA())}function D(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese tiempo minimo"),t.qZA(),t.qZA())}function Q(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese tiempo maximo"),t.qZA(),t.qZA())}function V(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese modificables validos"),t.qZA(),t.qZA())}function G(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese de lectura validos"),t.qZA(),t.qZA())}function Y(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese campo de impresion"),t.qZA(),t.qZA())}function j(n,d){if(1&n&&(t.TgZ(0,"ion-chip",43),t.TgZ(1,"ion-label"),t._uU(2),t.qZA(),t.qZA()),2&n){const e=d.$implicit;t.xp6(2),t.hij(" ",e,"")}}function B(n,d){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"ion-icon",42),t.TgZ(2,"span"),t._uU(3,"Ingrese estado"),t.qZA(),t.qZA())}let x=(()=>{class n{constructor(e,i,o,s,g){this.modalController=e,this.translateService=i,this.authenticationService=o,this.navParams=s,this.actionSheetController=g,this.vactor=[],this.vclase=[],this.vtipo=[],this.vetapa=[],this.vconector=[],this.variables=[],this.userinfo=[],this.tituloxx="",this.vgrupo=[],this.apifoto=this.authenticationService.getapifoto()}ngAfterViewInit(){setTimeout(()=>{this.inputElement.setFocus()},400)}dismissModal(){this.modalController.dismiss("close")}ionViewDidEnter(){}ngOnInit(){this.variables=this.navParams.get("variables"),this.userinfo=this.navParams.get("userinfo"),this.idllave=this.navParams.get("idllave"),this.siinicio=this.navParams.get("siinicio"),this.sifinal=this.navParams.get("sifinal"),this.tituloxx=this.navParams.get("title"),this.Form=new l.cw({orden:new l.NI("",l.kI.required),actor:new l.NI("",l.kI.required),clase:new l.NI("",l.kI.required),nombre:new l.NI("",l.kI.compose([l.kI.required,l.kI.pattern("[a-zA-Z0-9-_()\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda#*$!? \xf1\xd1&+-/.]*")])),nombre2:new l.NI(""),tipo:new l.NI("",l.kI.required),descripciong:new l.NI(""),usuarios:new l.NI(""),etapa:new l.NI("",l.kI.required),conector:new l.NI("",l.kI.required),tiempomin:new l.NI("",l.kI.required),tiempomax:new l.NI("",l.kI.required),camposimprime:new l.NI(""),camposmodificables:new l.NI(""),camposlectura:new l.NI(""),estado:new l.NI("",l.kI.required)}),null==this.navParams.get("record")?(this.translateService.get("NUEVOM").subscribe(e=>{this.tituloxx=e+" "+this.tituloxx,this.lpermiso=e}),this.authenticationService.getReg("todos/orden/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"frmactividads",0).then(e=>{if(e){const i=e;setTimeout(()=>{this.Form.controls.orden.setValue(Number(i.orden)),this.Form.controls.clase.setValue("0"===this.siinicio?"INICIO":"NORMAL"),this.Form.controls.tipo.setValue("EJECUCI\xd3N"),this.Form.controls.etapa.setValue("INGRESO"),this.Form.controls.conector.setValue("INICIO"),this.Form.controls.tiempomin.setValue("0"),this.Form.controls.tiempomax.setValue("0")},600)}},e=>{this.authenticationService.presentAlert(e.error,"Precauci\xf3n","")})):(this.translateService.get("ACTUALIZAM").subscribe(e=>{this.tituloxx=e+" "+this.tituloxx,this.lpermiso=e}),this._ID=this.navParams.data.record._id,this.Form.controls.orden.setValue(this.navParams.data.record.orden),this.Form.controls.actor.setValue(this.navParams.data.record.actor.nombre),this.actorid=this.navParams.data.record.actor.id,this.Form.controls.clase.setValue(this.navParams.data.record.clase),this.Form.controls.nombre.setValue(this.navParams.data.record.nombre),this.Form.controls.tipo.setValue(this.navParams.data.record.tipo),this.Form.controls.nombre2.setValue(this.navParams.data.record.nombre2?this.navParams.data.record.nombre2:""),this.tusuarios=(String(this.navParams.data.record.nombreusuarios).indexOf("\xb0"),String(this.navParams.data.record.nombreusuarios).split("\xb0")),this.Form.controls.etapa.setValue(this.navParams.data.record.etapa),this.Form.controls.conector.setValue(this.navParams.data.record.conector),this.Form.controls.tiempomin.setValue(this.navParams.data.record.tiempomin),this.Form.controls.tiempomax.setValue(this.navParams.data.record.tiempomax),this.Form.controls.orden.setValue(this.navParams.data.record.orden),this.idcamposimprime=this.navParams.data.record.camposimprime.id,this.idcamposlectura=this.navParams.data.record.camposlectura.id,this.idcamposmodificables=this.navParams.data.record.camposmodificables.id,this.Form.controls.descripciong.setValue(this.navParams.data.record.descripciong?this.navParams.data.record.descripciong:""),this.Form.controls.camposimprime.setValue(this.navParams.data.record.camposimprime.nombre),this.Form.controls.camposlectura.setValue(this.navParams.data.record.camposlectura.nombre),this.Form.controls.camposmodificables.setValue(this.navParams.data.record.camposmodificables.nombre),this.Form.controls.estado.setValue(this.navParams.data.record.estado))}submitForm(){const e={idempresa:this.userinfo[0].idempresa._id,idpapa:this.idllave,orden:this.Form.controls.orden.value,actor:{id:this.actorid,nombre:this.Form.controls.actor.value},clase:this.Form.controls.clase.value,nombre:this.Form.controls.nombre.value,nombre2:this.Form.controls.nombre2.value,tipo:this.Form.controls.tipo.value,usuarios:this.idusuario,nombreusuarios:this.idusuario3,correousuarios:this.idusuario2,etapa:this.Form.controls.etapa.value,conector:this.Form.controls.conector.value,tiempomin:this.Form.controls.tiempomin.value,tiempomax:this.Form.controls.tiempomax.value,descripciong:this.Form.controls.descripciong.value,estado:this.Form.controls.estado.value,camposimprime:{id:this.idcamposimprime,nombre:this.Form.controls.camposimprime.value},camposlectura:{id:this.idcamposlectura,nombre:this.Form.controls.camposlectura.value},camposmodificables:{id:this.idcamposmodificables,nombre:this.Form.controls.camposmodificables.value},bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:this.lpermiso,accion:this.tituloxx}};null==this.navParams.get("record")?e&&this.authenticationService.createReg("",e,"frmactividads").then(i=>{!this.Form.valid||this.modalController.dismiss("ok")},i=>{this.authenticationService.presentAlert(i.error,"Precauci\xf3n","")}):e&&this.authenticationService.createReg(this._ID,e,"frmactividads").then(i=>{!this.Form.valid||this.modalController.dismiss("ok")},i=>{this.authenticationService.presentAlert(i.error,"Precauci\xf3n","")})}dacomponente(e,i){return(0,p.mG)(this,void 0,void 0,function*(){let o="";"ubicacion"===e&&(o=this.Form.controls.ubicacion.value);const s=yield this.modalController.create({component:f.B,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,uubx:o}});return s.onWillDismiss().then(g=>{"close"===g.data||("direccion"===e?this.Form.controls.direccion.setValue(g.data.direccion):this.Form.controls.ubicacion.setValue(g.data.direccion+" {"+g.data.la+"\xb0"+g.data.lo+"}"))}),yield s.present()})}takePicture(e){return(0,p.mG)(this,void 0,void 0,function*(){const i=yield q.V1.getPhoto({correctOrientation:!0,height:200,width:200,quality:60,allowEditing:!0,resultType:q.dk.DataUrl,source:q.oK.Camera});this.authenticationService.generateFromImage(i.dataUrl,200,200,.5,o=>{"fotoa"===e&&(this.fotoimg=o,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})})}uploadPWA2(e,i){i&&i.length>0&&this.firstFileToBase64(i[0]).then(s=>{this.authenticationService.generateFromImage(s,200,300,.5,g=>{"fotoa"===e&&(this.fotoimg=g,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})},s=>{"fotoa"===e&&(this.fotoimg=null,this.Form.controls.foto1.setValue(""))})}uploadPWA(e){if("fotoa"===e){if(null==this.fotoa)return;this.uploadPWA2(e,this.fotoa.nativeElement.files)}}firstFileToBase64(e){return new Promise((i,o)=>{const s=new FileReader;s&&null!=e?(s.readAsDataURL(e),s.onload=()=>{i(s.result)},s.onerror=g=>{o(g)}):o(new Error("No file found"))})}takePicture2(e){return(0,p.mG)(this,void 0,void 0,function*(){"fotoa"===e&&this.fotoa.nativeElement.click()})}fotodatos(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Foto",cssClass:"my-custom-class",buttons:[{text:"Galeria",role:"destructive",icon:"image-outline",handler:()=>{this.takePicture2(e)}},{text:"Camara",icon:"camera-outline",handler:()=>{this.takePicture(e)}}]})).present()})}combodatoslimpia(e){return(0,p.mG)(this,void 0,void 0,function*(){this.Form.controls[e].setValue(""),"camposmodificables"===e?this.idcamposmodificables="":"camposimprime"===e?this.idcamposimprime="":"camposlectura"===e?this.idcamposlectura="":"actor"===e?(this.Form.controls.nombre.setValue(""),this.actorid=""):"usuarios"===e&&(this.idusuario="",this.idusuario2="",this.idusuario3="")})}combodatos(e,i,o,s,g,U){return(0,p.mG)(this,void 0,void 0,function*(){const ct=this.idllave+"/camposformulario";let P=[],k=[],y=[],F=!1;"camposimprime"===s&&(this.idcamposmodificables&&(k=this.idcamposmodificables.split(";")),this.idcamposimprime&&(P=this.idcamposimprime.split(";"))),"camposlectura"===s&&(this.idcamposmodificables&&(y=this.idcamposmodificables.split(";")),this.idcamposlectura&&(P=this.idcamposlectura.split(";"))),"camposmodificables"===s&&this.idcamposmodificables&&(P=this.idcamposmodificables.split(";")),"usuarios"===s&&(F=!0);const I=yield this.modalController.create({component:v.j,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{tarraymultiple:this.idusuario,tmultiple:F,catalogot:i,idcampos:P,idcamposmodificables:k,idcamposmodificables2:y,filtroformularioconsulta:ct,formularioconsulta:"frmmovilds",grabax:U,variables:this.variables,userinfo:this.userinfo,record2:null,op:i,frm:o,idllave:this.idllave,titlex:"Buscar "+g}});return I.onWillDismiss().then(mt=>{let h=[];h=mt,"close"!==h.data&&(h.data?"camposmodificables"===s?(this.Form.controls[s].setValue(h.data.nombres),this.idcamposmodificables=h.data.correos):"camposimprime"===s?(this.Form.controls[s].setValue(h.data.nombres),this.idcamposimprime=h.data.correos):"camposlectura"===s?(this.Form.controls[s].setValue(h.data.nombres),this.idcamposlectura=h.data.correos):"actor"===s?(this.Form.controls[s].setValue(h.data.nombre),this.Form.controls.nombre.setValue(h.data.nombre),this.Form.controls.nombre2.setValue(h.data.nombre),this.Form.controls.descripciong.setValue(h.data.nombre),this.actorid=h.data._id):"usuarios"===s?(this.tusuarios=(String(h.data.nombres).indexOf("\xb0"),String(h.data.nombres).split("\xb0")),this.idusuario=h.data._id,this.idusuario2=h.data.correos,this.idusuario3=h.data.nombres):this.Form.controls[s].setValue(h.data.nombre):this.Form.controls[s].setValue(""))}),yield I.present()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.IN),t.Y36(u.sK),t.Y36(b.$),t.Y36(a.X1),t.Y36(a.BX))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-frmactividad-create"]],viewQuery:function(e,i){if(1&e&&(t.Gf(M,5),t.Gf(N,7)),2&e){let o;t.iGM(o=t.CRH())&&(i.inputElement=o.first),t.iGM(o=t.CRH())&&(i.fotoa=o.first)}},decls:190,vars:30,consts:[[1,"create-user-form","ion-page",3,"formGroup"],["color","primary"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"create-form-content"],[1,"user-details-fields","fields-section"],["lines","full",1,"inputs-list"],[1,"input-item"],["position","floating"],["color","danger"],["type","number","inputMode","Number","clearInput","true","formControlName","orden","required",""],["inputId",""],[1,"error-container"],["class","error-message",4,"ngIf"],["inputMode","text","clearInput","true","formControlName","actor","required","",1,"ion-text-end",3,"readonly","click"],["color","secondary","expand","full","title","Limpiar",3,"click"],["slot","icon-only","name","close-circle-outline"],["title","Seleccione Informaci\xf3n",3,"click"],["slot","icon-only","name","search-outline"],["inputMode","text","clearInput","true","formControlName","clase","required","",1,"ion-text-end",3,"readonly","click"],["rows","5","inputMode","text","clearInput","true","formControlName","nombre","required",""],["rows","5","inputMode","text","clearInput","true","formControlName","nombre2"],["inputMode","text","clearInput","true","formControlName","tipo","required","",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","etapa","required","",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","conector","required","",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","tiempomin","required",""],["inputMode","text","clearInput","true","formControlName","tiempomax","required",""],["inputMode","text","clearInput","true","formControlName","camposmodificables",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","camposlectura",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","camposimprime",1,"ion-text-end",3,"readonly","click"],[1,"ion-text-wrap"],["inputMode","text","clearInput","true","formControlName","usuarios",1,"ion-text-end",3,"hidden","readonly","click"],["color","primary","item-content","","style","margin-left: 10px;",4,"ngFor","ngForOf"],["formControlName","estado",3,"placeholder"],["text-wrap","","value","Activo"],["text-wrap","","value","Inactivo"],["rows","8","inputMode","text","clearInput","true","formControlName","descripciong"],[1,"form-actions-wrapper"],["color","primary","expand","block","fill","outline","type","submit",3,"disabled","click"],[1,"error-message"],["name","information-circle-outline"],["color","primary","item-content","",2,"margin-left","10px"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"ion-header"),t.TgZ(2,"ion-toolbar",1),t.TgZ(3,"ion-buttons",2),t.TgZ(4,"ion-button",3),t.NdJ("click",function(){return i.dismissModal()}),t._UZ(5,"ion-icon",4),t.qZA(),t.qZA(),t.TgZ(6,"ion-title",5),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-content",6),t.TgZ(9,"section",7),t.TgZ(10,"ion-list",8),t.TgZ(11,"ion-item",9),t.TgZ(12,"ion-label",10),t._uU(13,"Orden"),t.TgZ(14,"ion-text",11),t._uU(15,"*"),t.qZA(),t.qZA(),t._UZ(16,"ion-input",12,13),t.qZA(),t.TgZ(18,"div",14),t.YNc(19,L,4,0,"div",15),t.qZA(),t.TgZ(20,"ion-item",9),t.TgZ(21,"ion-label"),t._uU(22,"Actor"),t.TgZ(23,"ion-text",11),t._uU(24,"*"),t.qZA(),t.qZA(),t.TgZ(25,"ion-input",16,13),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","actor","actor","frmactors")}),t.qZA(),t.TgZ(27,"ion-buttons",2),t.TgZ(28,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("actor")}),t._UZ(29,"ion-icon",18),t.qZA(),t.TgZ(30,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","actor","actor","frmactors")}),t._UZ(31,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",14),t.YNc(33,w,4,0,"div",15),t.qZA(),t.TgZ(34,"ion-item",9),t.TgZ(35,"ion-label"),t._uU(36,"Clase"),t.TgZ(37,"ion-text",11),t._uU(38,"*"),t.qZA(),t.qZA(),t.TgZ(39,"ion-input",21,13),t.NdJ("click",function(){return i.combodatos(1,"1000-clase-plantilla","frmcats","clase","Clase","nograba")}),t.qZA(),t.TgZ(41,"ion-buttons",2),t.TgZ(42,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("clase")}),t._UZ(43,"ion-icon",18),t.qZA(),t.TgZ(44,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1000-clase-plantilla","frmcats","clase","Clase","nograba")}),t._UZ(45,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(46,"div",14),t.YNc(47,E,4,0,"div",15),t.qZA(),t.TgZ(48,"ion-item",9),t.TgZ(49,"ion-label",10),t._uU(50,"Descripci\xf3n de actividad"),t.TgZ(51,"ion-text",11),t._uU(52,"*"),t.qZA(),t.qZA(),t._UZ(53,"ion-textarea",22,13),t.qZA(),t.TgZ(55,"div",14),t.YNc(56,O,4,0,"div",15),t.qZA(),t.TgZ(57,"ion-item",9),t.TgZ(58,"ion-label",10),t._uU(59,"Descripci\xf3n de actividad (Ingles)"),t.qZA(),t._UZ(60,"ion-textarea",23,13),t.qZA(),t.TgZ(62,"ion-item",9),t.TgZ(63,"ion-label"),t._uU(64,"Tipo"),t.TgZ(65,"ion-text",11),t._uU(66,"*"),t.qZA(),t.qZA(),t.TgZ(67,"ion-input",24,13),t.NdJ("click",function(){return i.combodatos(1,"1001-tipo-plantilla","frmcats","tipo","Tipo","sigraba")}),t.qZA(),t.TgZ(69,"ion-buttons",2),t.TgZ(70,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("tipo")}),t._UZ(71,"ion-icon",18),t.qZA(),t.TgZ(72,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1001-tipo-plantilla","frmcats","tipo","Tipo","nograba")}),t._UZ(73,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(74,"div",14),t.YNc(75,J,4,0,"div",15),t.qZA(),t.TgZ(76,"ion-item",9),t.TgZ(77,"ion-label"),t._uU(78,"Etapa"),t.TgZ(79,"ion-text",11),t._uU(80,"*"),t.qZA(),t.qZA(),t.TgZ(81,"ion-input",25,13),t.NdJ("click",function(){return i.combodatos(1,"1000-etapa-plantilla","frmcats","etapa","Etapa","sigraba")}),t.qZA(),t.TgZ(83,"ion-buttons",2),t.TgZ(84,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("etapa")}),t._UZ(85,"ion-icon",18),t.qZA(),t.TgZ(86,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1000-etapa-plantilla","frmcats","etapa","Etapa","sigraba")}),t._UZ(87,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(88,"div",14),t.YNc(89,S,4,0,"div",15),t.qZA(),t.TgZ(90,"ion-item",9),t.TgZ(91,"ion-label"),t._uU(92,"Conector"),t.TgZ(93,"ion-text",11),t._uU(94,"*"),t.qZA(),t.qZA(),t.TgZ(95,"ion-input",26,13),t.NdJ("click",function(){return i.combodatos(1,"1000-conector-plantilla","frmcats","conector","Conector","nograba")}),t.qZA(),t.TgZ(97,"ion-buttons",2),t.TgZ(98,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("conector")}),t._UZ(99,"ion-icon",18),t.qZA(),t.TgZ(100,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1000-conector-plantilla","frmcats","conector","Conector","nograba")}),t._UZ(101,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(102,"div",14),t.YNc(103,R,4,0,"div",15),t.qZA(),t.TgZ(104,"ion-item",9),t.TgZ(105,"ion-label",10),t._uU(106,"Tiemp minimo de ejecuci\xf3n"),t.TgZ(107,"ion-text",11),t._uU(108,"*"),t.qZA(),t.qZA(),t._UZ(109,"ion-input",27,13),t.qZA(),t.TgZ(111,"div",14),t.YNc(112,D,4,0,"div",15),t.qZA(),t.TgZ(113,"ion-item",9),t.TgZ(114,"ion-label",10),t._uU(115,"Tiempo maximo de ejecuci\xf3n"),t.TgZ(116,"ion-text",11),t._uU(117,"*"),t.qZA(),t.qZA(),t._UZ(118,"ion-input",28,13),t.qZA(),t.TgZ(120,"div",14),t.YNc(121,Q,4,0,"div",15),t.qZA(),t.TgZ(122,"ion-item",9),t.TgZ(123,"ion-label"),t._uU(124,"Campos Modificables"),t.qZA(),t.TgZ(125,"ion-input",29),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","camposmodificables","camposmodificables","controlmultipleidnombre")}),t.qZA(),t.TgZ(126,"ion-buttons",2),t.TgZ(127,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("camposmodificables")}),t._UZ(128,"ion-icon",18),t.qZA(),t.TgZ(129,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","camposmodificables","camposmodificables","controlmultipleidnombre")}),t._UZ(130,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(131,"div",14),t.YNc(132,V,4,0,"div",15),t.qZA(),t.TgZ(133,"ion-item",9),t.TgZ(134,"ion-label"),t._uU(135,"Campos solo de lectura"),t.qZA(),t.TgZ(136,"ion-input",30),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","camposlectura","camposlectura","controlmultipleidnombre")}),t.qZA(),t.TgZ(137,"ion-buttons",2),t.TgZ(138,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("camposlectura")}),t._UZ(139,"ion-icon",18),t.qZA(),t.TgZ(140,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","camposlectura","camposlectura","controlmultipleidnombre")}),t._UZ(141,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(142,"div",14),t.YNc(143,G,4,0,"div",15),t.qZA(),t.TgZ(144,"ion-item",9),t.TgZ(145,"ion-label"),t._uU(146,"Campos para Impresion"),t.qZA(),t.TgZ(147,"ion-input",31),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","camposimprime","camposimprime","controlmultipleidnombre")}),t.qZA(),t.TgZ(148,"ion-buttons",2),t.TgZ(149,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("camposimprime")}),t._UZ(150,"ion-icon",18),t.qZA(),t.TgZ(151,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"1000-actor-plantilla","frmcats","camposimprime","camposimprime","controlmultipleidnombre")}),t._UZ(152,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(153,"div",14),t.YNc(154,Y,4,0,"div",15),t.qZA(),t.TgZ(155,"ion-item",9),t.TgZ(156,"ion-label",32),t._uU(157,"Usuario con permisos para modificar cualquier campo"),t.TgZ(158,"ion-text",11),t._uU(159,"*"),t.qZA(),t.qZA(),t.TgZ(160,"ion-input",33),t.NdJ("click",function(){return i.combodatos(1,"usuario-plantilla-grupoproceso","frmcats","usuarios","Usuario","personals")}),t.qZA(),t.YNc(161,j,3,1,"ion-chip",34),t.TgZ(162,"ion-buttons",2),t.TgZ(163,"ion-button",17),t.NdJ("click",function(){return i.combodatoslimpia("usuario")}),t._UZ(164,"ion-icon",18),t.qZA(),t.TgZ(165,"ion-button",19),t.NdJ("click",function(){return i.combodatos(1,"usuario-plantilla-grupoproceso","frmcats","usuarios","Usuario","personals")}),t._UZ(166,"ion-icon",20),t.qZA(),t.qZA(),t.qZA(),t.TgZ(167,"ion-item",9),t.TgZ(168,"ion-label"),t._uU(169,"Estado"),t.TgZ(170,"ion-text",11),t._uU(171,"*"),t.qZA(),t.qZA(),t.TgZ(172,"ion-select",35,13),t.ALo(174,"translate"),t.TgZ(175,"ion-select-option",36),t._uU(176,"Activo"),t.qZA(),t.TgZ(177,"ion-select-option",37),t._uU(178,"Inactivo"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(179,"div",14),t.YNc(180,B,4,0,"div",15),t.qZA(),t.TgZ(181,"ion-item",9),t.TgZ(182,"ion-label",10),t._uU(183,"Descripci\xf3n general"),t.qZA(),t._UZ(184,"ion-textarea",38),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(185,"ion-footer"),t.TgZ(186,"ion-row",39),t.TgZ(187,"ion-col"),t.TgZ(188,"ion-button",40),t.NdJ("click",function(){return i.submitForm()}),t._uU(189,"CREAR"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",i.Form),t.xp6(7),t.Oqu(i.tituloxx),t.xp6(12),t.Q6J("ngIf",i.Form.get("orden").hasError("required")&&(i.Form.get("orden").dirty||i.Form.get("orden").touched)),t.xp6(6),t.Q6J("readonly",!0),t.xp6(8),t.Q6J("ngIf",i.Form.get("actor").hasError("required")&&(i.Form.get("actor").dirty||i.Form.get("actor").touched)),t.xp6(6),t.Q6J("readonly",!0),t.xp6(8),t.Q6J("ngIf",i.Form.get("clase").hasError("required")&&(i.Form.get("clase").dirty||i.Form.get("clase").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("nombre").hasError("required")&&(i.Form.get("nombre").dirty||i.Form.get("nombre").touched)),t.xp6(11),t.Q6J("readonly",!0),t.xp6(8),t.Q6J("ngIf",i.Form.get("tipo").hasError("required")&&(i.Form.get("tipo").dirty||i.Form.get("tipo").touched)),t.xp6(6),t.Q6J("readonly",!0),t.xp6(8),t.Q6J("ngIf",i.Form.get("etapa").hasError("required")&&(i.Form.get("etapa").dirty||i.Form.get("etapa").touched)),t.xp6(6),t.Q6J("readonly",!0),t.xp6(8),t.Q6J("ngIf",i.Form.get("conector").hasError("required")&&(i.Form.get("conector").dirty||i.Form.get("conector").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("tiempomin").hasError("required")&&(i.Form.get("tiempomin").dirty||i.Form.get("tiempomin").touched)),t.xp6(9),t.Q6J("ngIf",i.Form.get("tiempomax").hasError("required")&&(i.Form.get("tiempomax").dirty||i.Form.get("tiempomax").touched)),t.xp6(4),t.Q6J("readonly",!0),t.xp6(7),t.Q6J("ngIf",i.Form.get("camposmodificables").hasError("required")&&(i.Form.get("camposmodificables").dirty||i.Form.get("camposmodificables").touched)),t.xp6(4),t.Q6J("readonly",!0),t.xp6(7),t.Q6J("ngIf",i.Form.get("camposlectura").hasError("required")&&(i.Form.get("camposlectura").dirty||i.Form.get("camposlectura").touched)),t.xp6(4),t.Q6J("readonly",!0),t.xp6(7),t.Q6J("ngIf",i.Form.get("actor").hasError("required")&&(i.Form.get("actor").dirty||i.Form.get("actor").touched)),t.xp6(6),t.Q6J("hidden",!0)("readonly",!0),t.xp6(1),t.Q6J("ngForOf",i.tusuarios),t.xp6(11),t.s9C("placeholder",t.lcZ(174,28,"SELECTVALORM")),t.xp6(8),t.Q6J("ngIf",i.Form.get("estado").hasError("required")&&(i.Form.get("estado").dirty||i.Form.get("estado").touched)),t.xp6(8),t.Q6J("disabled",!i.Form.valid))},directives:[l._Y,l.JL,l.sg,a.Gu,a.sr,a.Sm,a.YG,a.gu,a.wd,a.W2,a.q_,a.Ie,a.Q$,a.yW,a.pK,a.as,l.JJ,l.u,l.Q7,_.O5,a.j9,a.g2,_.sg,a.t9,a.QI,a.n0,a.fr,a.Nd,a.wI,a.hM],pipes:[u.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),n})();var W=c(26806);function K(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeToList()}),t._UZ(1,"ion-icon",33),t.qZA()}}function H(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",32),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeToGrid()}),t._UZ(1,"ion-icon",34),t.qZA()}}function z(n,d){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.lnq("",t.lcZ(2,3,"NOREGISTROSM")," ",e.itemsList.length," ",t.lcZ(3,5,"NOREGISTROSM5"),"")}}function $(n,d){1&n&&(t.TgZ(0,"ion-item",36),t.TgZ(1,"ion-label",37),t._UZ(2,"skeleton-element"),t._UZ(3,"skeleton-element"),t._UZ(4,"skeleton-element",38),t.qZA(),t.qZA())}const X=function(){return[0,1,2,3,4,5,6]};function tt(n,d){1&n&&(t.TgZ(0,"ion-list"),t.YNc(1,$,5,0,"ion-item",35),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,X)))}function it(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item",40),t.TgZ(1,"ion-grid"),t.TgZ(2,"ion-row"),t.TgZ(3,"ion-col",41),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).updateRecord(s)}),t._UZ(4,"ion-icon",42),t.TgZ(5,"ion-label",37),t.TgZ(6,"ion-note",43),t._uU(7),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"p"),t.TgZ(10,"strong"),t._uU(11," Actor:"),t.qZA(),t._uU(12),t._UZ(13,"br"),t.TgZ(14,"strong"),t._uU(15," Clase:"),t.qZA(),t._uU(16),t._UZ(17,"br"),t.TgZ(18,"strong"),t._uU(19," Tipo:"),t.qZA(),t._uU(20),t._UZ(21,"br"),t.TgZ(22,"strong"),t._uU(23,"Nombre:"),t.qZA(),t._uU(24),t._UZ(25,"br"),t.TgZ(26,"strong"),t._uU(27,"Nombre (Ingles):"),t.qZA(),t._uU(28),t._UZ(29,"br"),t.TgZ(30,"strong"),t._uU(31," Campos solo lectura:"),t.qZA(),t._uU(32),t._UZ(33,"br"),t.TgZ(34,"strong"),t._uU(35," Campos modificables:"),t.qZA(),t._uU(36),t._UZ(37,"br"),t.TgZ(38,"strong"),t._uU(39," Campos de impresion:"),t.qZA(),t._uU(40),t._UZ(41,"br"),t.qZA(),t.TgZ(42,"ion-badge",44),t._uU(43),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"ion-row"),t.TgZ(45,"ion-col",17),t.TgZ(46,"ion-toolbar",45),t.TgZ(47,"ion-buttons",46),t.TgZ(48,"ion-button",5),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).deleteRecord(s)}),t.ALo(49,"translate"),t._UZ(50,"ion-icon",47),t.qZA(),t.qZA(),t.TgZ(51,"ion-buttons",48),t.TgZ(52,"ion-button",49),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).otrasop(s)}),t.ALo(53,"translate"),t._UZ(54,"ion-icon",50),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=d.$implicit;t.s9C("title",e._id),t.xp6(7),t.hij("No. ",e.orden,""),t.xp6(5),t.hij(" ",e.actor.nombre," "),t.xp6(4),t.hij(" ",e.clase," "),t.xp6(4),t.hij(" ",e.tipo," "),t.xp6(4),t.hij(" ",e.nombre," "),t.xp6(4),t.hij(" ",e.nombre2," "),t.xp6(4),t.hij(" ",e.camposlectura.nombre,""),t.xp6(4),t.hij(" ",e.camposmodificables.nombre,""),t.xp6(4),t.hij(" ",e.camposimprime.nombre,""),t.xp6(3),t.Oqu(e.estado),t.xp6(5),t.s9C("title",t.lcZ(49,13,"ELIMINARM")),t.xp6(4),t.s9C("title",t.lcZ(53,15,"MENUM"))}}function et(n,d){if(1&n&&(t.TgZ(0,"ion-list"),t.YNc(1,it,55,17,"ion-item",39),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemsList)("ngForTrackBy",e.trackItems)}}function ot(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"ion-col",52),t.TgZ(1,"ion-card",53),t.TgZ(2,"ion-row",54),t.TgZ(3,"ion-col"),t.TgZ(4,"span",55),t._uU(5,"No."),t.qZA(),t.TgZ(6,"span",56),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"ion-col"),t.TgZ(9,"span",55),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"ion-item",57),t._UZ(12,"ion-icon",42),t.TgZ(13,"ion-label",58),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).updateRecord(s)}),t.TgZ(14,"p"),t.TgZ(15,"strong"),t._uU(16," Actor:"),t.qZA(),t._uU(17),t._UZ(18,"br"),t.TgZ(19,"strong"),t._uU(20," Clase:"),t.qZA(),t._uU(21),t._UZ(22,"br"),t.TgZ(23,"strong"),t._uU(24," Tipo:"),t.qZA(),t._uU(25),t._UZ(26,"br"),t.TgZ(27,"strong"),t._uU(28,"Nombre:"),t.qZA(),t._uU(29),t._UZ(30,"br"),t.TgZ(31,"strong"),t._uU(32,"Nombre (Ingles):"),t.qZA(),t._uU(33),t._UZ(34,"br"),t.TgZ(35,"strong"),t._uU(36,"Campos solo lectura:"),t.qZA(),t._uU(37),t._UZ(38,"br"),t.TgZ(39,"strong"),t._uU(40,"Campos modificables:"),t.qZA(),t._uU(41),t._UZ(42,"br"),t.TgZ(43,"strong"),t._uU(44,"Campos de impresion:"),t.qZA(),t._uU(45),t._UZ(46,"br"),t.qZA(),t.qZA(),t.qZA(),t._UZ(47,"ion-card-content"),t.TgZ(48,"ion-row",59),t.TgZ(49,"ion-col",17),t.TgZ(50,"ion-toolbar",45),t.TgZ(51,"ion-badge"),t._uU(52),t.qZA(),t._UZ(53,"div",60),t.TgZ(54,"ion-buttons",46),t.TgZ(55,"ion-button",5),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).deleteRecord(s)}),t.ALo(56,"translate"),t._UZ(57,"ion-icon",47),t.qZA(),t.qZA(),t.TgZ(58,"ion-buttons",48),t.TgZ(59,"ion-button",49),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).otrasop(s)}),t.ALo(60,"translate"),t._UZ(61,"ion-icon",50),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=d.$implicit;t.xp6(1),t.s9C("title",e._id),t.xp6(6),t.hij("",e.orden," "),t.xp6(3),t.hij("",e.estado," "),t.xp6(7),t.hij(" ",e.actor.nombre," "),t.xp6(4),t.hij(" ",e.clase," "),t.xp6(4),t.hij(" ",e.tipo," "),t.xp6(4),t.hij(" ",e.nombre," "),t.xp6(4),t.hij(" ",e.nombre2," "),t.xp6(4),t.hij(" ",e.camposlectura.nombre," "),t.xp6(4),t.hij(" ",e.camposmodificables.nombre," "),t.xp6(4),t.hij(" ",e.camposimprime.nombre," "),t.xp6(7),t.hij("",e.cuantos," Acciones"),t.xp6(1),t.Q6J("innerHtml",e.acciones,t.oJD),t.xp6(2),t.s9C("title",t.lcZ(56,15,"ELIMINARM")),t.xp6(4),t.s9C("title",t.lcZ(60,17,"MENUM"))}}function at(n,d){if(1&n&&(t.TgZ(0,"ion-grid"),t.TgZ(1,"ion-row"),t.YNc(2,ot,62,19,"ion-col",51),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.itemsList)("ngForTrackBy",e.trackItems)}}function nt(n,d){1&n&&(t.TgZ(0,"h3",61),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NODATOS")," "))}let rt=(()=>{class n{constructor(e,i,o,s,g,U){this.routerOutlet=e,this.router=i,this.authenticationService=o,this.alertController=s,this.translateService=g,this.modalController=U,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.userinfo=[],this.viewType="grid",this.tituloxx="",this.efecto=0,this.seguro="",this.siinicio=0,this.sifinal=0,this.msg="",this.currentSegment="Todos",this.searchSubject=new m.t(1),this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}ngOnInit(){this.variables=this.router.getCurrentNavigation().extras.state.variables,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.title,this.searchQuery="",this.translateService.get("SEGUROM").subscribe(e=>{this.seguro=e}),this.translateService.get("MSGM").subscribe(e=>{this.msg=e}),this.rangeForm=new l.cw({dual:new l.NI({lower:1,upper:100})}),this.currentSegment="todos",this.pideregistros(this.currentSegment)}filterContacts(e){const i=e.detail.value;this.currentSegment=i,this.pideregistros(i)}pideregistros0(){this.pideregistros(this.currentSegment)}pideregistros(e){this.itemsList=[],this.efecto=0,this.authenticationService.getReg("todos/"+e+"/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"frmactividads",0).then(i=>{this.efecto=1,this.items=i;for(let o=0;o<this.items.length;o++)"INICIO"===this.items&&(this.siinicio=1),"FINAL"===this.items&&(this.sifinal=1);this.itemsList=this.items},i=>{this.authenticationService.presentAlert(i.error,this.msg,"")})}trackItems(e,i){return i.id}searchList(){this.searchSubject.next({lower:this.rangeForm.controls.dual.value.lower,upper:this.rangeForm.controls.dual.value.upper,query:this.searchQuery}),this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(e,i){return e.filter(o=>o.nombre.toLowerCase().includes(i.toLowerCase()))}otrasop(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Seleccione Opci\xf3n",inputs:[{name:"Acciones",type:"radio",label:"Acciones",checked:!0,value:"/frmaccionesListPage\xb0Acciones ->"+e.nombre+"\xb0"+e.nombre},{name:"Permisos campos detalle",type:"radio",label:"Permisos campos detalle",checked:!1,value:"/frmactividadcamposdListPage\xb0Detalle de formulario ->"+e.nombre+"\xb0"+e.nombre},{name:"Validaciones de campos",type:"radio",label:"Validaciones de campos",checked:!1,value:"/frmactividadcamposdListPage\xb0Detalle de formulario ->"+e.nombre+"\xb0"+e.nombre}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:o=>{}},{text:"Ok",handler:o=>{const s=o.split("\xb0");this.router.navigate([s[0]],{state:{variables:this.variables,user:null,idllave:e._id,idllave0:this.idllave,title:s[1],title2:s[2]}})}}]})).present()})}deleteRecord(e){return(0,p.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:"No",cssClass:"secondary",handler:o=>{}},{text:"Si",handler:()=>{this.authenticationService.deleteReg(e._id+"/"+this.userinfo[0].email+"/"+this.userinfo[0].idempresa._id+"/na","frmactividads").then(s=>{this.pideregistros(this.currentSegment)},s=>{this.authenticationService.presentAlert(s.error,this.msg,"")})}}]})).present()})}updateRecord(e){return(0,p.mG)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:x,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{sifinal:this.sifinal,siinicio:this.siinicio,variables:this.variables,record:e,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return i.onWillDismiss().then(o=>{"close"!==o.data&&this.pideregistros(this.currentSegment)}),yield i.present()})}addRecord(){return(0,p.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:x,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{sifinal:this.sifinal,siinicio:this.siinicio,variables:this.variables,record:null,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return e.onWillDismiss().then(i=>{"close"!==i.data&&this.pideregistros(this.currentSegment)}),yield e.present()})}loadData(e){setTimeout(()=>{e.target.complete(),1e3===this.items.length&&(e.target.disabled=!0)},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.jP),t.Y36(Z.F0),t.Y36(b.$),t.Y36(a.Br),t.Y36(u.sK),t.Y36(a.IN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-frmactividad-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(a.ju,5),2&e){let o;t.iGM(o=t.CRH())&&(i.infiniteScroll=o.first)}},decls:55,vars:35,consts:[["color","primary"],["slot","start"],["defaultHref","FormsListPage"],["size","small"],["collapse","true","slot","end"],[3,"title","click"],["slot","icon-only","name","add"],["slot","icon-only","name","refresh-circle-outline"],[3,"click",4,"ngIf"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"call-to-action-col",3,"hidden"],["fill","clear","color","secondary",1,"filters-btn",3,"title","click"],["slot","icon-only","name","options"],[3,"formGroup","hidden"],[1,"range-item-row"],["size","12"],[1,"range-header"],[1,"range-value"],[1,"range-label"],["formControlName","dual","color","secondary","pin","true","dualKnobs","true","min","1","max","100","step","1","debounce","400",1,"range-control",3,"ionChange"],[1,"user-friends-content"],["sticky",""],[4,"ngIf"],["value","todos",3,"ionChange"],["value","todos","checked",""],["value","Activo"],["value","Inactivo"],["class","empty-list-message",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Espere un momento..."],[3,"click"],["slot","icon-only","name","grid"],["slot","icon-only","name","list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],["width","67%"],["class","item md in-list ion-activatable ion-focusable item-label hydrated",3,"title",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item","md","in-list","ion-activatable","ion-focusable","item-label","hydrated",3,"title"],["size","12",3,"click"],["name","server-outline","slot","start"],["slot","end"],["color","medium"],["color","transparent"],["slot","secondary"],["slot","icon-only","name","trash-outline"],["slot","primary"],["color","secondary",3,"title","click"],["slot","icon-only","ios","ellipsis-horizontal","md","ellipsis-vertical"],["size-lg","6","size-sm","6","size","12",4,"ngFor","ngForOf","ngForTrackBy"],["size-lg","6","size-sm","6","size","12"],[3,"title"],[1,"user-stats-wrapper","user-details-wrapper"],[1,"user-stat-value"],[1,"user-stat-name"],[1,"item","md","in-list","ion-activatable","ion-focusable","item-label","hydrated"],[1,"ion-text-wrap",3,"click"],["no-padding",""],[1,"first-letter2",3,"innerHtml"],[1,"empty-list-message"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.TgZ(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title",3),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",4),t.TgZ(7,"ion-button",5),t.NdJ("click",function(){return i.addRecord()}),t.ALo(8,"translate"),t._UZ(9,"ion-icon",6),t.qZA(),t.TgZ(10,"ion-button",5),t.NdJ("click",function(){return i.pideregistros0()}),t.ALo(11,"translate"),t._UZ(12,"ion-icon",7),t.qZA(),t.YNc(13,K,2,0,"ion-button",8),t.YNc(14,H,2,0,"ion-button",8),t.qZA(),t.qZA(),t.TgZ(15,"ion-toolbar",9),t.TgZ(16,"ion-row",10),t.TgZ(17,"ion-col"),t.TgZ(18,"ion-searchbar",11),t.NdJ("ngModelChange",function(s){return i.searchQuery=s})("ionChange",function(){return i.searchList()}),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.TgZ(20,"ion-col",12),t.TgZ(21,"ion-button",13),t.NdJ("click",function(){return i.showAgeFilter=!i.showAgeFilter}),t.ALo(22,"translate"),t._UZ(23,"ion-icon",14),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"form",15),t.TgZ(25,"ion-row",16),t.TgZ(26,"ion-col",17),t.TgZ(27,"div",18),t.TgZ(28,"span",19),t._uU(29),t.qZA(),t.TgZ(30,"span",20),t._uU(31,"Filter by age"),t.qZA(),t.TgZ(32,"span",19),t._uU(33),t.qZA(),t.qZA(),t.qZA(),t.TgZ(34,"ion-col",17),t.TgZ(35,"ion-range",21),t.NdJ("ionChange",function(){return i.searchList()}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"ion-content",22),t.TgZ(37,"ion-item-divider",23),t.YNc(38,z,4,7,"ion-label",24),t.qZA(),t.TgZ(39,"ion-segment",25),t.NdJ("ionChange",function(s){return i.filterContacts(s)}),t.TgZ(40,"ion-segment-button",26),t._uU(41),t.ALo(42,"translate"),t.qZA(),t.TgZ(43,"ion-segment-button",27),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"ion-segment-button",28),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.YNc(49,tt,2,2,"ion-list",24),t.YNc(50,et,2,2,"ion-list",24),t.YNc(51,at,3,2,"ion-grid",24),t.YNc(52,nt,3,3,"h3",29),t.TgZ(53,"ion-infinite-scroll",30),t.NdJ("ionInfinite",function(s){return i.loadData(s)}),t._UZ(54,"ion-infinite-scroll-content",31),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.hij(" ",i.tituloxx," "),t.xp6(2),t.MGl("title"," ",t.lcZ(8,21,"AGREGARM"),""),t.xp6(3),t.MGl("title"," ",t.lcZ(11,23,"REFRESCARM"),""),t.xp6(3),t.Q6J("ngIf","grid"===i.viewType),t.xp6(1),t.Q6J("ngIf","list"===i.viewType),t.xp6(4),t.s9C("placeholder",t.lcZ(19,25,"BUSCARM")),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("hidden",!i.showAgeFilter),t.xp6(1),t.MGl("title"," ",t.lcZ(22,27,"FILTROM"),""),t.xp6(3),t.Q6J("formGroup",i.rangeForm)("hidden",!i.showAgeFilter),t.xp6(5),t.Oqu(i.rangeForm.controls.dual.value.lower),t.xp6(4),t.Oqu(i.rangeForm.controls.dual.value.upper),t.xp6(5),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0),t.xp6(3),t.hij(" ",t.lcZ(42,29,"TODOSM")," "),t.xp6(3),t.hij(" ",t.lcZ(45,31,"ACTIVOSM")," "),t.xp6(3),t.hij(" ",t.lcZ(48,33,"INACTIVOSM")," "),t.xp6(2),t.Q6J("ngIf",0===i.efecto),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"list"===i.viewType),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"grid"===i.viewType),t.xp6(1),t.Q6J("ngIf",0===(null==i.itemsList?null:i.itemsList.length)))},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.wd,a.YG,a.gu,_.O5,a.Nd,a.wI,a.VI,a.j9,l.JJ,l.On,l._Y,l.JL,l.sg,a.I_,a.QI,l.u,a.W2,a.rH,a.cJ,a.GO,a.ju,a.MB,a.Q$,a.q_,_.sg,a.Ie,W.B,a.jY,a.uN,a.yp,a.PM,a.FN],pipes:[u.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}.first-letter2[_ngcontent-%COMP%]{text-transform:capitalize;font-size:10px}.first-letter[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px}"]}),n})();var st=c(22675);let lt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[_.ez,a.Pc,r.K,l.u5,l.UX,A.YL,st.v,Z.Bz.forChild([{path:"",component:rt}]),u.aw.forChild()]]}),n})()},22675:(C,T,c)=>{c.d(T,{v:()=>p});var a=c(69808),Z=c(93075),_=c(51062),r=c(23349),u=c(55787),l=c(56604),A=c(5e3);let p=(()=>{class b{}return b.\u0275fac=function(f){return new(f||b)},b.\u0275mod=A.oAB({type:b}),b.\u0275inj=A.cJS({imports:[[a.ez,Z.u5,Z.UX,r.Pc,u.Bz,l.Cl,_.aw.forChild()]]}),b})()},63814:(C,T,c)=>{c.d(T,{B:()=>A});var a=c(70655),Z=c(47423),_=c(96090),r=c(5e3),u=c(23349);const l=["search"];let A=(()=>{class p{constructor(m,f,v){this.modalController=m,this.ngZone=f,this.navParams=v,this.title="AGM project",this.zoom=16}dismissModal(){this.modalController.dismiss("close")}dadireccion(){this.modalController.dismiss({direccion:this.address,la:this.latitude,lo:this.longitude})}ngOnInit(){this.uubx=this.navParams.get("uubx")}loadMap(){}clearWatch(){null!=this.watchId&&_.b.clearWatch({id:this.watchId})}setCurrentLocationa33(){if(Z.dV.isPluginAvailable("Geolocation"))try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(m,f)=>{m&&(this.latitude=m.coords.latitude,this.longitude=m.coords.longitude)})}catch(m){console.error(m)}}setCurrentLocationa(){try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(m,f)=>{m&&(this.latitude=m.coords.latitude,this.longitude=m.coords.longitude,this.getAddress(this.latitude,this.longitude))})}catch(m){console.error(m)}}setCurrentLocation2a(){if(Z.dV.isPluginAvailable("Geolocation"))try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(m,f)=>{this.latitude=Number(this.uubx.substring(this.uubx.indexOf("{")+1,this.uubx.indexOf("\xb0"))),this.longitude=Number(this.uubx.substring(this.uubx.indexOf("\xb0")+1,this.uubx.indexOf("}"))),0!==this.latitude&&this.latitude&&this.getAddress(this.latitude,this.longitude)})}catch(m){console.error(m)}}markerDragEnd(m){0!==this.latitude&&this.latitude&&(this.latitude=m.coords.lat,this.longitude=m.coords.lng,this.getAddress(this.latitude,this.longitude))}getAddress(m,f){this.geoCoder.geocode({location:{lat:m,lng:f}},(v,q)=>{"OK"===q?v[0]?this.address=v[0].formatted_address:window.alert("No results found"):window.alert("Geocoder failed due to: "+q)})}closeModal(){return(0,a.mG)(this,void 0,void 0,function*(){this.modalController.dismiss("close")})}}return p.\u0275fac=function(m){return new(m||p)(r.Y36(u.IN),r.Y36(r.R0b),r.Y36(u.X1))},p.\u0275cmp=r.Xpm({type:p,selectors:[["app-my-modal"]],viewQuery:function(m,f){if(1&m&&r.Gf(l,5),2&m){let v;r.iGM(v=r.CRH())&&(f.searchElementRef=v.first)}},decls:19,vars:6,consts:[[3,"translucent"],["color","primary"],["shape","round","color","dark",3,"click"],["slot","start","name","locate"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"ion-padding",3,"fullscreen"],["id","book-search-input","role","search"],["type","text","placeholder","Ingrese direcci\xf3n","autocorrect","off","autocapitalize","off","spellcheck","off","type","text",1,"book-search-input","native-input","sc-ion-input-ios",3,"keydown.enter"],["search",""],["type","submit","expand","block",1,"login-btn",3,"click"]],template:function(m,f){1&m&&(r.TgZ(0,"ion-header",0),r.TgZ(1,"ion-toolbar",1),r.TgZ(2,"ion-button",2),r.NdJ("click",function(){return f.loadMap()}),r._UZ(3,"ion-icon",3),r._uU(4," Ubicaci\xf3n "),r.qZA(),r.TgZ(5,"ion-buttons",4),r.TgZ(6,"ion-button",5),r.NdJ("click",function(){return f.closeModal()}),r._UZ(7,"ion-icon",6),r.qZA(),r.qZA(),r.TgZ(8,"ion-title",7),r._uU(9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"ion-content",8),r._uU(11),r.TgZ(12,"div",9),r.TgZ(13,"input",10,11),r.NdJ("keydown.enter",function(q){return q.preventDefault()}),r.qZA(),r.qZA(),r.TgZ(15,"h5"),r._uU(16),r.qZA(),r.TgZ(17,"ion-button",12),r.NdJ("click",function(){return f.dadireccion()}),r._uU(18,"Seleccionar"),r.qZA(),r.qZA()),2&m&&(r.Q6J("translucent",!0),r.xp6(9),r.Oqu(f.tituloxx),r.xp6(1),r.Q6J("fullscreen",!0),r.xp6(1),r.AsE("\n",f.latitude,", ",f.longitude," "),r.xp6(5),r.hij("Direcci\xf3n: ",f.address,""))},directives:[u.Gu,u.sr,u.YG,u.gu,u.Sm,u.wd,u.W2],styles:[".book-search-input[_ngcontent-%COMP%]{padding:6px;background:0 0;transition:top .5s ease;background:#bdbaba;border-bottom:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);margin-bottom:10px;margin-top:-1px;color:#fff;width:100%}"]}),p})()},26806:(C,T,c)=>{c.d(T,{B:()=>r});var a=c(5e3),Z=c(69808);const _=function(u,l){return{"no-animated":u,inline:l}};let r=(()=>{class u{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return u.\u0275fac=function(A){return new(A||u)},u.\u0275cmp=a.Xpm({type:u,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(A,p){1&A&&a._UZ(0,"div",0),2&A&&a.Q6J("ngClass",a.WLB(2,_,p.noAnimated,p.inline))("ngStyle",p.styles)},directives:[Z.mk,Z.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),u})()}}]);