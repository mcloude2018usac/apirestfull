"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3775],{42445:(m,u,s)=>{s.d(u,{g:()=>r});var d=s(69808),_=s(93075),i=s(23349),n=s(5e3);let r=(()=>{class e{}return e.\u0275fac=function(h){return new(h||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[d.ez,_.u5,i.Pc]]}),e})()},86489:(m,u,s)=>{s.d(u,{E:()=>g});var d=s(70655),_=s(49926),i=s(5e3),n=s(23349),r=s(69808),e=s(93075);function c(l,p){if(1&l&&(i.TgZ(0,"div",18),i._uU(1,"Saldo : "),i.TgZ(2,"strong"),i._uU(3),i.ALo(4,"currency"),i.qZA(),i.qZA()),2&l){const t=i.oxw();i.xp6(3),i.hij(" ",i.xi3(4,1,t.saldoactual,t.moneda),"")}}function h(l,p){if(1&l){const t=i.EpF();i.TgZ(0,"ion-button",19),i.NdJ("click",function(){return i.CHM(t),i.oxw().click("ac")}),i._uU(1,"AC"),i.qZA()}2&l&&i.Q6J("hidden",!0)}let g=(()=>{class l{constructor(t,a,o,f){this.alertController=t,this.modalController=a,this.authenticationService=o,this.navParams=f,this.display="0",this.firstval=null,this.operator=null,this.newcursor=!1,this.isc=!1,this.iscomma=!1,this.userinfo=[]}click(t){switch(t){case"ac":this.display="0",this.firstval=null,this.operator=null,this.newcursor=!1;break;case"c":this.display="0",this.isc=!1;break;case"+/-":if(1===Math.sign(parseInt(this.display,0))){const a=-Math.abs(parseInt(this.display,0));this.display=a.toString()}else if(-1===Math.sign(parseInt(this.display,0))){const a=Math.abs(parseInt(this.display,0));this.display=a.toString()}else this.display=this.display;break;case"%":this.addpercent();break;case":":this.addoperator(":");break;case"X":this.addoperator("X");break;case"-":this.addoperator("-");break;case"+":this.addoperator("+");break;case"=":null!==this.firstval&&null!==this.operator&&this.calclast(),this.operator=null;break;case"0":this.addnumber("0");break;case"1":this.addnumber("1");break;case"2":this.addnumber("2");break;case"3":this.addnumber("3");break;case"4":this.addnumber("4");break;case"5":this.addnumber("5");break;case"6":this.addnumber("6");break;case"7":this.addnumber("7");break;case"8":this.addnumber("8");break;case"9":this.addnumber("9");break;case",":this.addcomma()}}addcomma(){this.iscomma=!1===this.iscomma}addnumber(t){"0"===t?!0===this.newcursor?(this.display=t,this.newcursor=!1):"0"!==this.display?this.display=!0===this.iscomma?`${this.display.toString()}.${t}`:this.display.toString()+t:"0"===this.display&&!0===this.iscomma&&(this.display=`${this.display.toString()}.${t}`):!0===this.newcursor?(this.display=t,this.newcursor=!1):this.display="0"===this.display?!0===this.iscomma?this.display.toString().indexOf(".")>-1?this.display.toString()+t:`${this.display.toString()}.${t}`:t:!0===this.iscomma?this.display.toString().indexOf(".")>-1?this.display.toString()+t:`${this.display.toString()}.${t}`:this.display.toString()+t,this.isc=!0}addpercent(){this.iscomma=!1;const t=parseInt(this.display,0)/100;this.display=t.toString()}addoperator(t){!1===this.newcursor&&(null===this.firstval&&(this.firstval=!0===this.iscomma?parseFloat(this.display):parseInt(this.display,0)),null!==this.firstval&&null!==this.operator&&this.calclast()),this.iscomma=!1,this.operator=t,this.newcursor=!0}calclast(){switch(this.operator){case":":this.firstval=!0===this.iscomma?this.firstval/parseFloat(this.display):this.firstval/parseInt(this.display,0);break;case"X":this.firstval=!0===this.iscomma?this.firstval*parseFloat(this.display):this.firstval*parseInt(this.display,0);break;case"-":this.firstval=!0===this.iscomma?this.firstval-parseFloat(this.display):this.firstval-parseInt(this.display,0);break;case"+":this.firstval=!0===this.iscomma?this.firstval+parseFloat(this.display):this.firstval+parseInt(this.display,0)}this.display=this.firstval.toString()}dismissModal(){this.modalController.dismiss({data:"close"})}ngOnInit(){this.tituloxx=this.navParams.get("title"),this.moneda=this.navParams.get("moneda"),this.bottonn=this.navParams.get("botonn"),this.bottonn2=this.navParams.get("botonn2"),this.tipo=this.navParams.get("tipo"),this.validasaldo=this.navParams.get("validarsaldo"),this.userinfo=this.authenticationService.getcopiauser(),this.authenticationService.getReg(this.userinfo[0]._id+"/personadispid/"+this.userinfo[0].idempresa._id,"personals",0).then(t=>{this.saldoactual=t[0].saldo},t=>{this.authenticationService.presentAlert(t.error,"Precauci\xf3n","")})}iniciacobro0(){return(0,d.mG)(this,void 0,void 0,function*(){this.modalController.dismiss({data:this.display})})}iniciacobro(){return(0,d.mG)(this,void 0,void 0,function*(){"si"===this.validasaldo?this.authenticationService.getReg(this.userinfo[0]._id+"/personadispid/"+this.userinfo[0].idempresa._id,"personals",0).then(t=>{this.saldoactual=t[0].saldo,Number(this.display)<=Number(t[0].saldo)?"pagoqr"===this.tipo?this.modalController.dismiss({data:this.display}):this.iniciacobro0():this.authenticationService.presentAlert("Saldo insuficiente para realizar transacci\xf3n","Precauci\xf3n","")},t=>{this.authenticationService.presentAlert(t.error,"Precauci\xf3n","")}):"vendersaldo"===this.tipo?this.modalController.dismiss({data:this.display}):this.iniciacobro0()})}}return l.\u0275fac=function(t){return new(t||l)(i.Y36(n.Br),i.Y36(n.IN),i.Y36(_.$),i.Y36(n.X1))},l.\u0275cmp=i.Xpm({type:l,selectors:[["app-my-modalcalcu"]],decls:83,vars:16,consts:[["color","primary"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"ion-padding",3,"fullscreen"],["style","font-size: 12px;",4,"ngIf"],[1,"calc-main"],[1,"calc-display"],["type","number",1,"ion-text-end",3,"readonly","ngModel","ngModelChange"],[3,"hidden"],["shape","round","color","light",3,"hidden","click",4,"ngIf"],["shape","round","color","light",3,"click"],["shape","round","color","warning",3,"click"],["shape","round","color","dark",3,"click"],["size","6"],["shape","round","color","light",1,"double-width",3,"click"],["color","warning",1,"double-width",3,"click"],[2,"font-size","12px"],["shape","round","color","light",3,"hidden","click"]],template:function(t,a){1&t&&(i.TgZ(0,"ion-header"),i.TgZ(1,"ion-toolbar",0),i.TgZ(2,"ion-buttons",1),i.TgZ(3,"ion-button",2),i.NdJ("click",function(){return a.dismissModal()}),i._UZ(4,"ion-icon",3),i.qZA(),i.qZA(),i.TgZ(5,"ion-title",4),i._uU(6),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"ion-content",5),i.YNc(8,c,5,4,"div",6),i.TgZ(9,"div",7),i.TgZ(10,"div",8),i.TgZ(11,"ion-input",9),i.NdJ("ngModelChange",function(f){return a.display=f}),i.qZA(),i.qZA(),i.TgZ(12,"ion-grid"),i.TgZ(13,"ion-row"),i.TgZ(14,"ion-col",10),i.YNc(15,h,2,1,"ion-button",11),i.qZA(),i.TgZ(16,"ion-col",10),i.TgZ(17,"ion-button",12),i.NdJ("click",function(){return a.click("+/-")}),i._uU(18,"+/-"),i.qZA(),i.qZA(),i.TgZ(19,"ion-col",10),i.TgZ(20,"ion-button",12),i.NdJ("click",function(){return a.click("%")}),i._uU(21,"%"),i.qZA(),i.qZA(),i.TgZ(22,"ion-col",10),i.TgZ(23,"ion-button",13),i.NdJ("click",function(){return a.click(":")}),i._uU(24,":"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(25,"ion-row"),i.TgZ(26,"ion-col"),i.TgZ(27,"ion-button",14),i.NdJ("click",function(){return a.click("7")}),i._uU(28,"7"),i.qZA(),i.qZA(),i.TgZ(29,"ion-col"),i.TgZ(30,"ion-button",14),i.NdJ("click",function(){return a.click("8")}),i._uU(31,"8"),i.qZA(),i.qZA(),i.TgZ(32,"ion-col"),i.TgZ(33,"ion-button",14),i.NdJ("click",function(){return a.click("9")}),i._uU(34,"9"),i.qZA(),i.qZA(),i.TgZ(35,"ion-col",10),i.TgZ(36,"ion-button",13),i.NdJ("click",function(){return a.click("X")}),i._uU(37,"X"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(38,"ion-row"),i.TgZ(39,"ion-col"),i.TgZ(40,"ion-button",14),i.NdJ("click",function(){return a.click("4")}),i._uU(41,"4"),i.qZA(),i.qZA(),i.TgZ(42,"ion-col"),i.TgZ(43,"ion-button",14),i.NdJ("click",function(){return a.click("5")}),i._uU(44,"5"),i.qZA(),i.qZA(),i.TgZ(45,"ion-col"),i.TgZ(46,"ion-button",14),i.NdJ("click",function(){return a.click("6")}),i._uU(47,"6"),i.qZA(),i.qZA(),i.TgZ(48,"ion-col",10),i.TgZ(49,"ion-button",13),i.NdJ("click",function(){return a.click("-")}),i._uU(50,"-"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(51,"ion-row"),i.TgZ(52,"ion-col"),i.TgZ(53,"ion-button",14),i.NdJ("click",function(){return a.click("1")}),i._uU(54,"1"),i.qZA(),i.qZA(),i.TgZ(55,"ion-col"),i.TgZ(56,"ion-button",14),i.NdJ("click",function(){return a.click("2")}),i._uU(57,"2"),i.qZA(),i.qZA(),i.TgZ(58,"ion-col"),i.TgZ(59,"ion-button",14),i.NdJ("click",function(){return a.click("3")}),i._uU(60,"3"),i.qZA(),i.qZA(),i.TgZ(61,"ion-col",10),i.TgZ(62,"ion-button",13),i.NdJ("click",function(){return a.click("+")}),i._uU(63,"+"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(64,"ion-row"),i.TgZ(65,"ion-col"),i.TgZ(66,"ion-button",14),i.NdJ("click",function(){return a.click("0")}),i._uU(67,"0"),i.qZA(),i.qZA(),i.TgZ(68,"ion-col",10),i.TgZ(69,"ion-button",14),i.NdJ("click",function(){return a.click(",")}),i._uU(70,","),i.qZA(),i.qZA(),i.TgZ(71,"ion-col",10),i.TgZ(72,"ion-button",13),i.NdJ("click",function(){return a.click("=")}),i._uU(73,"="),i.qZA(),i.qZA(),i.qZA(),i.TgZ(74,"ion-row"),i._UZ(75,"br"),i.qZA(),i.TgZ(76,"ion-row"),i.TgZ(77,"ion-col",15),i.TgZ(78,"ion-button",16),i.NdJ("click",function(){return a.click("c")}),i._uU(79,"Borrar"),i.qZA(),i.qZA(),i.TgZ(80,"ion-col",15),i.TgZ(81,"ion-button",17),i.NdJ("click",function(){return a.iniciacobro()}),i._uU(82),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(6),i.Oqu(a.tituloxx),i.xp6(1),i.Q6J("fullscreen",!0),i.xp6(1),i.Q6J("ngIf","si"===a.validasaldo),i.xp6(3),i.Q6J("readonly",!0)("ngModel",a.display),i.xp6(3),i.Q6J("hidden",!0),i.xp6(1),i.Q6J("ngIf",!a.isc),i.xp6(1),i.Q6J("hidden",!0),i.xp6(3),i.Q6J("hidden",!0),i.xp6(3),i.Q6J("hidden",!0),i.xp6(13),i.Q6J("hidden",!0),i.xp6(13),i.Q6J("hidden",!0),i.xp6(13),i.Q6J("hidden",!0),i.xp6(7),i.Q6J("hidden",!0),i.xp6(3),i.Q6J("hidden",!0),i.xp6(11),i.hij(" ",a.bottonn," "))},directives:[n.Gu,n.sr,n.Sm,n.YG,n.gu,n.wd,n.W2,r.O5,n.pK,n.as,e.JJ,e.On,n.jY,n.Nd,n.wI],pipes:[r.H9],styles:[".book-search-input[_ngcontent-%COMP%]{padding:6px;background:0 0;transition:top .5s ease;background:#bdbaba;border-bottom:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);margin-bottom:10px;margin-top:-1px;color:#fff;width:100%}.calc-main[_ngcontent-%COMP%]{background-color:#000;height:100%}.calc-display[_ngcontent-%COMP%]{background-color:#000;padding:10px 15px 20px}ion-input[_ngcontent-%COMP%]{color:#fff;font-size:32px}ion-col[_ngcontent-%COMP%]{padding:0;margin:0;text-align:center}ion-button[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50;font-size:20px}.double-width[_ngcontent-%COMP%], .double-width2[_ngcontent-%COMP%]{width:86%}"]}),l})()},16580:(m,u,s)=>{s.d(u,{W:()=>e});var d=s(69808),_=s(93075),i=s(23349),n=s(98246),r=s(5e3);let e=(()=>{class c{}return c.\u0275fac=function(g){return new(g||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[d.ez,_.u5,i.Pc,n.F5]]}),c})()}}]);