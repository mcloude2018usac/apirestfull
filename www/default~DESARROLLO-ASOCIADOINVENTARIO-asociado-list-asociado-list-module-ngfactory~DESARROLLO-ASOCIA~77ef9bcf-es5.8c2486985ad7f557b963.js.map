{"version":3,"sources":["webpack:///src/app/DESARROLLO/modals/my-modal-combo/my-modal-combo.page.ts"],"names":["MyModalComboPage","modalController","alertController","translateService","authenticationService","navParams","searchSubject","variables","userinfo","tituloxx","vgrupo","tmultiple","vector","showAgeFilter","showmenu","items","grabax","efecto","keys","seguro","msg","this","next","query","searchQuery","itemsList","filterList","list","filter","item","nombre","toLowerCase","includes","totalItems","length","checked","map","obj","isChecked","isIndeterminate","masterCheck","setTimeout","forEach","data","keyst","split","i","aa","String","indexOf","push","doblex","getReg","idempresa","_id","frm","then","sigraba","myData","myData2","idllave0","idllave","filtroformularioconsulta","formularioconsulta","i2","encuentra","idcampos","i22","idcamposmodificables","idcamposmodificables2","name","idfrmconsulta2","idfrmconsulta","id","cadff","filtrar","idpapafiltro","tipo","idcampofiltromanual","nombret","catalogot","idusuario","email","correo","op","get","getcopiauser","idasociado","bloquear","siformulatiot","pideregistros","subscribe","value","idunidadt","idunidad","idformulario","Form","controls","setValue","record","alert","create","header","message","inputs","type","placeholder","buttons","text","cssClass","handler","blah","todo","options","idunidad2","bitacora","idafiliado","permiso","accion","createReg","result","err","presentAlert","error","present","document","querySelector","focus","dismiss","datatc","dataid","dataid2","datanombre","correos","nombres","correos2","deleteReg"],"mappings":"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","file":"x","sourcesContent":["  import { Component, OnInit } from '@angular/core';\n  import { AlertController , ModalController , NavParams} from '@ionic/angular';\n  import { FormGroup, FormControl, Validators, FormGroupDirective } from '@angular/forms';\n  import { AuthenticationService } from '../../services/Authentication.service';\n  import { TranslateService } from '@ngx-translate/core';\n  import { ReplaySubject} from 'rxjs';\n\n  @Component({\n    selector: 'app-my-modal-combo',\n    templateUrl: './my-modal-combo.page.html',\n    styleUrls: ['./my-modal-combo.page.scss'],\n  })\n  export class MyModalComboPage implements OnInit {\n    Form: FormGroup;\n    searchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\n    variables: any = [];\n    userinfo: any = [];\n    data: any;\n    tituloxx = '';\n    idusuario: any;\n    idcampos: any;\n    frm: any;\n    nombre: any;\n    idpapafiltro: any;\n    bloquear: any;\n    vgrupo: any = [];\n    catalogot: any;\n    doblex: any;\n    filtrar: any;\n    op: any;\n    idfrmconsulta: any;\n    idfrmconsulta2: any;\n    siformulatiot: any;\n    idcampofiltromanual: any;\n   tmultiple = false;\n    vector: any = [];\n    isIndeterminate: boolean;\n    masterCheck: boolean;\n    lpermiso: any;\n    idunidadt: any;\n    idcamposmodificables: any;\n    idcamposmodificables2: any;\n    idasociado: any;\n    filtroformularioconsulta: any;\n    formularioconsulta: any;\n    idformulario: any;\n    searchQuery: string;\nshowAgeFilter = false;\nshowmenu = false;\ntipo: any;\nitems: any  = [] ;\ngrabax: any = true;\nidllave: any;\nidllave0: any;\nsigraba: any;\nefecto = 0;\nkeys: any = [];\nseguro = '';\nmsg = '';\nitemsList: Array<any>;\n\n    constructor(private modalController: ModalController,  public alertController: AlertController,\n      public translateService: TranslateService    , private authenticationService: AuthenticationService,\n      private navParams: NavParams) {\n\n\n\n\n       }\n       searchList() {\n        this.searchSubject.next({\n\n         query: this.searchQuery\n       });\n        const query = (this.searchQuery && this.searchQuery !== null) ? this.searchQuery : '';\n        this.itemsList = this.filterList(this.items, query);\n      }\n      filterList(list, query): Array<any> {\n        return list.filter(item => item.nombre.toLowerCase().includes(query.toLowerCase()));\n       }\n\n       checkEvent() {\n        const totalItems = this.itemsList.length;\n        let checked = 0;\n        this.itemsList.map(obj => {\n          if (obj.isChecked) { checked++; }\n        });\n        if (checked > 0 && checked < totalItems) {\n          // If even one item is checked but not all\n          this.isIndeterminate = true;\n          this.masterCheck = false;\n        } else if (checked == totalItems) {\n          // If all are checked\n          this.masterCheck = true;\n          this.isIndeterminate = false;\n        } else {\n          // If none is checked\n          this.isIndeterminate = false;\n          this.masterCheck = false;\n        }\n      }\n\n\n      checkMaster() {\n        setTimeout(() => {\n          this.itemsList.forEach(obj => {\n            obj.isChecked = this.masterCheck;\n          });\n        });\n      }\n\n\n      public getKeys(data) {\n        const keyst: any = [];\n        const keystaa: any = [];\n       // var keys2:any=[];\n        this.keys = data.nombre.split('°');\n        const cadurs = '';\n        const cadurs2 = '';\n        const cadurs3 = '';\n        for (let i = 0; i < this.keys.length; i++) {\n          const aa = this.keys[i].split(':');\n          if (aa[0] !== '' && String(aa[0]).indexOf('¬')<0) {\n            if(aa[1] ===undefined)\n            {\n              keyst.push('' +  aa[0]  + '  '  );\n            }\n            else\n            {\n              keyst.push('<strong>' +  aa[0]  + '</strong> : ' + aa[1] );\n            }\n          \n          }\n            }\n\n\n        this.keys = keyst;\n\n\n        return true;\n      }\n\n\n       pideregistros() {\n\n        if (this.doblex !== '') {\n          this.authenticationService.getReg('todos/' + this.data + '/' + this.userinfo[0].idempresa._id\n           + '/' + this.doblex , this.frm, 0).then((data) => {\n\n            this.items =  data;\n            this.itemsList = this.items;\n           });\n\n        } else {\n          if (this.sigraba === 'sigraba' || this.sigraba === 'nograba') {\n            this.authenticationService.getReg('todos/' + this.data + '/' + this.userinfo[0].idempresa._id  , this.frm, 0).then((data) => {\n\n              this.items =  data;\n              this.itemsList = this.items;\n             });\n          } else {\n\n            if (this.sigraba === 'sigraba' ) {\n              this.items =  this.vector;\n\n            } else {\n              const myData: any = [];\n              const myData2: any = [];\n\n              switch (this.sigraba) {\n                case 'multas':\n                const cadff2 = '5f74c136f22ed14ea01c1cc1' + '/' + 'descripcion°Descripción,monto°Monto,plazoenminutospararesolver°Plazo en minutos para resolver' + '/' + this.userinfo[0].idempresa._id + '/formulariocombo/';\n\n\n                this.authenticationService.getReg( cadff2 , 'frmmovils', 0).then((data) => {\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n\n                  break;\n                case 'actividadsiguiente':\n                  this.authenticationService.getReg(this.idllave0 + '/actividadsiguiente/' + this.userinfo[0].idempresa._id + '/' + this.idllave, 'frmactividads', 0).then((data) => {\n\n                    this.items =  data;\n                    this.itemsList = this.items;\n                  });\n\n                  break;\n                case 'controlmultipleidnombre':\n\n\n\n\n\n                      this.tmultiple = true;\n                      this.authenticationService.getReg( this.filtroformularioconsulta , this.formularioconsulta, 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n\n                          this.itemsList = [];\n                          for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                            let encuentra = 0;\n                            if (this.idcampos) {\n                            for (let i22 = 0; i22 < this.idcampos.length; i22++) {\n                              if (this.idcampos[i22] === this.items[i2]._id) {\n                                encuentra = 1;\n                              }\n                            }\n                          }\n                          if (encuentra === 0) {\n                            if (this.idcamposmodificables) {\n                              for (let i22 = 0; i22 < this.idcamposmodificables.length; i22++) {\n                                if (this.idcamposmodificables[i22] === this.items[i2]._id) {\n                                  encuentra = 1;\n                                }\n                              }\n                            }\n                          }\n\n                          if (encuentra === 0) {\n                            if (this.idcamposmodificables2.length > 0) {\n                              for (let i22 = 0; i22 < this.idcamposmodificables2.length; i22++) {\n                                if (this.idcamposmodificables2[i22] === this.items[i2]._id) {\n                                  encuentra = 1;\n                                }\n                              }\n\n                              if (encuentra === 0) {\n                                encuentra = 1;\n                              } else {\n                                encuentra = 0;\n                              }\n\n                            }\n                          }\n\n                            if (encuentra === 1) {\n                              this.itemsList.push({_id: this.items[i2]._id, name: this.items[i2].name, nombre: this.items[i2].nombre, isChecked: true  });\n                            } else {\n                              this.itemsList.push({_id: this.items[i2]._id,  name: this.items[i2].name , nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n\n\n                           // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                          }\n                          this.items = this.itemsList ;\n\n\n\n\n                      });\n\n\n\n\n\n\n\n\n\n\n\n\n\n                  break;\n                case 'formulariottcheck':\n\n\n                  for (let i = 0; i <  this.idfrmconsulta2.length; i++) {\n                          myData2.push([this.idfrmconsulta2[i].nombre]);\n                  }\n\n                  switch (this.idfrmconsulta.id) {\n                    case 'users':\n                      this.authenticationService.getReg('Activo/personasactivas/' + this.userinfo[0].idempresa._id  , 'personals', 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n\n                      break;\n                    default:\n                      let cadff = '';\n                      if (this.filtrar !== undefined && this.filtrar !== '') {\n                        cadff = this.idfrmconsulta.id + '/' + myData2 + '/' + this.userinfo[0].idempresa._id  + '¬°' + this.filtrar + '/formulariocombofiltro/';\n\n                      } else {\n                        cadff = this.idfrmconsulta.id + '/' + myData2 + '/' + this.userinfo[0].idempresa._id + '/formulariocombo/';\n                      }\n\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n                  }\n\n\n\n\n                  break;\n                case 'formulariott':\n\n                  let cadff = '';\n\n                  for (let i = 0; i <  this.idfrmconsulta2.length; i++) {\n                          myData.push([this.idfrmconsulta2[i].nombre]);\n                  }\n\n                  if (this.idpapafiltro !== '' && this.idpapafiltro !== undefined) {\n\n                    this.filtrar = '\"' + 'idpapa' + '\"' + ':' + '\"' + this.idpapafiltro +  '\"';\n                    cadff = this.idfrmconsulta.id + '/' + myData + '/' + this.userinfo[0].idempresa._id  + '¬' + this.filtrar + '/formulariosolopapafiltro/';\n\n                    if (this.tipo === 'select2' || this.tipo === 'select3') {\n                      this.tmultiple = true;\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n\n\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                        if (this.tmultiple === true) {\n                          this.itemsList = [];\n                          for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                            let encuentra = 0;\n                            if (this.idcampos) {\n                            for (let i22 = 0; i22 < this.idcampos.length; i22++) {\n                              if (this.idcampos[i22] === this.items[i2]._id) {\n                                encuentra = 1;\n                              }\n                            }\n                          }\n                            if (encuentra === 1) {\n                              this.itemsList.push({_id: this.items[i2]._id, name: this.items[i2].name, nombre: this.items[i2].nombre, isChecked: true  });\n                            } else {\n                              this.itemsList.push({_id: this.items[i2]._id,  name: this.items[i2].name , nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n\n\n                           // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                          }\n                          this.items = this.itemsList ;\n                        }\n\n\n\n                      });\n\n\n\n\n\n                    } else {\n                      this.tmultiple = false;\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n                    }\n\n\n                  } else {\n                  switch (this.idfrmconsulta.id) {\n                    case 'users':\n                      this.authenticationService.getReg('Activo/personasactivasfiltro/' + this.userinfo[0].idempresa._id + '¬' + this.idcampofiltromanual , 'personals', 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n\n                      break;\n                    default:\n\n                      if (this.filtrar !== undefined && this.filtrar !== '') {\n                        cadff = this.idfrmconsulta.id + '/' + myData + '/' + this.userinfo[0].idempresa._id  + '°' + this.filtrar + '/formulariocombofiltro/';\n\n                      } else {\n                        cadff = this.idfrmconsulta.id + '/' + myData + '/' + this.userinfo[0].idempresa._id + '/formulariocombo/';\n                      }\n\n                      this.authenticationService.getReg( cadff , 'frmmovils', 0).then((data) => {\n                        this.items =  data;\n                        this.itemsList = this.items;\n                      });\n                  }}\n\n\n\n\n                  break;\n                case 'formulariot':\n                  this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id, 'frmmovils', 0).then((data) => {\n\n                  this.items =  data;\n                  this.items.push({_id: 'users', nombre: 'Usuarios sistema**'});\n                  this.itemsList = this.items;\n                });\n\n                break;\n                case 'formulariot2':\n\n\n                  switch (this.idllave) {\n                    case 'users':\n                      this.tmultiple = false;\n                      this.authenticationService.getReg('Activo/personasactivas/' + this.userinfo[0].idempresa._id  , 'personals', 0).then((data) => {\n\n                        this.items =  data;\n                        this.itemsList = this.items;\n                        /*\n                        if (this.tmultiple === true) {\n                          this.itemsList = [];\n                          for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                            let encuentra = 0;\n                            for (let i22 = 0; i22 < this.idusuario.length; i22++) {\n                              if (this.idusuario[i22].id === this.items[i2]._id) {\n                                encuentra = 1;\n                              }\n                            }\n                            if (encuentra === 1) {\n                              this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: true  });\n                            } else {\n                              this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n\n\n                           // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                          }\n                          this.items = this.itemsList ;\n                        }\n                        */\n                       });\n\n                      break;\n                      default:\n                        let nombret = 'formulariocamposverid';\n                        if (this.catalogot === 'formulario-plantilla') {this.tmultiple = true; } else {this.tmultiple = false; nombret = 'formulariocamposveridcampo'; }\n\n                        this.authenticationService.getReg(this.idllave + '/' + nombret + '/'  + this.userinfo[0].idempresa._id , 'frmmovils' , 0).then((data) => {\n\n                          this.items =  data;\n                          this.itemsList = this.items;\n                          if (this.tmultiple === true) {\n                            this.itemsList = [];\n                            for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                              let encuentra = 0;\n                              if (this.idcampos) {\n                              for (let i22 = 0; i22 < this.idcampos.length; i22++) {\n                                if (this.idcampos[i22].id === this.items[i2]._id) {\n                                  encuentra = 1;\n                                }\n                              }\n                            }\n                              if (encuentra === 1) {\n                                this.itemsList.push({_id: this.items[i2]._id, name: this.items[i2].name, nombre: this.items[i2].nombre, isChecked: true  });\n                              } else {\n                                this.itemsList.push({_id: this.items[i2]._id,  name: this.items[i2].name , nombre: this.items[i2].nombre, isChecked: false  });\n                              }\n\n\n                             // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                            }\n                            this.items = this.itemsList ;\n                          }\n\n\n                        });\n\n                  }\n\n\n\n                break;\n                case 'role':\n                  this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id, 'rols', 0).then((data) => {\n\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n\n                break;\n                case 'role1':\n                  this.authenticationService.getReg('todos/todosope/' + this.userinfo[0].idempresa._id, 'rols', 0).then((data) => {\n\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n\n                break;\n                case 'tarifas':\n                  this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id + '/' + this.userinfo[0].idempresa._id , 'tarifas', 0).then((data) => {\n\n                    this.items =  data;\n                    this.itemsList = this.items;\n                  });\n                  break;\n                case 'formulariodetalle':\n\n                this.authenticationService.getReg('detalle' + '/' + 'Activo' + '/' + this.userinfo[0].idempresa._id + '/' + 'frmmovilp', 'frmmovils', 0).then((data) => {\n                  this.items =  data;\n                  this.itemsList = this.items;\n                });\n                break;\n                case 'personals':\n                this.authenticationService.getReg('Activo/personasactivas/' + this.userinfo[0].idempresa._id  , this.sigraba, 0).then((data) => {\n\n                  this.items =  data;\n                  this.itemsList = this.items;\n                  if (this.tmultiple === true) {\n                    this.itemsList = [];\n                    for (let i2 = 0; i2 < this.items.length; i2++) {\n\n                      let encuentra = 0;\n\n                      if (this.idusuario) {\n                      for (let i22 = 0; i22 < this.idusuario.length; i22++) {\n                        if (this.idusuario[i22].email === this.items[i2].email) {\n                          encuentra = 1;\n                        }\n                      }\n                    }\n\n                      if (encuentra === 1) {\n                        this.itemsList.push({_id: this.items[i2]._id, correo: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: true  });\n                      } else {\n                        this.itemsList.push({_id: this.items[i2]._id,  correo: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                      }\n\n\n                     // this.itemsList.push({_id: this.items[i2].email, nombre: this.items[i2].nombre, isChecked: false  });\n                    }\n                    if (this.op === 'usuario-plantilla-grupoproceso') {\n                      this.itemsList.push({_id: 'USUARIOSOLICITANTE',  correo: 'USUARIOSOLICITANTE', nombre: 'USUARIO SOLICITANTE', isChecked: false  });\n\n                    }\n\n                    this.items = this.itemsList ;\n                  }\n                 });\n                 break;\n                case 'frmmovils':\n\n                  this.authenticationService.getReg(this.tipo + '/Activo/' + this.userinfo[0].idempresa._id + '/' + 'frmmovilp' , this.sigraba, 0).then((data) => {\n\n            this.items =  data;\n            this.itemsList = this.items;\n           });\n           break;\n           case 'frmactors':\n\n            this.authenticationService.getReg('todos' + '/Activo/' + this.userinfo[0].idempresa._id + '/' + this.idllave , this.sigraba, 0).then((data) => {\n\n      this.items =  data;\n      this.itemsList = this.items;\n     });\n     break;\n                  default:\n                      this.authenticationService.getReg('todos/Activo/' + this.userinfo[0].idempresa._id  , this.sigraba, 0).then((data) => {\n\n                this.items =  data;\n                this.itemsList = this.items;\n                if (this.tmultiple === true) {\n                  for (let i2 = 0; i2 < this.items.length; i2++) {\n                    let encuentra = 0;\n\n                    if (this.idusuario ) {\n                    for (let i22 = 0; i22 < this.idusuario.length; i22++) {\n                      if (this.idusuario[i22].email === this.items[i2].email) {\n                        encuentra = 1;\n                      }\n                    }\n                  }\n\n                    if (encuentra === 1) {\n                      this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: true  });\n                    } else {\n                      this.itemsList.push({_id: this.items[i2]._id, nombre: this.items[i2].nombre, isChecked: false  });\n                    }\n\n                  }\n                  this.items = this.itemsList ;\n                }\n\n               });\n              }\n\n\n\n            }\n\n          }\n\n        }\n\n\n\n       }\n    ngOnInit() {\n      this.variables = this.navParams.get('variables');\n      this.userinfo = this.authenticationService.getcopiauser();\n      this.frm = this.navParams.get('frm');\n      this.data = this.navParams.get('op');\n      this.tipo = this.navParams.get('tipo');\n      this.tituloxx = this.navParams.get('titlex');\n      this.doblex = this.navParams.get('doble');\n      this.idasociado = this.navParams.get('idasociado');\n      this.bloquear = this.navParams.get('bloquear');\n      if (this.bloquear === undefined) {this.bloquear = '';}\n      this.tmultiple = this.navParams.get('tmultiple');\n      this.idusuario = this.navParams.get('tarraymultiple');\n      this.idcampos = this.navParams.get('tarraymultiple');\n      this.idllave = this.navParams.get('idllave');\n      this.idllave0 = this.navParams.get('idllave0');\n      this.idpapafiltro = this.navParams.get('idpapafiltro');\n      this.catalogot = this.navParams.get('catalogot');\n      this.op = this.navParams.get('op');\n      this.idcampofiltromanual = this.navParams.get('idcampofiltromanual');\n      this.idfrmconsulta = this.navParams.get('idfrmconsulta');\n      this.idfrmconsulta2 = this.navParams.get('idfrmconsulta2');\n      this.siformulatiot = this.navParams.get('siformulatiot');\n      this.idcamposmodificables = this.navParams.get('idcamposmodificables');\n      this.idcamposmodificables2 = this.navParams.get('idcamposmodificables2');\n      this.filtroformularioconsulta = this.navParams.get('filtroformularioconsulta');\n      this.formularioconsulta = this.navParams.get('formularioconsulta');\n\n\n      this.filtrar = this.navParams.get('filtrar');\n      if (this.tmultiple === undefined ) { this.tmultiple = false; }\n      if (this.doblex === undefined ) { this.doblex = ''; }\n      this.sigraba = this.navParams.get('grabax');\nthis.vector = this.navParams.get('vector');\n      if (this.navParams.get('grabax') === undefined) {this.sigraba = 'sigraba'; }\n      if (this.sigraba === 'sigraba') {\n        this.grabax = false;\n      } else {\n        this.grabax = true;\n      }\n      this.pideregistros();\n      this.translateService.get('SEGUROM').subscribe((value) => {   this.seguro = value;  });\n\n      if ( this.frm === 'frmcats') {\n        this.idunidadt\t\t\t=\tthis.data;\n      } else {\n        this.idunidadt\t\t\t=\tthis.data.idunidad;\n        this.idformulario = this.data.idformulario;\n      }\n\n\n\n    }\n\n    ionViewDidLoad(): void {\n\n\n    this.frm =\t\tthis.data.frm;\n      if (this.navParams.get('record') == null) {\n        this.tituloxx = 'Creación de ' + this.idunidadt;\n      } else {\n\n        this.Form.controls['nombre'].setValue(this.data.record.nombre);\n        this.tituloxx = 'Actualización de ' + this.idunidadt;\n      }\n    }\n\n\n\n    async addRecord() {\n\n      const alert = await this.alertController.create({\n        header: 'Ingrese información',\n        message: '',\n        inputs: [\n          {\n            name: 'nombre',\n            type: 'text',\n\n            placeholder: 'Ingrese información'\n          }],\n        buttons: [\n          {\n            text: 'Cancelar',\n           cssClass: 'secondary',\n            handler: (blah) => {\n            }\n          }, {\n             text: 'Aceptar',\n             handler: (todo) => {\n\n\n                        let   options: any\t ;\n\n                        if (this.frm === 'frmcats') {\n                        options           = {\n                        idempresa: this.userinfo[0].idempresa._id,\n                        idunidad : this.idunidadt,\n                        idunidad2 : this.doblex,\n                      nombre : todo.nombre,\n                      bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                      email: this.userinfo[0].email ,  permiso : 'Crea', accion: 'Crea' + ' catalogos dinamicos '}\n                      };\n\n                    } else {\n\n                      options           = {\n                        idempresa: this.userinfo[0].idempresa._id,\n                        idunidad : this.idunidadt,\n                        idformulario: this.idformulario,\n                      nombre : todo.nombre,\n                      bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                      email: this.userinfo[0].email , permiso : 'Crea', accion: 'Crea' + ' catalogos dinamicos '}\n                      };\n                    }\n                    this.authenticationService.createReg('', options, this.frm).then((result) => {\n\n                      this.pideregistros();\n                     // this.modalController.dismiss(result);\n                  }, (err) => {\n                    this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                  });\n\n\n             }\n           }\n         ]\n       });\n       await alert.present().then(() => {\n        const firstInput: any = document.querySelector('ion-alert input');\n        firstInput.focus();\n        return;\n      });\n\n\n    }\n\n\n    async closeModal() {\n      this.modalController.dismiss('close');\n    }\n\n\n    selectitem(item: any) {\n\n      if (this.tmultiple === true) {\n        const datatc: any = [];\n        let dataid: any = '';\n        let dataid2: any = '';\n        let datanombre: any = '';\n\n        for (let i2 = 0; i2 < this.itemsList.length; i2++) {\n          if (this.itemsList[i2].isChecked === true) {\n\n            switch (this.sigraba) {\n              case 'controlmultipleidnombre':\n                datatc.push({id: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre});\n                datanombre = datanombre + ' , ' + this.itemsList[i2].nombre;\n                dataid = dataid + ';' + this.itemsList[i2]._id;\n\n\n              break;\n\n              case 'formulariot2':\n\n                switch (this.idllave) {\n                  case 'users':\n                    datatc.push({id: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre});\n                    datanombre = datanombre + ' , ' + this.itemsList[i2].nombre;\n                    dataid = dataid + ';' + this.itemsList[i2]._id;\n\n                  break;\n                  default:\n                    datatc.push({id: this.itemsList[i2]._id , nombre: this.itemsList[i2].name+'°'+this.itemsList[i2].nombre});\n                    datanombre = datanombre + ' , ' + this.itemsList[i2].nombre;\n                    dataid = dataid + ';' + this.itemsList[i2]._id;\n\n\n                }\n\n            break;\n            default:\n\n              if (this.tipo === 'select2' || this.tipo === 'select3') {\n\n                datatc.push({email: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre});\n                datanombre = datanombre + ' ' + this.itemsList[i2].nombre;\n                dataid = dataid + ';' + this.itemsList[i2]._id;\n                dataid2 = dataid2 +  this.itemsList[i2].nombre.split('¬')[1] + ';';\n\n                break;\n              } else {\n                datatc.push({email: this.itemsList[i2]._id , nombre: this.itemsList[i2].nombre, correo: this.itemsList[i2].correo});\n                datanombre = datanombre + ' ' + this.itemsList[i2].nombre;\n                dataid = dataid + ';' + this.itemsList[i2]._id;\n                break;\n\n              }\n\n\n            }\n          }\n\n        }\n\n        switch (this.sigraba) {\n\n          case 'formulariot2':\n\n                  this.modalController.dismiss({_id: datatc, correos: dataid, nombres: datanombre , correos2: dataid2} );\n\n\n        break;\n        default:\n          this.modalController.dismiss({_id: datatc, correos: dataid, nombres: datanombre, correos2: dataid2 } );\n          break;\n\n        }\n\n\n\n\n      } else {\n        if (this.sigraba === 'sigraba' || this.sigraba === 'nograba') {\n          this.modalController.dismiss({_id: item._id , nombre: item.nombre} );\n          } else {\n            this.modalController.dismiss({_id: item._id , nombre: item.nombre} );\n          }\n      }\n\n\n    }\n\n    async deleteRecord(item: any) {\n      const alert = await this.alertController.create({\n        header: this.seguro,\n        message: '',\n        buttons: [\n          {\n            text: 'No',\n           cssClass: 'secondary',\n            handler: (blah) => {\n            }\n          }, {\n             text: 'Si',\n             handler: () => {\n              this.authenticationService.deleteReg(item.id + '/' + this.userinfo[0].email + '/' +\n          this.userinfo[0].idempresa._id + '/' + 'na', this.frm).then((data) => {\n            this.pideregistros();\n\n          }, (err) => {\n            this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n          });\n\n             }\n           }\n         ]\n       });\n       await alert.present();\n     }\n\n\n\n\n     async updateRecord(item: any) {\n    const alert = await this.alertController.create({\n      header: 'Ingrese información',\n      message: '',\n      inputs: [\n        {\n          name: 'nombre',\n          type: 'text',\n          value: item.nombre,\n          placeholder: 'Ingrese información'\n        }],\n      buttons: [\n        {\n          text: 'Cancelar',\n         cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n           text: 'Aceptar',\n           handler: (todo) => {\n\n\n                      let   options: any\t ;\n\n                      if (this.frm === 'frmcats') {\n                      options           = {\n                      idempresa: this.userinfo[0].idempresa._id,\n                      idunidad : this.idunidadt,\n                      idunidad2 : this.doblex,\n                    nombre : todo.nombre,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email ,  permiso : 'Actualiza', accion: 'Actualiza' + ' catalogos dinamicos '}\n                    };\n\n                  } else {\n\n                    options           = {\n                      idempresa: this.userinfo[0].idempresa._id,\n                      idunidad : this.idunidadt,\n                      idformulario: this.idformulario,\n                    nombre : todo.nombre,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'Actualiza' + ' catalogos dinamicos '}\n                    };\n                  }\n\n                  this.authenticationService.createReg(item.id, options, this.frm).then((result) => {\n\n               //   this.modalController.dismiss(result);\n                      this.pideregistros();\n                }, (err) => {\n                  this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                });\n\n\n           }\n         }\n       ]\n     });\n     await alert.present();\n    }\n  }\n"]}