{"version":3,"sources":["webpack:///src/app/DESARROLLO/modals/my-modalscanpay2/my-modalscanpay2.module.ts","webpack:///src/app/DESARROLLO/modals/my-modalpin/my-modalpin.page.html","webpack:///src/app/DESARROLLO/modals/my-modalpin/my-modalpin.page.ts","webpack:///src/app/DESARROLLO/modals/my-modalscanpay2/my-modalscanpay2.page.html","webpack:///src/app/DESARROLLO/modals/my-modalscanpay2/my-modalscanpay2.page.ts","webpack:///src/app/DESARROLLO/modals/my-modalpin/my-modalpin.module.ts"],"names":["MyModalscanpay2PageModule","MyModalpinPage","modalController","authenticationService","navParams","title","userinfo","this","getcopiauser","passcode","finalPin","mypinseguro","codpersonal","message","pageStatus","newPincount","fingerPin","tituloxx","get","dismiss","data","value","length","codeone","codetwo","codethree","codefour","presentAlert","substr","MyModalscanpay2Page","loadingCtrl","toastCtrl","ngZone","plt","scanActive","scanResult","loading","zoom","monto","is","window","navigator","console","log","moneda","tipo","tipo2","Form","required","controls","setValue","canvasElement","canvas","nativeElement","canvasContext","getContext","videoElement","video","startScan","create","position","buttons","text","handler","open","present","stream","mediaDevices","getUserMedia","facingMode","srcObject","setAttribute","play","requestAnimationFrame","scan","bind","readyState","HAVE_ENOUGH_DATA","height","videoHeight","width","videoWidth","drawImage","imageData","getImageData","code","inversionAttempts","decryptvalue","arr","split","getReg","then","datat","trama","_id","options","idempresa","idsuscriptor","id","nombre","tokencompra","descripcion","tipocompra","monto2","url","tpago","estado","bitacora","idafiliado","email","permiso","accion","idempresa0","idsuscriptor2","createReg","result","cobroservicio","err","error","fileinput","click","files","file","item","img","Image","onload","src","URL","createObjectURL","MyModalpinPageModule"],"mappings":"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","file":"x","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { MyModalscanpay2Page } from './my-modalscanpay2.page';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule, ReactiveFormsModule,\n    IonicModule,\n   \n  ],\n  declarations: [MyModalscanpay2Page],\n  entryComponents: [\n    MyModalscanpay2Page\n  ],\n})\nexport class MyModalscanpay2PageModule {}\n","\n\n<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n  \n          <ion-buttons slot=\"end\">\n                  <ion-button (click)=\"closeModal()\">\n                     <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n                  </ion-button>\n          </ion-buttons>\n          <ion-title>{{tituloxx}}</ion-title>\n         \n  </ion-toolbar>   \n\n\n\n</ion-header>\n<!-- <ion-content padding class=\"center-vertical\">-->\n<ion-content  [fullscreen]=\"true\" class=\"ion-padding\" >\n \n  <div class=\"calc-main\">\n  \n    <ion-grid>\n      <ion-row>\n\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\" >\n            <p *ngIf=\"codeone || codeone == 0\">*</p>\n            </ion-button>\n        \n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\"  >\n            <p *ngIf=\"codetwo || codetwo == 0\">*</p>\n            </ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\" >\n            <p *ngIf=\"codethree || codethree == 0\">*</p>\n          </ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\" >\n            <p *ngIf=\"codefour || codefour == 0\" >*</p>\n          </ion-button>\n        </ion-col>\n\n\n      </ion-row>\n      <ion-row>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n      </ion-row>\n\n      <ion-row>\n       \n      </ion-row>\n     \n      <ion-row>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('1')\">1</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('2')\">2</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('3')\">3</ion-button>\n        </ion-col>\n       \n      </ion-row>\n      <ion-row>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('4')\">4</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('5')\">5</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('6')\">6</ion-button>\n        </ion-col>\n      \n      </ion-row>\n      <ion-row>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('7')\">7</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('8')\">8</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('9')\">9</ion-button>\n        </ion-col>\n       \n      </ion-row>\n      <ion-row>\n       \n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('0')\">0</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"warning\" (click)=\"delete()\"><ion-icon name=\"backspace\"></ion-icon></ion-button>\n        </ion-col>\n      </ion-row>\n   \n      <ion-row>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n      </ion-row>\n      <ion-row>\n       \n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"warning\" (click)=\"open()\"><ion-icon name=\"finger-print\"></ion-icon></ion-button>\n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n\n  \n        \n      \n</ion-content>","\nimport { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\n\nimport { ModalController , NavParams} from '@ionic/angular';\nimport { AuthenticationService } from '../../services/Authentication.service';\n\n\n\n\n@Component({\n  selector: 'app-my-modalpin',\n  templateUrl: './my-modalpin.page.html',\n  styleUrls: ['./my-modalpin.page.scss'],\n})\nexport class MyModalpinPage implements OnInit {\n\n\n  title = 'AGM project';\n  passcode: any;\n  pageStatus: any;\n  codeone: any;\n  codetwo: any;\n  codethree: any;\n  codefour: any;\n  int: any;\n  newPincount: any;\n  message: any;\n  mypinseguro:any;\n  finalPin: any;\n  fingerPin: any;\n  tituloxx: any;\n  userinfo: any = [];\n\n  @ViewChild('search', {static: false})\n  public searchElementRef: ElementRef;\n\n\n  constructor( private modalController: ModalController, private authenticationService: AuthenticationService,\n    private navParams: NavParams\n  ) {\n\tthis.userinfo = this.authenticationService.getcopiauser();\n    this.passcode = '';\n\t  this.finalPin = '';\n\t  this.mypinseguro=this.userinfo[0].codpersonal\n  \tthis.message = true;\n  \tthis.pageStatus = \"Enter Pin\"\n  \tthis.int = 0;\n  \tthis.newPincount = 0;\n    this.fingerPin = false;\n\n  }\n\n\n ngOnInit() {\n\n\tthis.tituloxx= this.navParams.get('title');\n }\n\n  async closeModal() {\n    this.modalController.dismiss({data:'close'});\n  }\n\n  add(value) {\n\t\n\t\t\tif(this.passcode.length < 4) {\n\t        \tthis.passcode = this.passcode + value;\n\t\t\t\t\tif(this.int === 0){\n\t\t\t\t\t\tthis.codeone = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}else if(this.int == 1){\n\t\t\t\t\t\tthis.codetwo = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}else if(this.int == 2){\n\t\t\t\t\t\tthis.codethree = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}else if(this.int == 3){\n\t\t\t\t\t\tthis.codefour = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}\n\t\t\t        if(this.passcode.length == 4) {\n\t\t\t\t\t\tthis.finalPin = this.codeone+this.codetwo+this.codethree+this.codefour\n\t\t\t            \tif(\tthis.finalPin === this.mypinseguro){\n\t\t\t\t\t\t\t\tthis.modalController.dismiss({data:'exito'});\n\t\t\t            \t  \n\t\t\t            \t\n\t\t\t            \t}else{\n\t\t\t\t\t\t\t\tthis.authenticationService.presentAlert('Precaución', 'Pin Incorrecto' , ''); \n\t\t\t\t\t\t\t\tthis.finalPin=''\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.codeone = null;\n\t\t\t\t\t\t\t\tthis.codetwo= null;\n\t\t\t\t\t\t\t\tthis.codethree = null;\n\t\t\t\t\t\t\t\tthis.codefour = null;\n\t\t\t\t\t\t\t\tthis.passcode = '';\n\t\t\t\t\t\t\t\tthis.int = 0\n\t\t\t            \t}\n\t\t\t         \n\t\t\t        }\n\t    \t}\n        \n    }\n\n    delete() {\n    \tif(this.passcode.length > 0) {\n    \t\t    if(this.passcode.length == 1){\n\t\t\t\t\tthis.codeone = null\n\t\t\t\t\tthis.int--\n\t\t\t\t}else if(this.passcode.length == 2){\n\t\t\t\t\tthis.codetwo = null;\n\t\t\t\t\tthis.int--\n\t\t\t\t}else if(this.passcode.length == 3){\n\t\t\t\t\tthis.codethree = null;\n\t\t\t\t\tthis.int--\n\t\t\t\t}else if(this.passcode.length == 4){\n\t\t\t\t\tthis.codefour = null;\n\t\t\t\t\tthis.int--\n\t\t\t\t}\n            this.passcode = this.passcode.substr(0, this.passcode.length - 1);\n    \t}\n    }\n\n  \tgoTo(){\n  \t//\tthis.navCtrl.setRoot(WelcomePage).then(() => {\n\n\t\t//});\n  \t}\n    open(){\n\t     \n  \t}\n\n}\n","\n\n<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n  \n          <ion-buttons slot=\"end\">\n            <ion-button title=\"Parar escaner\" (click)=\"stopScan()\" color=\"danger\" *ngIf=\"scanActive\">\n            \n              <ion-icon slot=\"start\" name=\"stop-circle-outline\"></ion-icon>\n            </ion-button>\n            <ion-button title=\"Reset\" (click)=\"reset()\" color=\"warning\" *ngIf=\"scanResult\">\n             \n              <ion-icon slot=\"start\" name=\"refresh-circle-outline\"></ion-icon>\n            </ion-button>\n\n\n            <ion-button title=\"Iniciar escaner\" (click)=\"startScan()\">\n           \n              <ion-icon slot=\"icon-only\" name=\"qr-code-outline\"></ion-icon>\n        </ion-button>\n            <ion-button title=\"leer imagen qr de galeria\" (click)=\"captureImage()\">\n                 <ion-icon slot=\"icon-only\" name=\"image-outline\"></ion-icon>\n           </ion-button>\n                  <ion-button (click)=\"closeModal()\">\n                     <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n                  </ion-button>\n          </ion-buttons>\n          <ion-title>{{tituloxx}}</ion-title>\n         \n  </ion-toolbar>   \n\n\n\n</ion-header>\n\n<ion-content [fullscreen]=\"true\" class=\"ion-padding\">\n  <input #fileinput type=\"file\" accept=\"image/*;capture=camera\" hidden (change)=\"handleFile($event.target.files)\">\n \n  <!-- Trigger the file input -->\n  <form  [formGroup]=\"Form\" >\n \n  <ion-item class=\"input-item\">\n    <ion-label  position=\"floating\">Tipo pago<ion-text color=\"danger\">*</ion-text></ion-label>\n    <ion-select formControlName=\"tpago\">\n    <ion-select-option value=\"Efectivo\">Efectivo</ion-select-option>\n    \n    </ion-select>\n</ion-item>\n\n<div class=\"error-container\">\n<div class=\"error-message\" *ngIf=\"Form.get('tpago').hasError('required') && (Form.get('tpago').dirty || Form.get('tpago').touched)\">\n<ion-icon name=\"information-circle-outline\"></ion-icon>\n<span>Ingrese un tipo pago valido</span>\n</div>\n</div>\n\n</form>   \n<br>\n\n\n<h3 class=\"detail-title\">Monto a cobrar: <strong> {{monto | currency:moneda}}</strong></h3>\n\n\n \n  <!-- Shows our camera stream -->\n  <video #video [hidden]=\"!scanActive\" width=\"100%\"></video>\n \n  <!-- Used to render the camera stream images -->\n  <canvas #canvas hidden></canvas>\n \n  <!-- Stop our scanner preview if active -->\n\n \n  \n</ion-content>","\nimport { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\n\nimport {ToastController, ModalController , LoadingController ,  NavParams , Platform } from '@ionic/angular';\nimport { FormGroup, FormControl, Validators, FormGroupDirective } from '@angular/forms';\nimport { AuthenticationService } from '../../services/Authentication.service';\n\nimport jsQR from 'jsqr';\n\n\n@Component({\n  selector: 'app-my-modalscanpay2',\n  templateUrl: './my-modalscanpay2.page.html',\n  styleUrls: ['./my-modalscanpay2.page.scss'],\n})\nexport class MyModalscanpay2Page implements OnInit {\n  @ViewChild('video', { static: false }) video: ElementRef;\n  @ViewChild('canvas', { static: false }) canvas: ElementRef;\n  @ViewChild('fileinput', { static: false }) fileinput: ElementRef;\n  Form: FormGroup;\n  canvasElement: any;\n  videoElement: any;\n  canvasContext: any;\n  scanActive = false;\n  scanResult = null;\n  loading: HTMLIonLoadingElement = null;\n\n\n  title = 'AGM project';\n  latitude: number;\n  longitude: number;\n  zoom = 16 ;\n  address: string;\n  uubx: string;\ntipo2:any;\n  tipo:any;\n  tituloxx: any;\n  moneda: any;\n  monto: any = 0;\n  userinfo: any = [];\n  @ViewChild('search', {static: false})\n  public searchElementRef: ElementRef;\n\n\n  constructor( private modalController: ModalController,\n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,  private authenticationService: AuthenticationService,\n\n    private ngZone: NgZone,\n    private navParams: NavParams,\n    private plt: Platform\n  ) {\n    const isInStandaloneMode = () =>\n    'standalone' in window.navigator && window.navigator['standalone'];\n  if (this.plt.is('ios') && isInStandaloneMode()) {\n    console.log('I am a an iOS PWA!');\n    // E.g. hide the scan functionality!\n  }\n\n   }\n\n  dismissModal() {      this.modalController.dismiss({data:'close'});  }\n ngOnInit() {\n  this.userinfo = this.authenticationService.getcopiauser();\n  this.tituloxx = this.navParams.get('title');\n  this.moneda = this.navParams.get('moneda');\n  this.monto = (this.navParams.get('monto'));\n  this.tipo = (this.navParams.get('tipo'));\n  this.tipo2 = (this.navParams.get('tipo2'));\n\n  this.Form = new FormGroup({\n    'tpago': new FormControl('', Validators.required)\n });\n\n this.Form.controls['tpago'].setValue('Efectivo');\n\n  }\n\n  ngAfterViewInit() {\n    this.canvasElement = this.canvas.nativeElement;\n    this.canvasContext = this.canvasElement.getContext('2d');\n    this.videoElement = this.video.nativeElement;\n\n    this.startScan();\n  }\n\n  async showQrToast() {\n    const toast = await this.toastCtrl.create({\n      message: `Open ${this.scanResult}?`,\n      position: 'top',\n      buttons: [\n        {\n          text: 'Open',\n          handler: () => {\n            window.open(this.scanResult, '_system', 'location=yes');\n          }\n        }\n      ]\n    });\n    toast.present();\n  }\n\n  reset() {\n    this.scanResult = null;\n  }\n\n  stopScan() {\n    this.scanActive = false;\n  }\n\n\n  async startScan() {\n    // Not working on iOS standalone mode!\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: { facingMode: 'environment' }\n    });\n\n    this.videoElement.srcObject = stream;\n    // Required for Safari\n    this.videoElement.setAttribute('playsinline', true);\n\n    this.loading = await this.loadingCtrl.create({});\n    await this.loading.present();\n\n    this.videoElement.play();\n    requestAnimationFrame(this.scan.bind(this));\n  }\n\n  async scan() {\n    if (this.videoElement.readyState === this.videoElement.HAVE_ENOUGH_DATA) {\n      if (this.loading) {\n        await this.loading.dismiss();\n        this.loading = null;\n        this.scanActive = true;\n      }\n\n      this.canvasElement.height = this.videoElement.videoHeight;\n      this.canvasElement.width = this.videoElement.videoWidth;\n\n      this.canvasContext.drawImage(\n        this.videoElement,\n        0,\n        0,\n        this.canvasElement.width,\n        this.canvasElement.height\n      );\n      const imageData = this.canvasContext.getImageData(\n        0,\n        0,\n        this.canvasElement.width,\n        this.canvasElement.height\n      );\n      const code = jsQR(imageData.data, imageData.width, imageData.height, {\n        inversionAttempts: 'dontInvert'\n      });\n\n      if (code) {\n        this.scanActive = false;\n        this.scanResult = this.authenticationService.decryptvalue(code.data);\n        const arr = this.scanResult.split('°');\n\n        this.authenticationService.getReg(arr[6], 'compratokens', 0).then((data) => {\n          let datat: any = [];\n          datat = data;\n          let tranat =this.authenticationService.decryptvalue(datat[0].trama) + '°' + datat[0].tipo+ '°' + datat[0]._id+ '°' + datat[0].tipo\n            if (tranat === this.scanResult) {\n    \n    \n      //      if (this.monto === arr[4]) {\n              const   options: any\t     = {\n                idempresa:arr[0],\n               idsuscriptor : {id: arr[1], nombre: arr[2]} ,\n               tokencompra: datat[0]._id,\n               descripcion:'Compra de saldo',\n               tipocompra:'saldo',\n              nombre : arr[2],\n               monto : this.monto,\n               monto2 : this.monto,\n               url: '',\n               tpago: this.Form.controls['tpago'].value,\n               estado : 'Facturado',\n               bitacora: {idempresa: this.userinfo[0].idempresa._id, idafiliado: '', email: this.userinfo[0].email,\n                permiso: 'Crea', accion: 'Compra de saldo'},\n                idempresa0: this.userinfo[0].idempresa._id,\n               idsuscriptor2 : {id: this.userinfo[0]._id, nombre: this.userinfo[0].nombre} ,\n              };\n    \n              if (options) {\n                this.authenticationService.createReg('', options, 'comprasaldos').then((result) => {\n    \n                \n                  const   options: any\t     = {\n                    estado: 20,\n                    cobroservicio:' ' + arr[2] +\n                    ', Se ha acreditado  un monto de ' + this.moneda + ' ' + this.monto,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'acepta token ' + arr[6]}\n                };\n   \n                if (options) {\n                  this.authenticationService.createReg(arr[6], options, 'compratokens').then((result) => {\n                    this.modalController.dismiss({data: 'Se ha realizado una venta a: ' + arr[2] +\n                    '<br> Por un monto de ' + this.moneda + ' ' + this.monto})\n   \n                }, (err) => {\n                  this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                });\n   \n                }\n    \n              }, (err) => {\n                this.authenticationService.presentAlert(err.error , 'Precaución', '');\n              });\n            }\n    \n    /*        } else {\n              this.authenticationService.presentAlert('El Monto no coincide con lo que el cliente programo.'\n              + '<br> El cliente quiere pagar: ' + this.moneda + ' ' + arr[4] + '<br> Se quiere cobrar: '\n              + this.moneda  + ' ' +  this.monto, 'Precaución', '');\n    \n            }\n    */\n    \n    \n            } else {\n              this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n            }\n\n            \n        }, (err) => {\n          this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n        });\n    \n    \n\n\n\n      } else {\n        if (this.scanActive) {\n          requestAnimationFrame(this.scan.bind(this));\n        }\n      }\n    } else {\n      requestAnimationFrame(this.scan.bind(this));\n    }\n  }\n\n  captureImage() {\n    this.fileinput.nativeElement.click();\n  }\n\n  handleFile(files: FileList) {\n    const file = files.item(0);\n\n    const img = new Image();\n    img.onload = () => {\n      this.canvasContext.drawImage(img, 0, 0, this.canvasElement.width, this.canvasElement.height);\n      const imageData = this.canvasContext.getImageData(\n        0,\n        0,\n        this.canvasElement.width,\n        this.canvasElement.height\n      );\n      const code = jsQR(imageData.data, imageData.width, imageData.height, {\n        inversionAttempts: 'dontInvert'\n      });\n\n      if (code) {\n\n\n        this.scanResult =this.authenticationService.decryptvalue( code.data);\n        const arr = this.scanResult.split('°');\n\n        this.authenticationService.getReg(arr[6], 'compratokens', 0).then((data) => {\n          let datat: any = [];\n          datat = data;\n          let tranat = this.authenticationService.decryptvalue(datat[0].trama) + '°' + datat[0].tipo+ '°' + datat[0]._id+ '°' + datat[0].tipo\n   \n    \n            if (tranat === this.scanResult) {\n    \n    if(this.tipo==='trasferencia')\n    {\n      if (this.monto === arr[4]) {\n      } else {\n        this.authenticationService.presentAlert('El Monto no coincide con lo que el cliente programo.'\n        + '<br> El cliente quiere pagar: ' + this.moneda + ' ' + arr[4] + '<br> Se quiere cobrar: '\n        + this.moneda  + ' ' +  this.monto, 'Precaución', '');\n        return;\n\n      }\n\n    }\n     \n              const   options: any\t     = {\n                idempresa:arr[0],\n               idsuscriptor : {id: arr[1], nombre: arr[2]} ,\n               tokencompra: datat[0]._id,\n               descripcion:'Compra de saldo',\n               tipocompra:'saldo',\n              nombre : arr[2],\n               monto : this.monto,\n               monto2 : this.monto,\n               url: '',\n               tpago: this.Form.controls['tpago'].value,\n               estado : 'Facturado',\n               bitacora: {idempresa: this.userinfo[0].idempresa._id, idafiliado: '', email: this.userinfo[0].email,\n                permiso: 'Crea', accion: 'Compra de saldo'},\n                idempresa0: this.userinfo[0].idempresa._id,\n               idsuscriptor2 : {id: this.userinfo[0]._id, nombre: this.userinfo[0].nombre} ,\n              };\n    \n              if (options) {\n                this.authenticationService.createReg('', options, 'comprasaldos').then((result) => {\n    \n                \n                  const   options: any\t     = {\n                    estado: 20,\n                    cobroservicio:' ' + arr[2] +\n                    ', Se ha acreditado  un monto de ' + this.moneda + ' ' + this.monto,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'acepta token ' + arr[6]}\n                };\n   \n                if (options) {\n                  this.authenticationService.createReg(arr[6], options, 'compratokens').then((result) => {\n                    this.modalController.dismiss({data: 'Se ha realizado una '+  this.tipo2 +' a: ' + arr[2] +\n                    '<br> Por un monto de ' + this.moneda + ' ' + this.monto})\n   \n                }, (err) => {\n                  this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                });\n   \n                }\n    \n              }, (err) => {\n                this.authenticationService.presentAlert(err.error , 'Precaución', '');\n              });\n            }\n    \n    /*        } else {\n              this.authenticationService.presentAlert('El Monto no coincide con lo que el cliente programo.'\n              + '<br> El cliente quiere pagar: ' + this.moneda + ' ' + arr[4] + '<br> Se quiere cobrar: '\n              + this.moneda  + ' ' +  this.monto, 'Precaución', '');\n    \n            }\n    */\n    \n    \n            } else {\n              this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n            }\n        }, (err) => {\n          this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n        });\n    \n\n\n\n      }\n    };\n    img.src = URL.createObjectURL(file);\n  }\n\n\n  async closeModal() {\n    this.modalController.dismiss({data:'close'});\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { MyModalpinPage } from './my-modalpin.page';\n\n\n\nimport { environment } from '../../../../environments/environment';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n  \n  ],\n  declarations: [MyModalpinPage],\n  entryComponents: [\n    MyModalpinPage\n  ]\n \n})\nexport class MyModalpinPageModule {}\n"]}