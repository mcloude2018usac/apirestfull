{"version":3,"sources":["webpack:///src/app/DESARROLLO/modals/my-modalscanpay2/my-modalscanpay2.module.ts","webpack:///src/app/DESARROLLO/modals/my-modalpin/my-modalpin.page.html","webpack:///src/app/DESARROLLO/modals/my-modalpin/my-modalpin.page.ts","webpack:///src/app/DESARROLLO/modals/my-modalscanpay2/my-modalscanpay2.page.html","webpack:///src/app/DESARROLLO/modals/my-modalscanpay2/my-modalscanpay2.page.ts","webpack:///src/app/DESARROLLO/modals/my-modalpin/my-modalpin.module.ts"],"names":["MyModalscanpay2PageModule","MyModalpinPage","modalController","authenticationService","navParams","title","userinfo","this","getcopiauser","passcode","finalPin","mypinseguro","codpersonal","message","pageStatus","int","newPincount","fingerPin","tituloxx","get","dismiss","data","value","length","codeone","codetwo","codethree","codefour","presentAlert","substr","MyModalscanpay2Page","loadingCtrl","toastCtrl","ngZone","plt","scanActive","scanResult","loading","zoom","monto","is","window","navigator","console","log","moneda","tipo","tipo2","Form","required","controls","setValue","canvasElement","canvas","nativeElement","canvasContext","getContext","videoElement","video","startScan","create","position","buttons","text","handler","open","present","stream","mediaDevices","getUserMedia","facingMode","srcObject","setAttribute","play","requestAnimationFrame","scan","bind","readyState","HAVE_ENOUGH_DATA","height","videoHeight","width","videoWidth","drawImage","imageData","getImageData","code","inversionAttempts","decryptvalue","arr","split","getReg","then","datat","trama","_id","options","idempresa","idsuscriptor","id","nombre","tokencompra","descripcion","tipocompra","monto2","url","tpago","estado","bitacora","idafiliado","email","permiso","accion","idempresa0","idsuscriptor2","createReg","result","cobroservicio","err","error","fileinput","click","files","file","item","img","Image","onload","src","URL","createObjectURL","MyModalpinPageModule"],"mappings":"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","file":"x","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { MyModalscanpay2Page } from './my-modalscanpay2.page';\n\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule, ReactiveFormsModule,\n    IonicModule,\n   \n  ],\n  declarations: [MyModalscanpay2Page],\n  entryComponents: [\n    MyModalscanpay2Page\n  ],\n})\nexport class MyModalscanpay2PageModule {}\n","\n\n<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n  \n          <ion-buttons slot=\"end\">\n                  <ion-button (click)=\"closeModal()\">\n                     <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n                  </ion-button>\n          </ion-buttons>\n          <ion-title>{{tituloxx}}</ion-title>\n         \n  </ion-toolbar>   \n\n\n\n</ion-header>\n<!-- <ion-content padding class=\"center-vertical\">-->\n<ion-content  [fullscreen]=\"true\" class=\"ion-padding\" >\n \n  <div class=\"calc-main\">\n  \n    <ion-grid>\n      <ion-row>\n\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\" >\n            <p *ngIf=\"codeone || codeone == 0\">*</p>\n            </ion-button>\n        \n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\"  >\n            <p *ngIf=\"codetwo || codetwo == 0\">*</p>\n            </ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\" >\n            <p *ngIf=\"codethree || codethree == 0\">*</p>\n          </ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"light\" >\n            <p *ngIf=\"codefour || codefour == 0\" >*</p>\n          </ion-button>\n        </ion-col>\n\n\n      </ion-row>\n      <ion-row>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n      </ion-row>\n\n      <ion-row>\n       \n      </ion-row>\n     \n      <ion-row>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('1')\">1</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('2')\">2</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('3')\">3</ion-button>\n        </ion-col>\n       \n      </ion-row>\n      <ion-row>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('4')\">4</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('5')\">5</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('6')\">6</ion-button>\n        </ion-col>\n      \n      </ion-row>\n      <ion-row>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('7')\">7</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('8')\">8</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('9')\">9</ion-button>\n        </ion-col>\n       \n      </ion-row>\n      <ion-row>\n       \n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"dark\" (click)=\"add('0')\">0</ion-button>\n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"warning\" (click)=\"delete()\"><ion-icon name=\"backspace\"></ion-icon></ion-button>\n        </ion-col>\n      </ion-row>\n   \n      <ion-row>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n      </ion-row>\n      <ion-row>\n       \n        <ion-col>\n         \n        </ion-col>\n        <ion-col>\n          <ion-button shape=\"round\" color=\"warning\" (click)=\"open()\"><ion-icon name=\"finger-print\"></ion-icon></ion-button>\n        </ion-col>\n        <ion-col>\n         \n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </div>\n\n  \n        \n      \n</ion-content>","\nimport { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\n\nimport { ModalController , NavParams} from '@ionic/angular';\nimport { AuthenticationService } from '../../services/Authentication.service';\n\n\n\n\n@Component({\n  selector: 'app-my-modalpin',\n  templateUrl: './my-modalpin.page.html',\n  styleUrls: ['./my-modalpin.page.scss'],\n})\nexport class MyModalpinPage implements OnInit {\n\n\n  title = 'AGM project';\n  passcode: any;\n  pageStatus: any;\n  codeone: any;\n  codetwo: any;\n  codethree: any;\n  codefour: any;\n  int: any;\n  newPincount: any;\n  message: any;\n  mypinseguro:any;\n  finalPin: any;\n  fingerPin: any;\n  tituloxx: any;\n  userinfo: any = [];\n\n  @ViewChild('search', {static: false})\n  public searchElementRef: ElementRef;\n\n\n  constructor( private modalController: ModalController, private authenticationService: AuthenticationService,\n    private navParams: NavParams\n  ) {\n\tthis.userinfo = this.authenticationService.getcopiauser();\n    this.passcode = '';\n\t  this.finalPin = '';\n\t  this.mypinseguro=this.userinfo[0].codpersonal\n  \tthis.message = true;\n  \tthis.pageStatus = \"Enter Pin\"\n  \tthis.int = 0;\n  \tthis.newPincount = 0;\n    this.fingerPin = false;\n\n  }\n\n\n ngOnInit() {\n\n\tthis.tituloxx= this.navParams.get('title');\n }\n\n  async closeModal() {\n    this.modalController.dismiss({data:'close'});\n  }\n\n  add(value) {\n\t\n\t\t\tif(this.passcode.length < 4) {\n\t        \tthis.passcode = this.passcode + value;\n\t\t\t\t\tif(this.int === 0){\n\t\t\t\t\t\tthis.codeone = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}else if(this.int == 1){\n\t\t\t\t\t\tthis.codetwo = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}else if(this.int == 2){\n\t\t\t\t\t\tthis.codethree = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}else if(this.int == 3){\n\t\t\t\t\t\tthis.codefour = value;\n\t\t\t\t\t\tthis.int++\n\t\t\t\t\t}\n\t\t\t        if(this.passcode.length == 4) {\n\t\t\t\t\t\tthis.finalPin = this.codeone+this.codetwo+this.codethree+this.codefour\n\t\t\t            \tif(\tthis.finalPin === this.mypinseguro){\n\t\t\t\t\t\t\t\tthis.modalController.dismiss({data:'exito'});\n\t\t\t            \t  \n\t\t\t            \t\n\t\t\t            \t}else{\n\t\t\t\t\t\t\t\tthis.authenticationService.presentAlert('Precaución', 'Pin Incorrecto' , ''); \n\t\t\t\t\t\t\t\tthis.finalPin=''\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.codeone = null;\n\t\t\t\t\t\t\t\tthis.codetwo= null;\n\t\t\t\t\t\t\t\tthis.codethree = null;\n\t\t\t\t\t\t\t\tthis.codefour = null;\n\t\t\t\t\t\t\t\tthis.passcode = '';\n\t\t\t\t\t\t\t\tthis.int = 0\n\t\t\t            \t}\n\t\t\t         \n\t\t\t        }\n\t    \t}\n        \n    }\n\n    delete() {\n    \tif(this.passcode.length > 0) {\n    \t\t    if(this.passcode.length == 1){\n\t\t\t\t\tthis.codeone = null\n\t\t\t\t\tthis.int--\n\t\t\t\t}else if(this.passcode.length == 2){\n\t\t\t\t\tthis.codetwo = null;\n\t\t\t\t\tthis.int--\n\t\t\t\t}else if(this.passcode.length == 3){\n\t\t\t\t\tthis.codethree = null;\n\t\t\t\t\tthis.int--\n\t\t\t\t}else if(this.passcode.length == 4){\n\t\t\t\t\tthis.codefour = null;\n\t\t\t\t\tthis.int--\n\t\t\t\t}\n            this.passcode = this.passcode.substr(0, this.passcode.length - 1);\n    \t}\n    }\n\n  \tgoTo(){\n  \t//\tthis.navCtrl.setRoot(WelcomePage).then(() => {\n\n\t\t//});\n  \t}\n    open(){\n\t     \n  \t}\n\n}\n","\n\n<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n  \n          <ion-buttons slot=\"end\">\n            <ion-button title=\"Parar escaner\" (click)=\"stopScan()\" color=\"danger\" *ngIf=\"scanActive\">\n            \n              <ion-icon slot=\"start\" name=\"stop-circle-outline\"></ion-icon>\n            </ion-button>\n            <ion-button title=\"Reset\" (click)=\"reset()\" color=\"warning\" *ngIf=\"scanResult\">\n             \n              <ion-icon slot=\"start\" name=\"refresh-circle-outline\"></ion-icon>\n            </ion-button>\n\n\n            <ion-button title=\"Iniciar escaner\" (click)=\"startScan()\">\n           \n              <ion-icon slot=\"icon-only\" name=\"qr-code-outline\"></ion-icon>\n        </ion-button>\n            <ion-button title=\"leer imagen qr de galeria\" (click)=\"captureImage()\">\n                 <ion-icon slot=\"icon-only\" name=\"image-outline\"></ion-icon>\n           </ion-button>\n                  <ion-button (click)=\"closeModal()\">\n                     <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n                  </ion-button>\n          </ion-buttons>\n          <ion-title>{{tituloxx}}</ion-title>\n         \n  </ion-toolbar>   \n\n\n\n</ion-header>\n\n<ion-content [fullscreen]=\"true\" class=\"ion-padding\">\n  <input #fileinput type=\"file\" accept=\"image/*;capture=camera\" hidden (change)=\"handleFile($event.target.files)\">\n \n  <!-- Trigger the file input -->\n  <form  [formGroup]=\"Form\" >\n \n  <ion-item class=\"input-item\">\n    <ion-label  position=\"floating\">Tipo pago<ion-text color=\"danger\">*</ion-text></ion-label>\n    <ion-select formControlName=\"tpago\">\n    <ion-select-option value=\"Efectivo\">Efectivo</ion-select-option>\n    \n    </ion-select>\n</ion-item>\n\n<div class=\"error-container\">\n<div class=\"error-message\" *ngIf=\"Form.get('tpago').hasError('required') && (Form.get('tpago').dirty || Form.get('tpago').touched)\">\n<ion-icon name=\"information-circle-outline\"></ion-icon>\n<span>Ingrese un tipo pago valido</span>\n</div>\n</div>\n\n</form>   \n<br>\n\n\n<h3 class=\"detail-title\">Monto a cobrar: <strong> {{monto | currency:moneda}}</strong></h3>\n\n\n \n  <!-- Shows our camera stream -->\n  <video #video [hidden]=\"!scanActive\" width=\"100%\"></video>\n \n  <!-- Used to render the camera stream images -->\n  <canvas #canvas hidden></canvas>\n \n  <!-- Stop our scanner preview if active -->\n\n \n  \n</ion-content>","\nimport { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\n\nimport {ToastController, ModalController , LoadingController ,  NavParams , Platform } from '@ionic/angular';\nimport { FormGroup, FormControl, Validators, FormGroupDirective } from '@angular/forms';\nimport { AuthenticationService } from '../../services/Authentication.service';\n\nimport jsQR from 'jsqr';\n\n\n@Component({\n  selector: 'app-my-modalscanpay2',\n  templateUrl: './my-modalscanpay2.page.html',\n  styleUrls: ['./my-modalscanpay2.page.scss'],\n})\nexport class MyModalscanpay2Page implements OnInit {\n  @ViewChild('video', { static: false }) video: ElementRef;\n  @ViewChild('canvas', { static: false }) canvas: ElementRef;\n  @ViewChild('fileinput', { static: false }) fileinput: ElementRef;\n  Form: FormGroup;\n  canvasElement: any;\n  videoElement: any;\n  canvasContext: any;\n  scanActive = false;\n  scanResult = null;\n  loading: HTMLIonLoadingElement = null;\n\n\n  title = 'AGM project';\n  latitude: number;\n  longitude: number;\n  zoom = 16 ;\n  address: string;\n  uubx: string;\ntipo2:any;\n  tipo:any;\n  tituloxx: any;\n  moneda: any;\n  monto: any = 0;\n  userinfo: any = [];\n  @ViewChild('search', {static: false})\n  public searchElementRef: ElementRef;\n\n\n  constructor( private modalController: ModalController,\n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,  private authenticationService: AuthenticationService,\n\n    private ngZone: NgZone,\n    private navParams: NavParams,\n    private plt: Platform\n  ) {\n    const isInStandaloneMode = () =>\n    'standalone' in window.navigator && window.navigator['standalone'];\n  if (this.plt.is('ios') && isInStandaloneMode()) {\n    console.log('I am a an iOS PWA!');\n    // E.g. hide the scan functionality!\n  }\n\n   }\n\n  dismissModal() {      this.modalController.dismiss({data:'close'});  }\n ngOnInit() {\n  this.userinfo = this.authenticationService.getcopiauser();\n  this.tituloxx = this.navParams.get('title');\n  this.moneda = this.navParams.get('moneda');\n  this.monto = (this.navParams.get('monto'));\n  this.tipo = (this.navParams.get('tipo'));\n  this.tipo2 = (this.navParams.get('tipo2'));\n\n  this.Form = new FormGroup({\n    'tpago': new FormControl('', Validators.required)\n });\n\n this.Form.controls['tpago'].setValue('Efectivo');\n\n  }\n\n  ngAfterViewInit() {\n    this.canvasElement = this.canvas.nativeElement;\n    this.canvasContext = this.canvasElement.getContext('2d');\n    this.videoElement = this.video.nativeElement;\n\n    this.startScan();\n  }\n\n  async showQrToast() {\n    const toast = await this.toastCtrl.create({\n      message: `Open ${this.scanResult}?`,\n      position: 'top',\n      buttons: [\n        {\n          text: 'Open',\n          handler: () => {\n            window.open(this.scanResult, '_system', 'location=yes');\n          }\n        }\n      ]\n    });\n    toast.present();\n  }\n\n  reset() {\n    this.scanResult = null;\n  }\n\n  stopScan() {\n    this.scanActive = false;\n  }\n\n\n  async startScan() {\n    // Not working on iOS standalone mode!\n    const stream = await navigator.mediaDevices.getUserMedia({\n      video: { facingMode: 'environment' }\n    });\n\n    this.videoElement.srcObject = stream;\n    // Required for Safari\n    this.videoElement.setAttribute('playsinline', true);\n\n    this.loading = await this.loadingCtrl.create({});\n    await this.loading.present();\n\n    this.videoElement.play();\n    requestAnimationFrame(this.scan.bind(this));\n  }\n\n  async scan() {\n    if (this.videoElement.readyState === this.videoElement.HAVE_ENOUGH_DATA) {\n      if (this.loading) {\n        await this.loading.dismiss();\n        this.loading = null;\n        this.scanActive = true;\n      }\n\n      this.canvasElement.height = this.videoElement.videoHeight;\n      this.canvasElement.width = this.videoElement.videoWidth;\n\n      this.canvasContext.drawImage(\n        this.videoElement,\n        0,\n        0,\n        this.canvasElement.width,\n        this.canvasElement.height\n      );\n      const imageData = this.canvasContext.getImageData(\n        0,\n        0,\n        this.canvasElement.width,\n        this.canvasElement.height\n      );\n      const code = jsQR(imageData.data, imageData.width, imageData.height, {\n        inversionAttempts: 'dontInvert'\n      });\n\n      if (code) {\n        this.scanActive = false;\n        this.scanResult = this.authenticationService.decryptvalue(code.data);\n        const arr = this.scanResult.split('°');\n\n        this.authenticationService.getReg(arr[6], 'compratokens', 0).then((data) => {\n          let datat: any = [];\n          datat = data;\n          let tranat =this.authenticationService.decryptvalue(datat[0].trama) + '°' + datat[0].tipo+ '°' + datat[0]._id+ '°' + datat[0].tipo\n            if (tranat === this.scanResult) {\n    \n    \n      //      if (this.monto === arr[4]) {\n              const   options: any\t     = {\n                idempresa:arr[0],\n               idsuscriptor : {id: arr[1], nombre: arr[2]} ,\n               tokencompra: datat[0]._id,\n               descripcion:'Compra de saldo',\n               tipocompra:'saldo',\n              nombre : arr[2],\n               monto : this.monto,\n               monto2 : this.monto,\n               url: '',\n               tpago: this.Form.controls['tpago'].value,\n               estado : 'Facturado',\n               bitacora: {idempresa: this.userinfo[0].idempresa._id, idafiliado: '', email: this.userinfo[0].email,\n                permiso: 'Crea', accion: 'Compra de saldo'},\n                idempresa0: this.userinfo[0].idempresa._id,\n               idsuscriptor2 : {id: this.userinfo[0]._id, nombre: this.userinfo[0].nombre} ,\n              };\n    \n              if (options) {\n                this.authenticationService.createReg('', options, 'comprasaldos').then((result) => {\n    \n                \n                  const   options: any\t     = {\n                    estado: 20,\n                    cobroservicio:' ' + arr[2] +\n                    ', Se ha acreditado  un monto de ' + this.moneda + ' ' + this.monto,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'acepta token ' + arr[6]}\n                };\n   \n                if (options) {\n                  this.authenticationService.createReg(arr[6], options, 'compratokens').then((result) => {\n                    this.modalController.dismiss({data: 'Se ha realizado una venta a: ' + arr[2] +\n                    '<br> Por un monto de ' + this.moneda + ' ' + this.monto})\n   \n                }, (err) => {\n                  this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                });\n   \n                }\n    \n              }, (err) => {\n                this.authenticationService.presentAlert(err.error , 'Precaución', '');\n              });\n            }\n    \n    /*        } else {\n              this.authenticationService.presentAlert('El Monto no coincide con lo que el cliente programo.'\n              + '<br> El cliente quiere pagar: ' + this.moneda + ' ' + arr[4] + '<br> Se quiere cobrar: '\n              + this.moneda  + ' ' +  this.monto, 'Precaución', '');\n    \n            }\n    */\n    \n    \n            } else {\n              this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n            }\n\n            \n        }, (err) => {\n          this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n        });\n    \n    \n\n\n\n      } else {\n        if (this.scanActive) {\n          requestAnimationFrame(this.scan.bind(this));\n        }\n      }\n    } else {\n      requestAnimationFrame(this.scan.bind(this));\n    }\n  }\n\n  captureImage() {\n    this.fileinput.nativeElement.click();\n  }\n\n  handleFile(files: FileList) {\n    const file = files.item(0);\n\n    const img = new Image();\n    img.onload = () => {\n      this.canvasContext.drawImage(img, 0, 0, this.canvasElement.width, this.canvasElement.height);\n      const imageData = this.canvasContext.getImageData(\n        0,\n        0,\n        this.canvasElement.width,\n        this.canvasElement.height\n      );\n      const code = jsQR(imageData.data, imageData.width, imageData.height, {\n        inversionAttempts: 'dontInvert'\n      });\n\n      if (code) {\n\n\n        this.scanResult =this.authenticationService.decryptvalue( code.data);\n        const arr = this.scanResult.split('°');\n\n        this.authenticationService.getReg(arr[6], 'compratokens', 0).then((data) => {\n          let datat: any = [];\n          datat = data;\n          let tranat = this.authenticationService.decryptvalue(datat[0].trama) + '°' + datat[0].tipo+ '°' + datat[0]._id+ '°' + datat[0].tipo\n   \n    \n            if (tranat === this.scanResult) {\n    \n    if(this.tipo==='trasferencia')\n    {\n      if (this.monto === arr[4]) {\n      } else {\n        this.authenticationService.presentAlert('El Monto no coincide con lo que el cliente programo.'\n        + '<br> El cliente quiere pagar: ' + this.moneda + ' ' + arr[4] + '<br> Se quiere cobrar: '\n        + this.moneda  + ' ' +  this.monto, 'Precaución', '');\n        return;\n\n      }\n\n    }\n     \n              const   options: any\t     = {\n                idempresa:arr[0],\n               idsuscriptor : {id: arr[1], nombre: arr[2]} ,\n               tokencompra: datat[0]._id,\n               descripcion:'Compra de saldo',\n               tipocompra:'saldo',\n              nombre : arr[2],\n               monto : this.monto,\n               monto2 : this.monto,\n               url: '',\n               tpago: this.Form.controls['tpago'].value,\n               estado : 'Facturado',\n               bitacora: {idempresa: this.userinfo[0].idempresa._id, idafiliado: '', email: this.userinfo[0].email,\n                permiso: 'Crea', accion: 'Compra de saldo'},\n                idempresa0: this.userinfo[0].idempresa._id,\n               idsuscriptor2 : {id: this.userinfo[0]._id, nombre: this.userinfo[0].nombre} ,\n              };\n    \n              if (options) {\n                this.authenticationService.createReg('', options, 'comprasaldos').then((result) => {\n    \n                \n                  const   options: any\t     = {\n                    estado: 20,\n                    cobroservicio:' ' + arr[2] +\n                    ', Se ha acreditado  un monto de ' + this.moneda + ' ' + this.monto,\n                    bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                    email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'acepta token ' + arr[6]}\n                };\n   \n                if (options) {\n                  this.authenticationService.createReg(arr[6], options, 'compratokens').then((result) => {\n                    this.modalController.dismiss({data: 'Se ha realizado una '+  this.tipo2 +' a: ' + arr[2] +\n                    '<br> Por un monto de ' + this.moneda + ' ' + this.monto})\n   \n                }, (err) => {\n                  this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n                });\n   \n                }\n    \n              }, (err) => {\n                this.authenticationService.presentAlert(err.error , 'Precaución', '');\n              });\n            }\n    \n    /*        } else {\n              this.authenticationService.presentAlert('El Monto no coincide con lo que el cliente programo.'\n              + '<br> El cliente quiere pagar: ' + this.moneda + ' ' + arr[4] + '<br> Se quiere cobrar: '\n              + this.moneda  + ' ' +  this.monto, 'Precaución', '');\n    \n            }\n    */\n    \n    \n            } else {\n              this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n            }\n        }, (err) => {\n          this.authenticationService.presentAlert('Transacción insegura', 'Precaución', '');\n        });\n    \n\n\n\n      }\n    };\n    img.src = URL.createObjectURL(file);\n  }\n\n\n  async closeModal() {\n    this.modalController.dismiss({data:'close'});\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { MyModalpinPage } from './my-modalpin.page';\n\n\n\nimport { environment } from '../../../../environments/environment';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n  \n  ],\n  declarations: [MyModalpinPage],\n  entryComponents: [\n    MyModalpinPage\n  ]\n \n})\nexport class MyModalpinPageModule {}\n"]}