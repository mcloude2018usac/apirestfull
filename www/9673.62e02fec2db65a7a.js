"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9673],{99673:(b,p,a)=>{a.r(p),a.d(p,{categoriaformularioListPageModule:()=>R});var o=a(23349),h=a(55787),m=a(69808),_=a(33678),c=a(51062),g=a(93075),d=a(36351),u=a(70655),v=a(68554),x=a(4707),t=a(5e3),C=a(26806);function P(n,s){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.HOy("",t.lcZ(2,4,"NOREGISTROSM")," ",e.itemsList.length," ",t.lcZ(3,6,"NOREGISTROSM2")," ",t.lcZ(4,8,"NOREGISTROSM33"),"")}}function M(n,s){if(1&n&&(t.TgZ(0,"ion-label"),t._uU(1),t.ALo(2,"translate"),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.HOy("",t.lcZ(2,4,"NOREGISTROSM")," ",e.itemsList.length," ",t.lcZ(3,6,"NOREGISTROSM2"),"s ",t.lcZ(4,8,"NOREGISTROSM33"),"s")}}function O(n,s){1&n&&(t.TgZ(0,"ion-item",28),t.TgZ(1,"ion-label",17),t._UZ(2,"skeleton-element"),t._UZ(3,"skeleton-element"),t._UZ(4,"skeleton-element",29),t.qZA(),t.qZA())}const y=function(){return[0,1,2,3,4,5,6]};function Z(n,s){1&n&&(t.TgZ(0,"ion-list"),t.YNc(1,O,5,0,"ion-item",27),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,y)))}function T(n,s){1&n&&t._UZ(0,"div",37)}function S(n,s){1&n&&t._UZ(0,"div",38)}function L(n,s){1&n&&t._UZ(0,"div",39)}function A(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(2).updateRecord(l)}),t.TgZ(1,"div",33),t._uU(2),t.qZA(),t._UZ(3,"br"),t.YNc(4,T,1,0,"div",34),t.YNc(5,S,1,0,"div",35),t.YNc(6,L,1,0,"div",36),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.Q6J("ngIf","formulario"===i.currentSegment2),t.xp6(1),t.Q6J("ngIf","proceso"===i.currentSegment2),t.xp6(1),t.Q6J("ngIf","reportes"===i.currentSegment2)}}function k(n,s){if(1&n&&(t.TgZ(0,"div",30),t.YNc(1,A,7,4,"div",31),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemsList)("ngForTrackBy",e.trackItems)}}function w(n,s){1&n&&(t.TgZ(0,"h3",40),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NODATOS")," "))}let I=(()=>{class n{constructor(e,i,r,l,f,N){this.routerOutlet=e,this.router=i,this.authenticationService=r,this.alertController=l,this.translateService=f,this.modalController=N,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.userinfo=[],this.tinicio="formulario",this.colort=["primary","secondary","tertiary","success","warning","danger","lightest","light","medium","dark","primary"],this.currentSegment2="formulario",this.viewType="grid",this.tituloxx="",this.efecto=0,this.seguro="",this.msg="",this.currentSegment="Todos",this.searchSubject=new x.t(1),this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}filterContacts2(e){this.currentSegment2=e.detail.value,this.pideregistros(this.currentSegment,this.currentSegment2)}ngOnInit(){this.router.getCurrentNavigation().extras.state?(this.variables=this.router.getCurrentNavigation().extras.state.variables,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.currentSegment2="formulario",this.tituloxx=this.variables?this.variables.nombre:this.authenticationService.datraduccion("migestiones")):(this.variables={idrol:"5f503beeeda4710798a79b8a",nivel:".",nombre:this.authenticationService.datraduccion("migestiones"),pactualizacion:!0,pconsulta:!0,pcreacion:!0,peliminacion:!0,pfiltro:!0,pingreso:!0,potros1:"",preporte:!0},this.idllave="",this.tituloxx=this.variables.nombre),this.userinfo=this.authenticationService.getcopiauser(),this.currentSegment="todos",this.searchQuery="",this.translateService.get("SEGUROM").subscribe(e=>{this.seguro=e}),this.translateService.get("MSGM").subscribe(e=>{this.msg=e}),this.rangeForm=new g.cw({dual:new g.NI({lower:1,upper:100})}),this.pideregistros(this.currentSegment,this.currentSegment2)}filterContacts(e){this.currentSegment=e.detail.value,this.pideregistros(this.currentSegment,this.currentSegment2)}pideregistros0(){this.pideregistros(this.currentSegment,this.currentSegment2)}pideregistros(e,i){if("inicio"!==e){this.itemsList=[],this.efecto=0;let r="";r="Administrador"===this.userinfo[0].role||"admin"===this.userinfo[0].role.substring(0,5)?this.userinfo[0].idempresa._id+"/categoriausrmoviladmin/"+this.userinfo[0]._id+"/"+i:this.userinfo[0].idempresa._id+"/categoriausrmovil/"+this.userinfo[0]._id+"/"+i,this.authenticationService.getReg(r,"catusuarios",0).then(l=>{this.efecto=1,this.items=l,this.itemsList=this.items},l=>{this.authenticationService.presentAlert(l.error,this.msg,"")})}}trackItems(e,i){return i.id}searchList(){this.searchSubject.next({lower:this.rangeForm.controls.dual.value.lower,upper:this.rangeForm.controls.dual.value.upper,query:this.searchQuery}),this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(e,i){return e.filter(r=>r.nombre.toLowerCase().includes(i.toLowerCase()))}otrasop(e){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.authenticationService.datraduccion("sel_opcion"),inputs:[{name:"Productos",type:"radio",label:"Productos",checked:!0,value:"/ProductoListPage\xb0Productos ->"+e.nombre}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:r=>{}},{text:"Ok",handler:r=>{const l=r.split("\xb0");this.router.navigate([l[0]],{state:{variables:this.variables,user:null,idllave:e._id,title:l[1]}})}}]})).present()})}dacolor(e){return this.colort[e]}updateRecord(e){return(0,u.mG)(this,void 0,void 0,function*(){let i="";if("paginas"===e.tipo){i="proceso"===this.currentSegment2?"Mis gestiones":e.nombre;const r={state:{variables:this.variables,user:null,idllave:e._id,tipo:this.currentSegment2,idcategoria:e.nombre,title:this.authenticationService.datraduccion("mis")+" "+this.authenticationService.datraduccion(this.currentSegment2)}};this.router.navigate([e.link],r)}else{i="proceso"===this.currentSegment2?"Mis gestiones":"Mis modulos";const r={state:{variables:this.variables,user:null,idllave:e._id,tipo:this.currentSegment2,idcategoria:e.nombre,title:this.authenticationService.datraduccion("mis")+" "+this.authenticationService.datraduccion(this.currentSegment2)}};this.router.navigate(["formulariomovilsListPage"],r)}})}loadData(e){setTimeout(()=>{e.target.complete(),1e3===this.items.length&&(e.target.disabled=!0)},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.jP),t.Y36(h.F0),t.Y36(v.$),t.Y36(o.Br),t.Y36(c.sK),t.Y36(o.IN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-categoriaformulario-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(o.ju,5),2&e){let r;t.iGM(r=t.CRH())&&(i.infiniteScroll=r.first)}},decls:46,vars:29,consts:[["color","primary"],["slot","start"],["size","small"],["collapse","true","slot","end"],[3,"title","click"],["slot","icon-only","name","refresh-circle-outline"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"call-to-action-col",3,"hidden"],["fill","clear","color","secondary",1,"filters-btn",3,"title","click"],["slot","icon-only","name","options"],[1,"user-friends-content"],["sticky",""],[4,"ngIf"],["color","secondary","value","tinicio",3,"ionChange"],["value","formulario","layout","icon-bottom","checked",""],[1,"ion-text-wrap"],["name","reader-outline"],["layout","icon-bottom","value","proceso"],["name","cube-outline"],["layout","icon-bottom","value","reportes"],["name","document-outline"],["class","category-list",4,"ngIf"],["class","empty-list-message",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles",3,"loadingText"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["width","67%"],[1,"category-list"],["class","category-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"category-item",3,"click"],[1,"title"],["class","card-thumbnail",4,"ngIf"],["class","card-thumbnail2",4,"ngIf"],["class","card-thumbnail4",4,"ngIf"],[1,"card-thumbnail"],[1,"card-thumbnail2"],[1,"card-thumbnail4"],[1,"empty-list-message"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar",0),t.TgZ(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA(),t.TgZ(4,"ion-title",2),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",3),t.TgZ(7,"ion-button",4),t.NdJ("click",function(){return i.pideregistros0()}),t.ALo(8,"translate"),t._UZ(9,"ion-icon",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"ion-toolbar",6),t.TgZ(11,"ion-row",7),t.TgZ(12,"ion-col"),t.TgZ(13,"ion-searchbar",8),t.NdJ("ngModelChange",function(l){return i.searchQuery=l})("ionChange",function(){return i.searchList()}),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.TgZ(15,"ion-col",9),t.TgZ(16,"ion-button",10),t.NdJ("click",function(){return i.showAgeFilter=!i.showAgeFilter}),t.ALo(17,"translate"),t._UZ(18,"ion-icon",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"ion-content",12),t.TgZ(20,"ion-item-divider",13),t.YNc(21,P,5,10,"ion-label",14),t.YNc(22,M,5,10,"ion-label",14),t.qZA(),t.TgZ(23,"ion-item-divider",13),t.TgZ(24,"ion-segment",15),t.NdJ("ionChange",function(l){return i.filterContacts2(l)}),t.TgZ(25,"ion-segment-button",16),t.TgZ(26,"ion-label",17),t._uU(27),t.ALo(28,"translate"),t.qZA(),t._UZ(29,"ion-icon",18),t.qZA(),t.TgZ(30,"ion-segment-button",19),t.TgZ(31,"ion-label",17),t._uU(32),t.ALo(33,"translate"),t.qZA(),t._UZ(34,"ion-icon",20),t.qZA(),t.TgZ(35,"ion-segment-button",21),t.TgZ(36,"ion-label",17),t._uU(37),t.ALo(38,"translate"),t.qZA(),t._UZ(39,"ion-icon",22),t.qZA(),t.qZA(),t.qZA(),t.YNc(40,Z,2,2,"ion-list",14),t.YNc(41,k,2,2,"div",23),t.YNc(42,w,3,3,"h3",24),t.TgZ(43,"ion-infinite-scroll",25),t.NdJ("ionInfinite",function(l){return i.loadData(l)}),t._UZ(44,"ion-infinite-scroll-content",26),t.ALo(45,"translate"),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.hij(" ",i.tituloxx," "),t.xp6(2),t.MGl("title"," ",t.lcZ(8,15,"REFRESCARM"),""),t.xp6(6),t.s9C("placeholder",t.lcZ(14,17,"BUSCARM")),t.Q6J("ngModel",i.searchQuery),t.xp6(2),t.Q6J("hidden",!i.showAgeFilter),t.xp6(1),t.MGl("title"," ",t.lcZ(17,19,"FILTROM"),""),t.xp6(5),t.Q6J("ngIf",1===(null==i.itemsList?null:i.itemsList.length)),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>1),t.xp6(5),t.hij("",t.lcZ(28,21,"formulario")," "),t.xp6(5),t.hij("",t.lcZ(33,23,"proceso")," "),t.xp6(5),t.hij("",t.lcZ(38,25,"reportes")," "),t.xp6(3),t.Q6J("ngIf",0===i.efecto),t.xp6(1),t.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"grid"===i.viewType),t.xp6(1),t.Q6J("ngIf",0===(null==i.itemsList?null:i.itemsList.length)),t.xp6(2),t.MGl("loadingText","",t.lcZ(45,27,"espere"),"\n     "))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.wd,o.YG,o.gu,o.Nd,o.wI,o.VI,o.j9,g.JJ,g.On,o.W2,o.rH,m.O5,o.cJ,o.QI,o.GO,o.Q$,o.ju,o.MB,o.q_,m.sg,o.Ie,C.B],pipes:[c.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}ion-card[_ngcontent-%COMP%]{position:relative;text-align:center;display:inline-block;border-radius:8px}.card-title[_ngcontent-%COMP%]{position:absolute;top:36%;font-size:1.5em;width:100%;font-weight:700;color:#fff}.card-subtitle[_ngcontent-%COMP%]{font-size:1em;position:absolute;top:52%;width:100%;color:#fff}body[_ngcontent-%COMP%]{font-family:arial}table[_ngcontent-%COMP%]{border:1px solid #ccc;width:100%;margin:0;padding:0;border-collapse:collapse;border-spacing:0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid #ddd;padding:5px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;letter-spacing:1px}@media screen and (max-width: 600px){table[_ngcontent-%COMP%]{border:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:10px;display:block;border-bottom:2px solid #ddd}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;text-align:right;font-size:13px;border-bottom:1px dotted #ccc}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);float:left;text-transform:uppercase;font-weight:700}}.category-list[_ngcontent-%COMP%]{padding:8px;display:flex;flex-wrap:wrap}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{margin:8px;background-color:var(--ion-color-dark-tint);position:relative;border-radius:4px;overflow:hidden;width:150px;height:220px;color:#fff}.category-list[_ngcontent-%COMP%]   .category-item.color-2[_ngcontent-%COMP%]{background-color:#8da4b0}.category-list[_ngcontent-%COMP%]   .category-item.color-3[_ngcontent-%COMP%]{background-color:#5a8a79}.category-list[_ngcontent-%COMP%]   .category-item.color-4[_ngcontent-%COMP%]{background-color:#e06943}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;padding:12px;font-weight:700;font-size:12px;z-index:2;letter-spacing:.5px;text-shadow:0 2px 8px rgba(0,0,0,.2)}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .card-thumbnail[_ngcontent-%COMP%]{background:url(form.097eec640a291a73.png) no-repeat center;width:90px;height:90px;position:absolute;top:126px;right:-26px;z-index:1;transform:rotate(21deg);box-shadow:0 2px 8px #0003}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .card-thumbnail2[_ngcontent-%COMP%]{background:url(process.a9708a44d352a1eb.png) no-repeat center;width:90px;height:90px;position:absolute;top:126px;right:-26px;z-index:1;transform:rotate(21deg);box-shadow:0 2px 8px #0003}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .card-thumbnail3[_ngcontent-%COMP%]{background:url(formdet.0a80c544c4eeee27.jpg) no-repeat center;width:90px;height:90px;position:absolute;top:126px;right:-26px;z-index:1;transform:rotate(21deg);box-shadow:0 2px 8px #0003}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .card-thumbnail4[_ngcontent-%COMP%]{background:url(report.2220e6adac692558.jpg) no-repeat center;width:90px;height:90px;position:absolute;top:126px;right:-26px;z-index:1;transform:rotate(21deg);box-shadow:0 2px 8px #0003}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{box-shadow:0 0 11px #21212133;cursor:pointer}"]}),n})(),R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.ez,o.Pc,_.K,g.u5,g.UX,d.YL,h.Bz.forChild([{path:"",component:I}]),c.aw.forChild()]]}),n})()},26806:(b,p,a)=>{a.d(p,{B:()=>_});var o=a(5e3),h=a(69808);const m=function(c,g){return{"no-animated":c,inline:g}};let _=(()=>{class c{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275cmp=o.Xpm({type:c,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(d,u){1&d&&o._UZ(0,"div",0),2&d&&o.Q6J("ngClass",o.WLB(2,m,u.noAnimated,u.inline))("ngStyle",u.styles)},directives:[h.mk,h.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),c})()}}]);