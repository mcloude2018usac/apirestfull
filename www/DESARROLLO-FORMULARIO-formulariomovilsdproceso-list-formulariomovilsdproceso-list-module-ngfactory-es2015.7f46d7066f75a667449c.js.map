{"version":3,"sources":["webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsdproceso-list.module.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsproceso-create/formulariomovilsproceso-create.page.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsdproceso-list.page.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsdproceso-list.page.html","webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsproceso-create/formulariomovilsproceso-create.page.html","webpack:///src/app/components/skeleton-element/skeleton-element.component.ts","webpack:///src/app/components/skeleton-element/skeleton-element.component.html"],"names":["formulariomovilsdprocesoListPageModule","alertController","router","modalController","controlsService","translateService","authenticationService","navParams","actionSheetController","variables","userinfo","tituloxx","vgrupo","fechascompone","horascompone","actividades","actorcorreo","acciones","submitted","submitted2","botonesactividad","camposmodifica","camposlectura","muestrabien","this","apifoto","getapifoto","dismiss","getcopiauser","get","idcategoria","data","record2","nidformulario","idformulario","regitrosacumulados","geoposiciontxt","tipo2","tipo","ejecuta","actactual","daactividadactual","daacciones","_id","subscribe","value","lpermiso","daactividadactual2","record","idactividadxxx","_ID","form","onValueChanges","valueChanges","val","campo","accion","op","j","i","length","idpapa","push","name","nombre","type","label","checked","key","clase","re","idx","vcampos","idcampo","camposmodificables","undefined","id","split","getReg","idempresa","then","aa","len","rquer","required","sireque","valort","valor2t","default","dalistacat","options","lecturacc","modificablecc","noexistecc","visiblecc","requeridocc","existecampo","verregistros","order","placeholder","display","selected","title","position","labelsizefondt","default2","default3","categoria","combofijo","tt","fondoetiqueta","coloretiqueta","blike","rangomin","rangomax","rangostep","alfatypo","idfrmconsulta","idfrmconsulta2","idfrmconsulta2origen","idfrmconsultaorigen","usarunaves","idcampofiltro","idcampofiltro2","idcampofiltromanual","idfrmconsultaorigenpapa","idcampofiltropapa","controls","getControls","err","presentAlert","error","davaloritem","alert","create","cssClass","header","inputs","buttons","text","role","handler","todo","console","log","submitForm","present","item","status","creat","email","actividadsiguiente","estado","subtipo","actsiguiente","daactividadsiguiente","actor","idcat","idform","estructura","trayectoria","idorden","usuariocreador","minutos","tipocreacionorden","tipoform","tipo2form","categoriaform","idactividad","actoractividad","claseactividad","nombreactividad","tipoactividad","etapaactividad","etapa","salioorden","estadoorden","idaccion","tipoaccion","subtipoaccion","nombreaccion","estadoaccion","actividadsiguienteaccion","bitacora","idafiliado","permiso","createRegmovil","result","correos","i2","usuarios","i3","correo","notificacionemail","msg2","foto0","notificacionmsm","filtered","filter","el","mandamail","destino","html","subjet","actualiza","otros","op2","uub","modal","component","swipeToClose","backdropDismiss","animated","presentingElement","getTop","componentProps","uubx","onWillDismiss","setValue","direccion","la","lo","image","Camera","getPhoto","correctOrientation","height","width","quality","allowEditing","resultType","DataUrl","source","generateFromImage","dataUrl","fotoimg","procesafoto","controlx","firstFileToBase64","fotoa","uploadPWA2","nativeElement","files","fileImage","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","onerror","Error","click","actionSheet","icon","takePicture2","takePicture","catalogot","frmt","comp","labelx","sigraba","grabax","frm","idllave","titlex","datax","routerOutlet","showAgeFilter","showmenu","items","items2","permisosorden","misactividades","tienedetalle","viewType","cmpver","camposbusqueda","efecto","seguro","msg","currentSegment","searchSubject","ReplaySubject","keysaa","keys","getCurrentNavigation","extras","state","geoposicion","datat","searchQuery","rangeForm","dual","lower","upper","titulox","idformdetalle","maxnumregistros","idmovil","pideregistros","setCurrentLocationa33","authState3","permResult","Geolocation","requestPermissions","isPluginAvailable","getCurrentPosition","coords","latitude","longitude","catch","event","selectedCategory","detail","itemsList","filtro","bb","substr","dafecha","dahora","keyst","keystaa","Object","cadurs","cadurs2","cadurs3","substring","replace","getKeys3","tcampo","includes","dafechacompleta","getKeys2","next","query","filterList","list","toLowerCase","arr","combodatoscheck0","datao","arre","tabla","idtabla","navigate","user","idllave0","rranterior","rrsiguiente","noreg","message","blah","deleteReg","vista","campo2","document","querySelector","focus","setTimeout","target","complete","disabled","win","window","Ionic","mode","showFilter2","todo2","itemxx","titulo","nombrecampo","hidden","combodatoscheck","op4","grabart","siformulatiot","vfiltro","cadenatexto","filtrar","vector","campost","valores","valor","modal2","tarraymultiple","idpapafiltro","correos2","SkeletonElementComponent","borderRadius","rounded","noAnimated","inline","styles"],"mappings":"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","file":"x","sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule} from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgxIonicImageViewerModule } from 'ngx-ionic-image-viewer';\nimport { formulariomovilsprocesoCreatePage } from './formulariomovilsproceso-create/formulariomovilsproceso-create.page';\n\nimport { formulariomovilsdprocesoListPage } from './formulariomovilsdproceso-list.page';\nimport { DynamicFormModule } from '../../../common/forms/dynamic-form.module';\nimport { Ionic4DatepickerModule } from '@logisticinfotech/ionic4-datepicker';\n\n\n@NgModule({\n  declarations: [\n    formulariomovilsdprocesoListPage, formulariomovilsprocesoCreatePage\n  ],\n  imports: [\n    CommonModule,IonicModule, ComponentsModule, FormsModule,  ReactiveFormsModule, NgxIonicImageViewerModule,  DynamicFormModule,\n    RouterModule.forChild([{ path: '', component: formulariomovilsdprocesoListPage }]), TranslateModule.forChild(), Ionic4DatepickerModule ,\n  ],\n  entryComponents: [\n    formulariomovilsprocesoCreatePage\n  ]\n\n})\nexport class formulariomovilsdprocesoListPageModule {}\n","import { Component, OnInit , ViewChild ,  ElementRef} from '@angular/core';\nimport { AlertController, ModalController , NavParams , ActionSheetController, IonInput } from '@ionic/angular';\nimport { FormGroup, FormControl, Validators, FormGroupDirective } from '@angular/forms';\nimport { AuthenticationService } from '../../../services/Authentication.service';\nimport {  Router, NavigationExtras } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MyModalPage } from '../../../modals/my-modal/my-modal.page';\nimport { MyModalComboPage } from './../../../modals/my-modal-combo/my-modal-combo.page';\nimport {Plugins, Capacitor,  CameraResultType,  CameraSource, CallbackID} from '@capacitor/core';\nimport { SafeResourceUrl } from '@angular/platform-browser';\nimport { ControlBase } from '../../../../common/forms/control-base';\nimport { ControlsService } from '../../../../common/forms/controls.service';\n\n\n@Component({\n  selector: 'app-formulariomovilsproceso-create',\n  templateUrl: './formulariomovilsproceso-create.page.html',\n  styleUrls: ['./formulariomovilsproceso-create.page.scss'],\n})\nexport class formulariomovilsprocesoCreatePage implements OnInit {\n@ViewChild('inputId', {  static: false })  inputElement: IonInput;\n @ViewChild('fotoa', {static: true}) fotoa: ElementRef;\n  form: FormGroup;\n // @ViewChild('createForm', { static: false }) createForm: FormGroupDirective;\n  variables: any = [];\n  controls: ControlBase<any>[];\n  userinfo: any = [];\n  idllave: any ;\n  tituloxx = '';\n  vgrupo: any = [];\n  tipo: any;\n  tipo2: any;\n  ejecuta: any;\n  geoposiciontxt: any;\n  _ID: any;\n  fechascompone: any = [];\n  horascompone: any = [];\n  regitrosacumulados: any;\n  lpermiso: any;\n  actividades: any = [];\n  actorcorreo: any = [];\n  acciones: any = [];\n  submitted: any = [];\n  submitted2: any = [];\n  idformulario: any;\n  idcategoria: any;\n  geoposicion: any;\n  nidformulario: any;\n  actactual: any;\n  actsiguiente: any;\n  actfinal: any;\n  botonesactividad: any = [];\n  actactualsiguiente: any;\n\ncamposmodifica: any = [];\ncamposlectura: any = [];\n\n\n  public tt: any;\n\tmuestrabien = false;\n\n  apifoto: String ;\n  fotoimg: SafeResourceUrl;\n  constructor( public alertController: AlertController, private router: Router,\n    private modalController: ModalController, \tpublic controlsService: ControlsService,\n    public translateService: TranslateService    , private authenticationService: AuthenticationService,\n    private navParams: NavParams , public actionSheetController: ActionSheetController\n  ) { this.apifoto = this.authenticationService.getapifoto();\n\n  }\n\n  dismissModal() {     this.modalController.dismiss('close');      }\n  ionViewDidEnter(): void {               }\n  ngOnInit(): void {\n   // this.variables =this.router.getCurrentNavigation().extras.state.variables\n    this.userinfo =  this.authenticationService.getcopiauser();\n\n    this.tituloxx =  this.navParams.get('title');\n\n    this.idcategoria =  this.navParams.data.record2.idcategoria;\n\n    this.nidformulario = this.navParams.data.record2.nidformulario;\n    this.idformulario =  this.navParams.data.record2.idformulario;\n    this.regitrosacumulados  =  this.navParams.data.record2.regitrosacumulados;\n\n    this.geoposiciontxt =  this.navParams.data.record2.geoposiciontxt;\n    this.tipo2 =  this.navParams.data.record2.tipo2;\nthis.tipo =  this.navParams.data.record2.tipo;\nthis.ejecuta =  this.navParams.data.record2.ejecuta;\n\nthis.acciones = this.navParams.data.record2.acciones;\n\nthis.actividades = this.navParams.data.record2.actividades;\n\nthis.actorcorreo =  this.navParams.data.record2.actorcorreo;\n\n\n\n    if (this.navParams.get('record') == null) {\n\n      this.actactual = this.daactividadactual('INICIO', this.actividades);\n      this.daacciones(this.acciones, this.actactual._id);\n\n       this.translateService.get('NUEVOM').subscribe((value) => {   this.tituloxx = value + ' ' + this.tituloxx; this.lpermiso = value; });\n\n\n    } else {\n\n      this.actactual = this.daactividadactual2( this.navParams.data.record.idactividadxxx, this.actividades);\n      this.daacciones(this.acciones, this.actactual._id);\n\n\n       this.translateService.get('ACTUALIZAM').subscribe((value) => {this.tituloxx = value + ' ' + this.tituloxx; this.lpermiso = value; });\n       this._ID \t\t\t\t=\tthis.navParams.data.record._id;\n    }\n\n    this.form = new FormGroup({ });\n    this.onValueChanges();\n\n  }\n\n  onValueChanges(): void {\n    this.form.valueChanges.subscribe(val => {\n\n      \tthis.submitted = val;\n    });\n  }\n\n  public davaloritem(data, campo) {\n\t\tlet val = '';\n    if (data[campo]) {val = data[campo]; } else {val = ''; }\n\t\treturn val;\n\t}\n\n\n\n\tpublic daacciones(accion, op) {\n\n    let j = 0;\n\t\tfor (let i = 0; i < accion.length; i++) {\n\t\t\t\t if (accion[i].idpapa === op) {\n\n\n          if (j === 0) {\n            this.botonesactividad.push( {\n              name: accion[i].nombre,\n              type: 'radio',\n              label: accion[i].nombre,\n              checked: true,\n              value: accion[i],\n            });\n            j = j + 1;\n          } else {\n            this.botonesactividad.push( {\n              name: accion[i].nombre,\n              type: 'radio',\n              label: accion[i].nombre,\n              checked: false,\n              value: accion[i],\n            });\n          }\n\n\n\n\n\n\t\t\t\t }\n\t\t}\n\n\n  }\n\n\tpublic dalistacat(data, op) {\n\t\tlet val: any;\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\t if (data[i].label === op) {\n\n\t\t\t\t\tval = {key: data[i].key, label: data[i].label};\n\t\t\t\t\tbreak;\n\t\t\t\t }\n\t\t}\n\n\t\treturn val;\n\t}\n\n  daactividadactual2(clase, actividades): any {\n    let re;\n    for (let i = 0; i < actividades.length; i++) {\n      if (actividades[i]._id === clase) {\n        re = actividades[i];\n        break;\n      }\n    }\n    return re;\n  }\n\ndaactividadactual(clase, actividades): any {\n  let re;\n  for (let i = 0; i < actividades.length; i++) {\n    if (actividades[i].clase === clase) {\n      re = actividades[i];\n      break;\n    }\n  }\n  return re;\n}\n\ndaactividadsiguiente(idx, actividades): any {\n  let re;\n  for (let i = 0; i < actividades.length; i++) {\n    if (actividades[i]._id === idx) {\n      re = actividades[i];\n      break;\n    }\n  }\n  return re;\n}\n\nexistecampo(vcampos, idcampo): any {\n  let re = false;\n  for (let i = 0; i < vcampos.length; i++) {\n    if (vcampos[i] === idcampo) {\n      re = true;\n      break;\n    }\n  }\n  return re;\n}\n\tngAfterViewInit() {\n\n\t\tif (this.navParams.get('record') == null) {// nuevo\n\n   if (this.actactual.camposmodificables !== '' || this.actactual.camposmodificables !== undefined) {\n    if (this.actactual.camposmodificables.id) { this.camposmodifica = this.actactual.camposmodificables.id.split(';'); }}\n\n     if (this.actactual.camposlectura !== '' || this.actactual.camposlectura !== undefined) {\n   if (this.actactual.camposlectura.id) { this.camposlectura = this.actactual.camposlectura.id.split(';'); }}\n\n\t\t\tthis.authenticationService.getReg(this.idformulario + '/formulariod/' + this.userinfo[0].idempresa._id\t, 'frmmovils', 0).then((data) => {\n\t\t\t\tconst aa: any = [];\n\t\t\t\tconst len: any = data;\n\t\t\t\tfor (let i = 0; i < len.length; i++) {\n\t\t\t\tconst rquer = len[i].required; let sireque = '';\n\t\t\t\tlet valort = '';\n\t\t\t\tlet valor2t: any = [];\n\n\t\t\t\tswitch (len[i].type) {\n          case 'fecha': this.fechascompone.push(len[i].name); break;\n          case 'fechahora': this.horascompone.push(len[i].name); break;\n\t\t\t\t\tcase 'label':   valort = '.';  break;\n\t\t\t\t\tcase 'check': \tvalort = len[i].default;\n\t\t\t\t\t if (valort === '') {valort = 'false'; }\t\t\t else\t\t\t\t {\t\tif (!valort) {valort = 'false'; }\t\t }  break;\n\t\t\t\t\tcase 'select':   valor2t = this.dalistacat(len[i].options, len[i].default);  break;\n\t\t\t\t\tdefault:\n\t\t\t\t\tvalort = len[i].default;\n\t\t\t\t}\n\n\t\t\t\tif (!valor2t) {valor2t = ''; }\n\t\t\t\tif (!valort) {valort = ''; }\n        if (rquer === 'true') {sireque = ' (*)'; }\n         let lecturacc = false;\n         let modificablecc = false;\n         let noexistecc = false;\n         let visiblecc = false;\n         let requeridocc = false;\n\n          modificablecc = this.existecampo(this.camposmodifica , len[i]._id);\n          if (modificablecc !== true) {\n          lecturacc = this.existecampo(this.camposlectura , len[i]._id);\n           if (lecturacc === true) {visiblecc = false; requeridocc = len[i].required; noexistecc = true; modificablecc = false;    } else {\n            noexistecc = false;\n            visiblecc = true;\n            requeridocc = false;\n            modificablecc = false;\n            if (len[i].required) {valort = '-'; }\n          }\n          } else {\n            visiblecc = false;\n            lecturacc = false;\n            requeridocc = true;\n\n          }\n\n\n\t\t\t\t\t\tif (len[i].type === 'select' || len[i].type === 'select2') {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'no', verregistros: len[i].verregistros,\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': len[i].default, 'valor': valor2t,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                  'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': len[i].idfrmconsulta, 'idfrmconsulta2': len[i].idfrmconsulta2, 'idfrmconsulta2origen': len[i].idfrmconsulta2origen, 'idfrmconsultaorigen': len[i].idfrmconsultaorigen, 'usarunaves': len[i].usarunaves, \n                  'idcampofiltro': len[i].idcampofiltro,'idcampofiltro2': len[i].idcampofiltro2, 'idcampofiltromanual': len[i].idcampofiltromanual, 'regitrosacumulados':  this.regitrosacumulados\n                  , 'idfrmconsultaorigenpapa': len[i].idfrmconsultaorigenpapa, 'idcampofiltropapa': len[i].idcampofiltropapa});\n\n\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'no',\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': len[i].default, 'valor': valort,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': '', 'idfrmconsulta2': '', 'idfrmconsulta2origen': '', 'idfrmconsultaorigen': '', 'usarunaves': '', 'idcampofiltro': '','idcampofiltro2': '', 'idcampofiltromanual': '', 'regitrosacumulados': ''\n                , 'idfrmconsultaorigenpapa': '', 'idcampofiltropapa': ''});\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t}\n\t\t\t\tthis.controls = this.controlsService.getControls(aa);\n\t\t\t\tthis.muestrabien = true;\n\t}, (err) => {\n    this.authenticationService.presentAlert(err.error , 'Precaucin' , '');\n\n\n\t});\n\n\n\n\n\n    } else {// actualiza\n\n\n   if (this.actactual.camposmodificables !== '' || this.actactual.camposmodificables !== undefined) {\n    this.camposmodifica = this.actactual.camposmodificables.id.split(';'); }\n\n    if (this.actactual.camposlectura !== '' || this.actactual.camposlectura !== undefined) {\n  this.camposlectura = this.actactual.camposlectura.id.split(';'); }\n\n\n\t\t\tthis.authenticationService.getReg(this.idformulario +  '/formulariod/' + this.userinfo[0].idempresa._id, 'frmmovils', 0).then((data) => {\n\t\t\t\tconst aa: any = [];\n\t\t\t\tconst len: any = data;\n\t\t\t\tfor (let i = 0; i < len.length; i++) {\n\t\t\t\t\tconst rquer = len[i].required; let sireque = '';\n\t\t\t\t\tif (rquer === 'true') {sireque = ' (*)'; }\n          let valort = '';\nif (len[i].type === 'imagen') {\n  valort =  this.davaloritem(this.navParams.data.record, len[i].name);\n} else {\n  valort = this.davaloritem(this.navParams.data.record, len[i].name);\n}\n\n\n\n          if (!valort) {valort = ''; }\n          if (len[i].type === 'label') {valort = '.'; }\n\n          let lecturacc = false;\n          let modificablecc = false;\n          let noexistecc = false;\n          let visiblecc = false;\n          let requeridocc = false;\n\n           modificablecc = this.existecampo(this.camposmodifica , len[i]._id);\n           if (modificablecc !== true) {\n           lecturacc = this.existecampo(this.camposlectura , len[i]._id);\n            if (lecturacc === true) {visiblecc = false; requeridocc = len[i].required;\n              noexistecc = true; modificablecc = false;\n            }     else {\n             noexistecc = false;\n             visiblecc = true;\n             requeridocc = false;\n             if (len[i].required) {valort = '-'; }\n             modificablecc = false;\n           }\n           } else {\n             visiblecc = false;\n             lecturacc = false;\n             requeridocc = true;\n             if (valort === '-') { valort = ''; }\n\n           }\n\n\n\n\t\t\t\t\t\tif (len[i].type === 'select' || len[i].type == 'select2') {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'si', verregistros: len[i].verregistros,\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': ''\n                , 'valor': valort,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                  'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': len[i].idfrmconsulta, 'idfrmconsulta2': len[i].idfrmconsulta2, 'idfrmconsulta2origen': len[i].idfrmconsulta2origen, 'idfrmconsultaorigen': len[i].idfrmconsultaorigen, 'usarunaves': len[i].usarunaves, \n                  'idcampofiltro': len[i].idcampofiltro,'idcampofiltro2': len[i].idcampofiltro2, 'idcampofiltromanual': len[i].idcampofiltromanual, 'regitrosacumulados':  this.regitrosacumulados\n                  , 'idfrmconsultaorigenpapa': len[i].idfrmconsultaorigenpapa, 'idcampofiltropapa': len[i].idcampofiltropapa});\n\n\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'si',\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': ''\n                , 'valor': valort,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': '', 'idfrmconsulta2': '', 'idfrmconsulta2origen': '', 'idfrmconsultaorigen': '', 'usarunaves': '', 'idcampofiltro': '', \n                'idcampofiltro2': '', 'idcampofiltromanual': '', 'regitrosacumulados': ''\n                , 'idfrmconsultaorigenpapa': '', 'idcampofiltropapa': ''});\n\n\t\t\t\t\t\t}\n\n          }\n/*\n\n\t\t\t\t\taa.push({ 'idformulario': this.idformulario, 'idcampo': len[i]._id,'actualiza':'si',\n\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': len[i].required,\n\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t'disabled': len[i].disabled,\t'hidden': len[i].hidden,\t'title': len[i].title  + sireque,\n\t\t\t\t\t\t'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': ''\n\t\t\t\t\t\t, 'valor': valort\n\t\t\t\t\t\t, 'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n\t\t\t\t\t\t'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t});\n        }\n        */\n\n\t\t\t\tthis.controls = this.controlsService.getControls(aa);\n\t\t\t\tthis.muestrabien = true;\n\t}, (err) => {\n    this.authenticationService.presentAlert(err.error , 'Precaucin' , '');\n\n\n\t});\n\n\t\t}\n\n\n\n  }\n\n  async submitForm0() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n     header: 'Seleccione Opcin',\n     inputs: this.botonesactividad,\n     buttons: [\n       {\n         text: 'Cancel',\n         role: 'cancel',\n         cssClass: 'secondary',\n         handler: (todo) => {\n           console.log(todo);\n         }\n       }, {\n         text: 'Ok',\n         handler: (todo) => {\n        this.submitForm(todo);\n         }\n       }\n     ]\n   });\n   await alert.present();\n  }\n  // onSgrupoChange(selectedValue: any) {    this.sgrupo = selectedValue.detail.value ;(ionChange)='onSgrupoChange($event)'   }\n  submitForm(item) {\n\n    if (this.form.status === 'INVALID') {\n\n      this.authenticationService.presentAlert('Ingrese todos los campos requeridos en el formulario' , 'Precaucin' , '');\n\n    } else {\n      let creat = 'Actualiza';\n\n\n\n      if (this.navParams.get('record') == null) {  creat = 'Crea';\n      }\n\n      if (this.navParams.get('record') == null) {\n        this.submitted['usuarionew'] = this.userinfo[0].email;\n        this.submitted['usuarioup'] = this.userinfo[0].email;\n        this.submitted['idempresa'] = this.userinfo[0].idempresa._id;\n        this.submitted['geoposicionxxx'] = this.geoposiciontxt;  \n        // tslint:disable-next-line: whitespace\n         \n \n\n        this.submitted['pmodulo'] = this.userinfo[0]._id;\n        this.submitted['idactividadxxx'] = item.actividadsiguiente.id;\n        this.submitted['estadoxxx'] = item.estado;\n        this.submitted['actividadxxx'] = item.actividadsiguiente.nombre;\n        this.submitted['idaccionxxx'] = item._id;\n        this.submitted['accionxxx'] = item.nombre;\n        this.submitted['tipoaccionxxx'] = item.tipo;\n        this.submitted['subtipoaccionxxx'] = item.subtipo;\n\n\n        this.actsiguiente = this.daactividadsiguiente( item.actividadsiguiente.id, this.actividades );\n        this.submitted['idactorxxx'] = this.actsiguiente.actor.id;\n        this.submitted['actorxxx'] = this.actsiguiente.actor.nombre;\n        this.submitted['actividadclasexxx'] = this.actsiguiente.clase;\n        this.submitted['actividadtipoxxx'] = this.actsiguiente.tipo;\n        this.submitted['leidoxxx'] = false;\n        this.submitted['enviadoporxxx'] =  this.userinfo[0].nombre +  '  (' +  this.userinfo[0].email + ')';\n        this.submitted['estadoordenxxx'] = 'activa';\n        // item.notificacionemail  item.notificacionmsm\n\n\n\n\n        const   options: any\t     = {\n          idcat: this.idcategoria,\n          idform: this.idformulario,\n          estructura: this.submitted,\n          tipo: this.tipo,\n          tipo2: this.tipo2,\n          ejecuta: this.ejecuta,\n          trayectoria: {\n            idempresa\t\t: this.userinfo[0].idempresa._id,\n            idorden\t: 'idorden',\n            usuariocreador\t\t: {    id\t: this.userinfo[0]._id,   nombre\t: this.userinfo[0].nombre,\n              email: this.userinfo[0].email       },\n            minutos\t\t: 0,\n            tipocreacionorden\t\t: 'INICIAL',\n            nombre\t\t: 'nombre',\n            idform\t\t: this.idformulario,\n            tipoform\t: this.tipo,\n            tipo2form\t: this.tipo2,\n            ejecuta: this.ejecuta,\n            categoriaform\t: this.idcategoria,\n            idactividad\t\t: item.actividadsiguiente.id,\n            actoractividad\t\t: {    id\t: this.actsiguiente.actor.id ,   nombre\t:   this.actsiguiente.actor.nombre     },\n            claseactividad\t\t: this.actsiguiente.clase,\n            nombreactividad\t\t: this.actsiguiente.nombre,\n            tipoactividad\t\t: this.actsiguiente.tipo,\n            etapaactividad\t\t: this.actsiguiente.etapa,\n            salioorden: 0,\n            estadoorden: 'activa',\n            idaccion\t\t: item._id,\n            tipoaccion\t\t: item.tipo,\n            subtipoaccion\t\t: item.subtipo,\n            nombreaccion\t\t: item.nombre,\n            estadoaccion\t\t: item.estado,\n            actividadsiguienteaccion\t\t:  { id\t: item.actividadsiguiente.id ,   nombre\t: item.actividadsiguiente.nombre  },\n\n          },\n          bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n       email: this.userinfo[0].email , permiso : creat, accion: 'Crea en formulario movil'}\n         };\n\n\n\n        if (options) {\n          this.authenticationService.createRegmovil('', options, 'frmmovils').then((result) => {\n\n\n            let correos = '';\n            for (let i2 = 0; i2 < this.actorcorreo.length; i2++) {\n              if (this.actorcorreo[i2].idpapa === this.actsiguiente.actor.id) {\n                let  usuarios = this.actorcorreo[i2].usuarios;\n                for (let i3 = 0; i3 < usuarios.length; i3++) {\n                  correos = correos + usuarios[i3].correo + ';';\n                }      }   }\n\n\n\n\n          correos = correos +  item.notificacionemail;\n\n\n          let msg2 = '<html><body><p style=\"text-align: center;\"><img src=\"' + this.apifoto +   this.userinfo[0].idempresa.foto0 +' alt=\"\" width=\"300\" height=\"200\" /></p>      <p style=\"text-align: left;\"><strong>PROCESSAPPS ' +   this.userinfo[0].idempresa.nombre +'</strong></p>      <p style=\"text-align: left;\">Tienes una solicitud de un nuevo requerimiento:</p>       <p style=\"text-align: left;\"><strong>Proceso</strong>:&nbsp; '+    this.nidformulario + '</p>       <p style=\"text-align: left;\"><strong>Actividad actual</strong>: '+ this.actsiguiente.nombre +'</p>       <p style=\"text-align: left;\"><strong>mensaje</strong>:'+ item.notificacionmsm +'</p>      <p>&nbsp;</p>      <p>&nbsp;</p>      <p>saludos</p></body> </html>'\n        \n          var cc= correos.split(';')\n\n          var filtered = cc.filter(function (el) {\n            return el !== \"\";\n          });\n\n            const   options2: any\t     = {\n              destino:filtered,  \n              html : msg2,\n            text : msg2,\n            subjet :  item.notificacionmsm + '- PROCESSAPPS ' +  this.userinfo[0].idempresa.nombre,\n            actualiza: { tipo: 'na', id : '1', estado : 'Ingreso, mail enviado',\n            otros: ''}\n            };\n          \n                                                            this.authenticationService.mandamail('crea/1',options2,'mails').then((data) => {\n                                                            this.modalController.dismiss('ok');\n                                                          });\n\n     //       correos= correos +  item.\n\n\n        }, (err) => {\n          this.authenticationService.presentAlert(err.error , 'Precaucin' , '');\n        });\n        }\n\n      } \n    }\n\n\n\n  }\n  async dacomponente(op, op2) {\n        let uub = '';\n        if ( op === 'ubicacion') {uub = this.form.controls['ubicacion'].value; }\n        const modal = await this.modalController.create({\n          component: MyModalPage,      swipeToClose: false,    backdropDismiss: false,     animated: true,\n          presentingElement: await this.modalController.getTop(),\n          componentProps:  { variables:  this.variables, record: null, userinfo: this.userinfo, uubx : uub}\n          // , cssClass: 'modal-fullscreen'\n        });\n        modal.onWillDismiss().then((data) => {\n             if ( data.data === 'close' ) {     }      else      {\n             if (op === 'direccion') {\n              this.form.controls['direccion'].setValue(data.data.direccion);\n             } else {\n              this.form.controls['ubicacion'].setValue(data.data.direccion + ' {' + data.data.la + '' + data.data.lo + '}');\n             }\n            }\n        });\nreturn await modal.present();\n      }\n  /*************************************************+++++FOTOS */\n  async takePicture(op) {\n  const image = await Plugins.Camera.getPhoto({\n  correctOrientation: true,\n            height: 200,\n            width: 200,\n                quality: 60,\n  allowEditing: true,\n            resultType: CameraResultType.DataUrl,\n            source: CameraSource.Camera\n          });\n          this.authenticationService.generateFromImage(image.dataUrl, 200, 200, 0.5, data => {\n            switch (op) {\n              case 'fotoa': this.fotoimg = data;   this.form.controls['foto'].setValue( this.authenticationService.procesafoto(this.form.controls['foto'].value)); break;\n                default:\n            }\n        });\n        }\n  uploadPWA2(op , controlx) {\n         const fileList: FileList = controlx;\n         if (fileList && fileList.length > 0) {\n                 this.firstFileToBase64(fileList[0]).then((result: string) => {\n                 this.authenticationService.generateFromImage(result, 200, 300, 0.5, data => {\n                 switch (op) {\n                         case 'fotoa':  this.fotoimg = data;    this.form.controls['foto'].setValue( this.authenticationService.procesafoto(this.form.controls['foto'].value)); break;\n                          default:\n                  }\n                 });\n                 }, (err: any) => {\n                 switch (op) {\n                 case 'fotoa':  this.fotoimg = null;  this.form.controls['foto1'].setValue('');  break;\n                 default:\n                 }\n                 });\n  }}\n  uploadPWA(op) {\n  switch (op) {\n  case 'fotoa':  if (this.fotoa == null ) { return; }\n  this.uploadPWA2(op , this.fotoa.nativeElement.files); break;\n  default:\n  }\n  }\n  private firstFileToBase64(fileImage: File): Promise<{}> {\n  return new Promise((resolve, reject) => {\n  const fileReader: FileReader = new FileReader();\n  if (fileReader && fileImage != null) {\n  fileReader.readAsDataURL(fileImage);\n  fileReader.onload = () => {\n  resolve(fileReader.result);\n  };\n  fileReader.onerror = (error) => {\n  reject(error);\n  };\n  } else {\n  reject(new Error('No file found'));\n  }\n  });\n  }\n        async takePicture2(op) {\n  if ( op === 'fotoa')  {     this.fotoa.nativeElement.click();  }\n        }\n        async fotodatos( op ) {\n          const actionSheet = await this.actionSheetController.create({\n            header: 'Foto',\n            cssClass: 'my-custom-class',\n            buttons: [{   text: 'Galeria',  role: 'destructive',  icon: 'image-outline',\n              handler: () => {\n                this.takePicture2(op);\n              }\n            }, {\n              text: 'Camara',\n              icon: 'camera-outline',\n              handler: () => {\n                this.takePicture(op);\n              }\n            }]\n          });\n          await actionSheet.present();\n        }\n      /****************************************COMBO DE DATOS */\n      async combodatos( op ,  catalogot, frmt, comp, labelx, sigraba) {\n          const modal = await this.modalController.create({\n            component: MyModalComboPage,   swipeToClose: false,     backdropDismiss: false,    animated: true,\n            presentingElement: await this.modalController.getTop(),\n            componentProps: {grabax: sigraba , variables:  this.variables, userinfo: this.userinfo\n              ,  record2 : null , op:  catalogot, frm: frmt, idllave : this.idllave, titlex: 'Buscar ' + labelx}\n            // , cssClass: 'modal-fullscreen'\n          });\n          modal.onWillDismiss().then((data) => {\n            let datax: any = [];\n            datax = data;\n    if (datax.data !==  'close')       {\n        if (datax.data) {this.form.controls[comp].setValue(datax.data.nombre);\n            //  this.form.controls[comp].id = datax.data._id\n            } else {        this.form.controls[comp].setValue('');       }\n          }\n});\n          return await modal.present();\n        }\n}\n","import { Component , OnInit , ViewChild } from '@angular/core';\nimport {AlertController, ModalController ,  IonRouterOutlet} from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport {  Router, NavigationExtras } from '@angular/router';\nimport { AuthenticationService } from '../../services/Authentication.service';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ReplaySubject} from 'rxjs';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport { formulariomovilsprocesoCreatePage } from './formulariomovilsproceso-create/formulariomovilsproceso-create.page';\n\nimport {Plugins, Capacitor,  Geolocation , CallbackID} from '@capacitor/core';\n\nimport { MyModalComboPage } from '../../../DESARROLLO/modals/my-modal-combo/my-modal-combo.page';\n\n@Component({\nselector: 'page-formulariomovilsdproceso-list',\ntemplateUrl: 'formulariomovilsdproceso-list.page.html',\nstyleUrls: ['./formulariomovilsdproceso-list.page.scss'],\n})\nexport class formulariomovilsdprocesoListPage implements OnInit {\nconstructor(  private routerOutlet: IonRouterOutlet , private router: Router, private authenticationService: AuthenticationService,\n   public alertController: AlertController,     public translateService: TranslateService    ,    private modalController: ModalController\n   ) {  this.apifoto = this.authenticationService.getapifoto();\n }\n@ViewChild(IonInfiniteScroll, { static : false }) infiniteScroll: IonInfiniteScroll;\nrangeForm: FormGroup;\nsearchQuery: string;\nshowAgeFilter = false; showmenu = false;\nitems: any  = [] ;\nitems2: any  = [] ;\nvariables: any = [];\npermisosorden: any = [];\nuserinfo: any = [];\nacciones:any = []\nactividades:any = []\nmisactividades:any = []\nactorcorreo: any = [];\ntienedetalle = 0;\nidcategoria: any;\ngeoposiciontxt: any;\ngeoposicion: any;\nidllave: any;\nviewType = 'grid';\nidformulario: any;\nnidformulario: any;\nverregistros: any;\ntipo: any;\n  tipo2: any;\n  ejecuta: any;\ntituloxx = '';\ncmpver: any = [];\ncamposbusqueda: any = [];\nnidcategoria: any;\nefecto = 0;\nseguro = '';\nmsg = '';\napifoto: String;\nitemsList: Array<any>;\npublic currentSegment = 'activa';\nsearchSubject: ReplaySubject<any> = new ReplaySubject<any>(1);\nwatchId: CallbackID;\nkeysaa: any = [];\n  keys: any = [];\n  keys2: any;\nchangeToList() { this.viewType = 'list'; }\nchangeToGrid() {   this.viewType = 'grid';  }\nngOnInit() {\n\n \n\n\n    this.variables = this.router.getCurrentNavigation().extras.state.variables;\n    this.permisosorden = this.router.getCurrentNavigation().extras.state.permisosorden;\n    this.idllave = this.router.getCurrentNavigation().extras.state.idllave;\n    this.userinfo = this.authenticationService.getcopiauser();\n    this.tituloxx = this.router.getCurrentNavigation().extras.state.title;\n    this.idcategoria = this.router.getCurrentNavigation().extras.state.idcategoria;\n  this.verregistros = this.router.getCurrentNavigation().extras.state.verregistros;\n    this.nidformulario = this.router.getCurrentNavigation().extras.state.nidformulario;\n    this.idformulario = this.router.getCurrentNavigation().extras.state.idformulario;\n    this.geoposicion = this.router.getCurrentNavigation().extras.state.geoposicion;\n    this.cmpver = this.router.getCurrentNavigation().extras.state.datat;\n\n    \nthis.acciones =this.router.getCurrentNavigation().extras.state.acciones;\n\nthis.actividades = this.router.getCurrentNavigation().extras.state.actividades;\n\nthis.misactividades = this.router.getCurrentNavigation().extras.state.misactividades;\n\nthis.actorcorreo = this.router.getCurrentNavigation().extras.state.actorcorreo;\n\n\n    this.tipo2 =   this.router.getCurrentNavigation().extras.state.tipo2;\n    this.tipo =   this.router.getCurrentNavigation().extras.state.tipo;\n    this.ejecuta =  this.router.getCurrentNavigation().extras.state.ejecuta;\n\n    this.searchQuery = '';\n    this.translateService.get('SEGUROM').subscribe((value) => {   this.seguro = value;  });\n    this.translateService.get('MSGM').subscribe((value) => {   this.msg = value;  });\n    this.rangeForm = new FormGroup({    dual: new FormControl({lower: 1, upper: 100})   });\n    this.currentSegment = 'activa';\n\n\n\n\n    this.authenticationService.getReg(this.idformulario + '/formulariocamposver2/' + this.userinfo[0].idempresa._id , 'frmmovils', 0).then((data) => {\n      let aa: any;\n      aa = data;\n\n      for (let i = 0; i < aa.length; i++) {\n        this.camposbusqueda.push({name: 'myInput', type: 'radio', label: aa[i].nombre, value: aa[i]._id + '' + aa[i].tipo });\n    }\n\n  }, (err) => {\n    this.authenticationService.presentAlert(err.error , this.msg , '');\n  });\n\n\n    this.authenticationService.getReg(this.idllave + '/camposdetalle/' + this.userinfo[0].idempresa._id + '/1' , 'frmmovilds', 0).then((data) => {\n      let datat: any = [];\n      datat = data;\n    this.items2 = [];\n      if (datat.length > 0) {\n        this.tienedetalle = 1;\n\n        for (let i = 0; i < datat.length; i++) {\n          let titulox = '';\n          if (  data[i].type === 'Check List Detalle') {titulox = 'Check list '; }\n\n          if (i === 0) {\n            this.items2.push( {\n              name: data[i].name,\n              type: 'radio',\n              label: titulox + data[i].title,\n              checked: true,\n              value: data[i]._id + '' + data[i].idformdetalle.id + '/ProductoListPage' +  data[i].title + ' ->' + this.nidformulario + '' +  data[i].type + '' + data[i].maxnumregistros + '' + data[i].idmovil,\n            });\n          } else {\n            this.items2.push( {\n              name: data[i].name,\n              type: 'radio',\n              label: titulox + data[i].title,\n              checked: false,\n              value: data[i]._id + '' + data[i].idformdetalle.id + '/ProductoListPage' +  data[i].title + ' ->' + this.nidformulario + '' +  data[i].type + '' + data[i].maxnumregistros + '' + data[i].idmovil,\n            });\n          }\n\n\n\n        }\n\n\n      }\n\n}, (err) => {\n  this.authenticationService.presentAlert(err.error , this.msg , '');\n});\n\n\n    this.pideregistros( this.currentSegment);\n    if (  this.geoposicion === 'false' ||   this.geoposicion === undefined) {\n      this.geoposiciontxt = '';\n          } else {\n            this.geoposiciontxt =\tthis.setCurrentLocationa33();\n          }\n\n\n      \n          this.authenticationService.authState3.subscribe(state => {\n            if (state) {\n              this.pideregistros( this.currentSegment);\n            }\n          });\n  }\n\n\n  async setCurrentLocationa33() {\n\n    const permResult = await Plugins.Geolocation.requestPermissions();\n    console.log('Perm request result: ', permResult);\n\n    if (!Capacitor.isPluginAvailable('Geolocation')) {\n      console.log('Plugin geolocation not available');\n      return;\n    }\n\n\n\n\n\n\n      Geolocation.getCurrentPosition().then(data => {\n        this.geoposiciontxt =  data.coords.latitude + '' + data.coords.longitude;\n      }).catch(err => {\n        this.geoposiciontxt = '';\n      });\n\n\n  }\n\n\n  filterContacts(event: any) {\n    const selectedCategory = event.detail.value;\n    this.currentSegment = selectedCategory;\n    this.pideregistros(selectedCategory);\n  }\n  pideregistros0() {\n   this.pideregistros(this.currentSegment);\n  }\n  pideregistros(op) {\n       this.itemsList = [];\n       this.efecto = 0 ;\n      // this.authenticationService.getReg('todos/' + op + '/' + this.userinfo[0].idempresa._id + '/' + this.idllave, 'formulariomovilsdprocesos', 0).then((data) => {\n      let filtro = '';\n      if( this.misactividades.length===0)\n      {this.misactividades.push('123')\n    this.permisosorden.acciones='false'\n    \n    }\n\n  \n\n\n      if ( this.verregistros === 'Ver solo los mios' || this.verregistros === undefined) {\n        //misactividades\n        filtro = this.misactividades + '/formularioproceso/' \n        + this.userinfo[0].idempresa._id + '' + this.userinfo[0].email + '' + op + '' +  this.idllave+ '' + this.userinfo[0]._id;\n\n      } else {\n\n        if ( this.verregistros === 'Ver bandeja entrada de proceso' )\n        {\n\n          filtro = this.misactividades + '/formularioproceso/' \n          + this.userinfo[0].idempresa._id   + '' + 'todosmios' + '' + op + '' + this.idllave+ '' + this.userinfo[0]._id;\n        }\n        else\n{\n  filtro = this.misactividades + '/formularioproceso/' \n  + this.userinfo[0].idempresa._id   + '' + 'todos' + '' + op + '' + this.idllave+ '' + this.userinfo[0]._id;\n}\n\n\n       \n\n       \n      }\n\n       this.authenticationService.getReg(filtro, 'frmmovils', 0).then((data) => {\n       this.efecto = 1;\n       this.items =  data;\n       this.itemsList = this.items;\n }, (err) => {\n   this.authenticationService.presentAlert(err.error , this.msg , '');\n });\n  }\n\n\n\n  public getKeys3(data, op) {\n    let re = '';\n    if (data) {       for (let i = 0; i < data.length; i++) {\n            if (data[i].name === op) {\n                re = data[i].nombre;\n\n            }\n\n            }\n    } else {re = ''; }\n\nreturn re;\n\n  }\n\n\n\n  public dahora(data) {\n    let re = '';\n    const aa = data.split('T');\n    if (aa[0]) {\n    const bb = (aa[1]).split(':');\n    if (bb[0]) {\n    re = bb[0] + ':' + bb[1];\n    /*renderDateTime('hh:mm A', {day: 1,\n      hour: Number(bb[0]),\n      millisecond: 0,\n      minute:  Number(bb[1]),\n      month: 1,\n      second: 0,\n      tzOffset: 0,\n      year: 2019}, {dayNames: undefined,\n        dayShortNames: undefined,\n        monthNames: undefined,\n        monthShortNames: undefined});\n        */\n\n      }\n\n\n    }\n  // DD/MM/YYYY hh:mm A\n  return re;\n\n }\n\n  public dafecha(data) {\n  let  re = '';\n  if (data) {\n    re = data.substr(0, 10);\n    const aa = re.split('-');\n    if (aa[0]) {\n    re = aa[2] + '-' + aa[1] + '-' + aa[0];\n    }\n  }\n   return re;\n  }\n\n  public dafechacompleta(data) {\n    let  re = '';\n\n      const aa = data.split('T');\n      if (aa[0]) {\n      re = this.dafecha(aa[0]) + ' ' + this.dahora(data);\n      }\n     return re;\n    }\n\n  public getKeys2(data) {\n    if (data) {      if (data.key)   {    return  data.label;   }  else  {   return data;  }\n    } else {return ''; }\n\n\n\n  }\n  public getKeys(data) {\n    const keyst: any = [];\n    const keystaa: any = [];\n   // var keys2:any=[];\n    this.keys = Object.keys(data);\n    let cadurs = '';\n    let cadurs2 = '';\n    let cadurs3 = '';\n    for (let i = 0; i < this.keys.length; i++) {\n      const aa = this.keys[i];\n      switch (aa) {\n        case '_id':     break;\n        case '_v':      break;\n        case '__v':      break;\n        case 'usuarionew':\n        cadurs = 'Creacin [' +  data[aa] + ' , '; break;\n        case 'usuarioup':\n        cadurs2 = 'Actualiza [' +  data[aa] + ' , ';  break;\n        case 'createdAt':\n        cadurs = cadurs + '' +  (data[aa]).substring(0, 10) + ']';  break;\n        case 'updatedAt':\n        cadurs2 = cadurs2 + '' +  (data[aa]).substring(0, 10) + ']';  break;\n        case 'geoposicion':\n          cadurs3 = cadurs3 + ' <a href=\"https://www.google.com/maps/search/?api=1&query=' +\n          data[aa].replace('', ',') + '\" target=\"_blank\">https://www.google.com/maps/search/?api=1&query=' + data[aa].replace('', ',')\n           + '</a> ' ;  break;\n        default:\n\n        const pone = this.getKeys3(this.cmpver, aa);\n        if (pone !== '') {// moment(date).format('DD-MM-YYYY');\n              // var aareg:any=aa;\n              let tcampo: any = '';\n              if (aa.includes('fechahora')) {tcampo = 'fechahora'; } else {\n                if (aa.includes('fecha')) {tcampo = 'fecha'; } else {\n                  if (aa.includes('hora')) {tcampo = 'hora'; }\n                }\n\n              }\n\n\n              if (aa.includes('imagen')) {tcampo = 'imagen'; }\n              if (aa.includes('foto')) {tcampo = 'imagen'; }\n\n              switch (tcampo) {\n                case 'fechahora':\n                keyst.push('<strong>' +  this.getKeys3(this.cmpver, aa)  + '</strong> : ' + this.dafechacompleta(this.getKeys2(data[aa])));\n                break;\n                case 'fecha':\n                   keyst.push('<strong>' +  this.getKeys3(this.cmpver, aa)  + '</strong> : ' + this.dafecha(this.getKeys2(data[aa])));\n                   break;\n                case 'hora':\n                   keyst.push('<strong>' +  this.getKeys3(this.cmpver, aa)  + '</strong> : ' + this.dahora(this.getKeys2(data[aa])) );\n                   break;\n                   case 'imagen':\n                   keyst.push('<strong>' +  this.getKeys3(this.cmpver, aa)  + '</strong> :  <img src=\"' + this.apifoto +  this.getKeys2(data[aa]) + '\"   class=\"circle-pic\"  height=\"50 px\" width=\"50 px\"> '  );\n                   break;\n                default:\n                keyst.push('<strong>' +  this.getKeys3(this.cmpver, aa)  + '</strong> : ' + this.getKeys2(data[aa]) );\n              }\n\n        }\n        break;\n      }\n    }\n\n    // keyst.push(cadurs + ' ' + cadurs2);\n    if ( this.geoposiciontxt === '') {\n      keystaa.push(cadurs + ' <br>' + cadurs2 );\n    } else {\n      keystaa.push(cadurs + ' <br>' + cadurs2 + ' <br>' + cadurs3);\n    }\n\n    this.keys = keyst;\n    this.keysaa = keystaa;\n/*\n    for(var i2 = 0; i2 < keyst.length; i2++) {\n      keys2.push(keyst[i2])\n    }\n    keys2.push(cadurs + ' ' +cadurs2)\n    this.keys=keys2*/\n    return true;\n  }\n  searchList() {\n    this.searchSubject.next({\n     lower: this.rangeForm.controls.dual.value.lower,\n     upper: this.rangeForm.controls.dual.value.upper,\n     query: this.searchQuery\n   });\n    const query = (this.searchQuery && this.searchQuery !== null) ? this.searchQuery : '';\n    this.itemsList = this.filterList(this.items, query);\n  }\n filterList(list, query): Array<any> {\n   return list.filter(item => item.nombre.toLowerCase().includes(query.toLowerCase()));\n  }\n  async otrasop(item: any) {\n      const alert = await this.alertController.create({\n        cssClass: 'my-custom-class',\n       header: 'Ingrese detalle de formulario',\n       inputs: this.items2,\n       buttons: [\n         {\n           text: 'Cancel',\n           role: 'cancel',\n           cssClass: 'secondary',\n           handler: (todo) => {\n             console.log(todo);\n           }\n         }, {\n           text: 'Ok',\n           handler: (todo) => {\n             const arr = todo.split('');\n\n\n             if ( arr[4] === 'Check List Detalle') {\n\n              this.combodatoscheck0(this.idformulario, item, arr[0], arr[3]);\n\n\n\n             } else {\n\n             this.authenticationService.getReg(arr[1] , 'frmmovils', 0).then((datao) => {\n\n\n    this.authenticationService.getReg(arr[1] + '/formulariocamposver/'  + this.userinfo[0].idempresa._id , 'frmmovils', 0).then((data) => {\n\n      const arre: any = [];\n      arre.push({tabla: this.nidformulario, idtabla: this.idformulario, item: item});\n      const navigationExtras: NavigationExtras = {\n        state: {\n          variables: this.variables,\n          permisosorden: this.permisosorden,\n          user: null,\n          idllave0: item._id,\n          idllave:  datao[0]._id,\n          datat: data,\n          verregistros:  this.verregistros,\n          idcategoria: datao[0].categoria,\n          idcampo: arr[0],\n          idformulario: datao[0]._id,\n          nidformulario: datao[0].nombre,\n          regitrosacumulados: arre,\n          tipo2: datao[0].tipo2,\n          ejecuta: datao[0].ejecuta,\n          tipo: datao[0].tipo,\n          title: arr[3],\n          rranterior: '',\n          rrsiguiente: '3',\n          noreg: arr[5],\n          geoposicion: datao[0].geoposicion\n        }\n      };\n\n\n      this.router.navigate(['formulariomovilsd2ListPage'], navigationExtras);\n}, (err) => {  this.authenticationService.presentAlert(err.error , this.msg , ''); });\n}, (err) => {  this.authenticationService.presentAlert(err.error , this.msg , ''); });\n\n\n\n           }}\n         }\n       ]\n     });\n     await alert.present();\n }\n\n async deleteRecord(item: any) {\n  if (this.tipo2 === 'Formulario') {\n  const alert = await this.alertController.create({\n    header: this.seguro,\n    message: '',\n    buttons: [\n      {\n        text: 'No',\n       cssClass: 'secondary',\n        handler: (blah) => {\n        }\n      }, {\n         text: 'Si',\n         handler: () => {\n           const recordID: string\t\t= item._id;\n           this.authenticationService.deleteReg(recordID + '/' + this.idformulario + '/' + this.userinfo[0].email + '/' + this.userinfo[0].idempresa._id  + '/'\n           + 'na' , 'frmmovils').then((data) => {\n             this.pideregistros( this.currentSegment);\n             }, (err) => {\n               this.authenticationService.presentAlert(err.error, this.msg, '');\n           });\n         }\n       }\n     ]\n   });\n   await alert.present();\n  }\n }\n async updateRecord(item: any) {\n  \n\n\n\n   if (this.tipo2 === 'Formulario') {\n\n\n    const arre: any = [];\n    arre.push({tabla: this.nidformulario, idtabla: this.idformulario, item: item});\n\n       \n    const navigationExtras: NavigationExtras = {\n      state: {\n        variables:  this.variables, record: item, title: this.nidformulario,\n        record2: {vista:this.currentSegment,permisosorden:this.permisosorden,actorcorreo:this.actorcorreo,acciones: this.acciones, actividades: this.actividades, tipo: this.tipo, tipo2: this.tipo2, ejecuta: this.ejecuta,  geoposicion:  this.geoposicion, regitrosacumulados: arre, idcategoria: this.idcategoria, idformulario: this.idformulario, nidformulario: this.nidformulario},\n        userinfo: this.userinfo\n      }\n    };\n    this.router.navigate(['formulariomovilsproceso2CreatePage'], navigationExtras);\n\n   \n\n/*\n   const modal = await this.modalController.create({\n     component: formulariomovilsproceso2CreatePage,\n     swipeToClose: true,\n     presentingElement: this.routerOutlet.nativeEl,\n     componentProps:  { variables:  this.variables, record: item, title: this.nidformulario,\n      record2: {acciones: this.acciones, actividades: this.actividades, tipo: this.tipo, tipo2: this.tipo2, ejecuta: this.ejecuta,  geoposicion:  this.geoposicion, regitrosacumulados: arre, idcategoria: this.idcategoria, idformulario: this.idformulario, nidformulario: this.nidformulario},\n      userinfo: this.userinfo}\n     , cssClass: 'modal-fullscreen'\n   });\n   modal.onWillDismiss().then((data) => {\n     if ( data.data !== 'close' ) {\n     this.pideregistros( this.currentSegment);\n     }\n   });\n   return await modal.present();\n   */\n  }\n}\n\n\nasync buscarpororden() {\n  const alert = await this.alertController.create({\n    cssClass: 'my-custom-class',\n   header: 'Ingrese No. Orden ha buscar (Omita los ceros a la izquierda)',\n   inputs: [{\n    name: 'campo2',\n    label: 'Buscar',\n    placeholder: '',\n    \n  }],\n   buttons: [\n     {\n       text: 'Cancel',\n       role: 'cancel',\n       cssClass: 'secondary',\n       handler: (todo) => {\n         console.log(todo);\n       }\n     }, {\n       text: 'Buscar',\n       handler: (todo) => {\n\n        this.itemsList = [];\n        this.efecto = 0 ;\n    this.authenticationService.getReg(this.idllave + '/' + todo.campo2 +\n    '/' + this.userinfo[0].idempresa._id + '' + this.idllave + '/' + 'unregistromovilnoorden',  'frmmovils', 0).then((data) => {\n      this.efecto = 1;\n      this.items =  data;\n      this.itemsList = this.items;\n\n    });\n\n\n\n       }\n     }\n   ]\n });\n await alert.present().then(() => {\n  const firstInput: any = document.querySelector('ion-alert input');\n  firstInput.focus();\n  return;\n});\n}\n\n\nasync  ejecutaoperacion() {\n}\n  async  addRecord() {\n\n\n    if (  this.geoposicion === 'true' &&  this.geoposiciontxt === '') {\n      this.authenticationService.presentAlert('Este formulario requiere la geoposicin antes de crear registros', this.msg, '');\n      return;\n    }\n\n    const arre: any = [];\n    arre.push({tabla: this.nidformulario, idtabla: this.idformulario, item: null});\n   const modal = await this.modalController.create({\n     component: formulariomovilsprocesoCreatePage,\n     swipeToClose: false,\n     backdropDismiss: false,\n    animated: true,\n\n\n     presentingElement: await this.modalController.getTop(),\n     componentProps:  { variables:  this.variables, record: null, title: this.nidformulario,\n      record2: {vista:this.currentSegment,actorcorreo:this.actorcorreo, acciones: this.acciones, actividades: this.actividades, tipo: this.tipo, tipo2: this.tipo2, ejecuta: this.ejecuta, geoposiciontxt:  this.geoposiciontxt, regitrosacumulados: arre, idcategoria: this.idcategoria, idformulario: this.idformulario, nidformulario: this.nidformulario},\n      userinfo: this.userinfo}\n     , cssClass: 'modal-fullscreen'\n   });\n   modal.onWillDismiss().then((data) => {\n        if ( data.data !== 'close' ) {\n       this.pideregistros( this.currentSegment);\n     }\n   });\n   return await modal.present();\n  }\n\n\n\n\n   loadData(event) {\n    setTimeout(() => {\n      event.target.complete();\n      if ( this.items.length === 1000) {\n        event.target.disabled = true;\n      }\n    }, 500);\n  }\n\n  isIos() {\n    const win = window as any;\n    return win && win.Ionic && win.Ionic.mode === 'ios';\n  }\n  async  showFilter() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n     header: 'Por que campo quiere buscar?',\n     inputs: this.camposbusqueda,\n     buttons: [\n       {\n         text: 'Cancel',\n         role: 'cancel',\n         cssClass: 'secondary',\n         handler: (todo) => {\n           console.log(todo);\n         }\n       }, {\n         text: 'Ok',\n         handler: (todo) => {\n          this.showFilter2(todo);\n         }\n       }\n     ]\n   });\n   await alert.present();\n  }\n\n\n  async  showFilter2(todo2) {\n    const arr = (todo2).split('');\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n     header: 'Ingrese informacin a buscar',\n     inputs: [{\n      name: 'campo2',\n      label: 'Buscar',\n      placeholder: '',\n      type: arr[1]\n    }],\n     buttons: [\n       {\n         text: 'Cancel',\n         role: 'cancel',\n         cssClass: 'secondary',\n         handler: (todo) => {\n           console.log(todo);\n         }\n       }, {\n         text: 'Ok',\n         handler: (todo) => {\n\n\n          this.itemsList = [];\n          this.efecto = 0 ;\n\n          let filtro = '';\n          if ( this.verregistros === 'Ver solo los mios') {\n            filtro = this.idformulario + '/'  + arr[0] +   '/' + todo.campo2  + '/' + this.userinfo[0].idempresa._id + '' +  this.userinfo[0].email;\n\n          } else {\n            filtro = this.idformulario + '/'  + arr[0] +   '/' + todo.campo2  + '/' + this.userinfo[0].idempresa._id + 'todos' ;\n          }\n\n\n          this.authenticationService.getReg( filtro, 'frmmovils', 0).then((data) => {\n            this.efecto = 1;\n            this.items =  data;\n            this.itemsList = this.items;\n\n\n      }, (err) => {\n        this.authenticationService.presentAlert(err.error, this.msg, '');\n       });\n\n         }\n       }\n     ]\n   });\n   await alert.present().then(() => {\n    const firstInput: any = document.querySelector('ion-alert input');\n    firstInput.focus();\n    return;\n  });\n  }\n\n  public davaloritem(data, campo) {\n\t\tlet val = '';\n    if (data[campo]) {val = data[campo]; } else {val = ''; }\n\t\treturn val;\n\t}\n\n\n\n  async combodatoscheck0( idform, itemxx, idcampo, titulo) {\n\n    let nombrecampo = '';\n  this.authenticationService.getReg(idform + '' + idcampo +  '/formulariodidxx/' + this.userinfo[0].idempresa._id, 'frmmovils', 0).then((data) => {\n    let aa: any;\n    const len: any = data;\n    for (let i = 0; i < len.length; i++) {\n      const rquer = len[i].required; let sireque = '';\n      if (rquer === 'true') {sireque = ' (*)'; }\n      let valort = '';\nif (len[i].type === 'imagen') {\nvalort =  this.davaloritem(itemxx, len[i].name);\n} else {\nvalort = this.davaloritem(itemxx, len[i].name);\n}\n\n\n\n      if (!valort) {valort = ''; }\n      if (len[i].type === 'label') {valort = '.'; }\n\n\n        if (len[i].type === 'select3' ) {\n          const arre: any = [];\n          arre.push({tabla: this.nidformulario, idtabla: this.idformulario, item: itemxx});\n          nombrecampo = len[i].name;\n          aa = {'idformulario': idform, 'idcampo': len[i]._id, 'actualiza': 'si', verregistros: len[i].verregistros,\n            'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': len[i].required,\n            'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n            'disabled': len[i].disabled,\t'hidden': len[i].hidden,\t'title': len[i].title + sireque,\n            'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': ''\n            , 'valor': valort,\n            'default2': len[i].default2, 'default3': len[i].default3,\n            'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': '' ,\n            'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n              'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\n                'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t,\n                'idfrmconsulta': len[i].idfrmconsulta, 'idfrmconsulta2': len[i].idfrmconsulta2,\n                'idfrmconsulta2origen': len[i].idfrmconsulta2origen, 'idfrmconsultaorigen': len[i].idfrmconsultaorigen,\n                 'usarunaves': len[i].usarunaves, 'idcampofiltro': len[i].idcampofiltro, 'idcampofiltro2': len[i].idcampofiltro2,\n                 'idcampofiltromanual': len[i].idcampofiltromanual, 'regitrosacumulados':  arre\n              , 'idfrmconsultaorigenpapa': len[i].idfrmconsultaorigenpapa, 'idcampofiltropapa': len[i].idcampofiltropapa};\n\n\n\n        }\n\n      }\n\n      this.combodatoscheck(aa, itemxx, titulo, idcampo, nombrecampo);\n\n\n\n}, (err) => {\nthis.authenticationService.presentAlert(err.error , 'Precaucin' , '');\n\n\n});\n\n}\n\n\n  async combodatoscheck( op4, itemxx, titulo, idcampo, nombrecampo) {\n    // 'unidadmedida-plantilla','frmcats','unidad','Unidad de medida'\n  // catalogot, frmt, comp, labelx,\n\n  const arr = itemxx;\n  if (op4.actualiza === 'no') {\n\n    for (let i = 0; i < op4.regitrosacumulados.length; i++) {\n      if (op4.regitrosacumulados[i].idtabla === op4.idformulario) {\n        op4.regitrosacumulados[i].item = arr;\n      }\n    }\n\n\n  }\n\nlet    grabart = 'sigraba';\n  if (op4.combofijo === 'true') {\n   grabart = 'nograba';\n  }\nlet  siformulatiot = '';\n  if (op4.idfrmconsulta) {\n    if (op4.idfrmconsulta.id !== ''  && op4.idfrmconsulta.id !== undefined) {\n      siformulatiot = 'si';\n      grabart = 'formulariott';\n\n    }\n\n  }\nlet vfiltro = '';\nlet cadenatexto = '';\n\n  if (op4.idcampofiltro !== undefined && op4.idcampofiltro !== '') {\n\n\n          for (let i = 0; i < op4.regitrosacumulados.length; i++) {\n            if (op4.regitrosacumulados[i].idtabla === op4.idfrmconsultaorigen.id) {\n\n\n              for (let j = 0; j < op4.idfrmconsulta2origen.length; j++) {\n                cadenatexto = cadenatexto + op4.idfrmconsulta2origen[j].nombre + ': ' +  op4.regitrosacumulados[i].item[op4.idfrmconsulta2origen[j].nombre]  + '';\n              }\n              cadenatexto = cadenatexto +  '' + op4.regitrosacumulados[i].item._id ;\n\n            }\n          }\n\n\n\n\n          if (op4.verregistros === 'Ver solo los mios') {\n            if (op4.idcampofiltropapa !== ''   && op4.idcampofiltropapa !== undefined ) {\n              vfiltro = '\"' + op4.idcampofiltropapa + '\"' + ':' + '\"' + cadenatexto +  '\"' + ',\"' + 'usuarionew' + '\"' + ':' + '\"' + this.userinfo[0].email +  '\"';\n            } else {\n              vfiltro = '\"' + op4.idcampofiltro + '\"' + ':' + '\"' + cadenatexto +  '\"' + ',\"' + 'usuarionew' + '\"' + ':' + '\"' + this.userinfo[0].email +  '\"';\n          }\n\n\n          } else {\n\n            if (op4.idcampofiltropapa !== ''   && op4.idcampofiltropapa !== undefined ) {\n            vfiltro = '\"' + op4.idcampofiltropapa + '\"' + ':' + '\"' + cadenatexto +  '\"';\n          } else {\n\n            vfiltro = '\"' + op4.idcampofiltro + '\"' + ':' + '\"' + cadenatexto +  '\"';\n          }\n\n            }\n\n\n\n\n  } else {\n\n        if (op4.verregistros === 'Ver solo los mios') {\n          vfiltro = '\"' + 'usuarionew' + '\"' + ':' + '\"' + this.userinfo[0].email +  '\"';\n        }\n  }\n\n  if (op4.idcampofiltropapa !== ''   && op4.idcampofiltropapa !== undefined ) {\n\n\n    const cadff = op4.idfrmconsultaorigenpapa.id + '/' + vfiltro + '/' + this.userinfo[0].idempresa._id   + '/formulariosolopapa/';\n\n    this.authenticationService.getReg(cadff, 'frmmovils', 0).then(async (data) => {\n    let valores: any = [];\n\n    if (op4.type === 'select3') {\n      valores = op4.valor.split('')[0].split(';');\n    }\n\n\n      const modal2 = await this.modalController.create({\n        component: MyModalComboPage,\n        swipeToClose: false,\n        backdropDismiss: false,\n       animated: true,\n        presentingElement: await this.modalController.getTop(),\n        componentProps: {idcampofiltromanual: op4.idcampofiltromanual, tarraymultiple: valores, tipo: op4.type, idpapafiltro: data[0]._id, filtrar: vfiltro, idfrmconsulta : op4.idfrmconsulta, idfrmconsulta2: op4.idfrmconsulta2, siformulatiot: siformulatiot, variables:  '', userinfo: '', grabax: grabart, vector: op4.options\n          ,  record2 : null , op: op4.idcampo, frm: 'frmcats', idllave : '', titlex: 'Buscar ' + op4.title}\n        // , cssClass: 'modal-fullscreen'\n      });\n      modal2.onWillDismiss().then((data) => {\n        let datax: any = [];\n        datax = data;\n          if (datax.data !==  'close') {\n            if (datax.data) {\n\n\n         //     arr[op4.key] = datax.data.correos   ;  nombrecampo\n\n\n         this.authenticationService.getReg(this.idformulario +  '/formulariod/' + this.userinfo[0].idempresa._id, 'frmmovils', 0).then((data) => {\n          const campost: any = {};\n          const len: any = data;\n          for (let i = 0; i < len.length; i++) {\n            const aa = len[i].name;\n            let valort = '';\n            if (len[i].type === 'imagen') {\n              valort =  this.davaloritem(itemxx, len[i].name);\n            } else {\n              valort = this.davaloritem(itemxx, len[i].name);\n            }\n\n            if (!valort) {valort = ''; }\n            if (len[i].type !== '') {\n            if (aa === nombrecampo) {\n              campost[aa] = datax.data.correos + '' +datax.data.correos2 ;\n            } else {\n              campost[aa] = valort;\n            }\n          }\n         //   campost.push({aa : valort });\n          }\n\n          campost['usuarioup'] = this.userinfo[0].email;\n          campost['idempresa'] = this.userinfo[0].idempresa._id;\n\n\n          const   options: any\t     = {\n            idcat: this.idcategoria,\n            idform: this.idformulario,\n            estructura: campost,\n            bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n            email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'Actualiza en formulario movil'}\n           };\n\n          if (options) {\n            this.authenticationService.createRegmovil(itemxx._id, options, 'frmmovils').then((result) => {\n              this.pideregistros( this.currentSegment);\n\n          }, (err) => {\n            this.authenticationService.presentAlert(err.error , 'Precaucin' , '');\n          });\n          }\n\n\n\n        });\n\n\n              }\n          }\n\n\n      });\n      return await modal2.present();\n\n}, (err) => {\n  this.authenticationService.presentAlert(err.error, 'Precaucin', '');\n });\n\n\n\n\n\n\n  } else {\n\n\n    const modal = await this.modalController.create({\n      component: MyModalComboPage,\n      swipeToClose: false,\n      backdropDismiss: false,\n     animated: true,\n      presentingElement: await this.modalController.getTop(),\n      componentProps: { idcampofiltromanual: op4.idcampofiltromanual, tipo: op4.type, filtrar: vfiltro, idfrmconsulta : op4.idfrmconsulta, idfrmconsulta2: op4.idfrmconsulta2, siformulatiot: siformulatiot, variables:  '', userinfo: '', grabax: grabart, vector: op4.options\n        ,  record2 : null , op: op4.idcampo, frm: 'frmcats', idllave : '', titlex: 'Buscar ' + titulo}\n      // , cssClass: 'modal-fullscreen'\n    });\n    modal.onWillDismiss().then((data) => {\n      let datax: any = [];\n      datax = data;\n        if (datax.data !==  'close') {\n          if (datax.data) {\n\n            this.authenticationService.getReg(this.idformulario +  '/formulariod/' + this.userinfo[0].idempresa._id, 'frmmovils', 0).then((data) => {\n              const campost: any = {};\n              const len: any = data;\n              for (let i = 0; i < len.length; i++) {\n                const aa = len[i].name;\n                let valort = '';\n                if (len[i].type === 'imagen') {\n                  valort =  this.davaloritem(itemxx, len[i].name);\n                } else {\n                  valort = this.davaloritem(itemxx, len[i].name);\n                }\n\n                if (!valort) {valort = ''; }\n                if (len[i].type !== '') {\n                if (aa === nombrecampo) {\n                  campost[aa] = datax.data.correos;\n                } else {\n                  campost[aa] = valort;\n                }\n              }\n             //   campost.push({aa : valort });\n              }\n\n              campost['usuarioup'] = this.userinfo[0].email;\n              campost['idempresa'] = this.userinfo[0].idempresa._id;\n\n\n              const   options: any\t     = {\n                idcat: this.idcategoria,\n                idform: this.idformulario,\n                estructura: campost,\n                bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n                email: this.userinfo[0].email , permiso : 'Actualiza', accion: 'Actualiza en formulario movil'}\n               };\n\n              if (options) {\n                this.authenticationService.createRegmovil(itemxx._id, options, 'frmmovils').then((result) => {\n                  this.pideregistros( this.currentSegment);\n\n              }, (err) => {\n                this.authenticationService.presentAlert(err.error , 'Precaucin' , '');\n              });\n              }\n\n\n\n            });\n\n\n\n            }\n        }\n\n\n    });\n    return await modal.present();\n\n  }\n\n\n}\n\n\n}\n"," <ion-header>\n <ion-toolbar color=\"primary\">\n   <ion-buttons slot=\"start\">\n    <ion-back-button defaultHref=\"categoriaformularioListPage\"></ion-back-button>\n   </ion-buttons>\n   <ion-title>\n     {{tituloxx}}\n   </ion-title>\n   <ion-buttons slot=\"end\">\n    <ion-button *ngIf=\"tipo2 === 'Formulario' && permisosorden.pcreacion==='true'\"  title=\" {{ 'AGREGARM' | translate }}\" (click)=\"addRecord()\">\n      <ion-icon slot=\"icon-only\" name=\"add\"></ion-icon>\n    </ion-button>\n    <ion-button *ngIf=\"tipo2 !== 'Formulario'\"  title=\"Ejecutar operacin\" (click)=\"ejecutaoperacion()\">\n     \n      <ion-icon  slot=\"icon-only\"  name=\"play-skip-forward-circle-outline\"></ion-icon>\n    </ion-button>\n    <ion-button *ngIf=\"permisosorden.filtrarorden==='true'\" title=\"Buscar por No. orden\" (click)=\"buscarpororden()\">\n      \n      <ion-icon slot=\"icon-only\" name=\"filter-outline\"></ion-icon>\n    </ion-button>\n     <ion-button title=\" {{ 'REFRESCARM' | translate }}\" (click)=\"pideregistros0()\">\n       <ion-icon slot=\"icon-only\" name=\"refresh-circle-outline\"></ion-icon>\n     </ion-button>\n    \n   </ion-buttons>\n </ion-toolbar>\n <ion-toolbar class=\"filters-toolbar\">\n   <ion-row class=\"searchbar-row\" align-items-center>\n     <ion-col>\n       <ion-searchbar title=\"{{idformulario}}\" animated [(ngModel)]=\"searchQuery\" (ionChange)=\"searchList()\" placeholder=\"{{ 'BUSCARM' | translate }}\"></ion-searchbar>\n     </ion-col>\n     <ion-col  class=\"call-to-action-col\">\n       <ion-button fill=\"clear\" color=\"secondary\" class=\"filters-btn\" title=\" {{ 'FILTROM' | translate }}\" (click)=\"showFilter()\">\n         <ion-icon slot=\"icon-only\" name=\"options\"></ion-icon>\n       </ion-button>\n     </ion-col>\n   </ion-row>\n\n </ion-toolbar>\n</ion-header>\n<ion-content [fullscreen]=\"true\" class=\"user-friends-content\">\n <ion-item-divider sticky>\n   <ion-label *ngIf=\"(itemsList?.length > 0) \" >{{ 'NOREGISTROSM' | translate }}: {{itemsList.length}}</ion-label>\n </ion-item-divider>\n \n <ion-segment (ionChange)=\"filterContacts($event)\" value=\"activa\">\n  <ion-segment-button *ngIf=\"permisosorden.activas==='true'\" value=\"activa\" checked>\n   \n    <ion-label> ACTIVAS</ion-label> \n  </ion-segment-button>\n  <ion-segment-button *ngIf=\"permisosorden.cerradas==='true'\" value=\"cerrada\">\n    <ion-label>  CERRADAS</ion-label> \n   </ion-segment-button>\n   <ion-segment-button *ngIf=\"permisosorden.ejecutadas==='true'\" value=\"ejecutadas\">\n    <ion-label> EJECUTADAS</ion-label> \n   </ion-segment-button>\n   \n</ion-segment>\n\n\n <ion-list *ngIf=\"efecto === 0\" >\n   <ion-item lines=\"none\" *ngFor=\"let item of [0,1,2,3,4,5,6]\">\n     <ion-label>\n       <skeleton-element></skeleton-element>\n       <skeleton-element></skeleton-element>\n       <skeleton-element width=\"67%\"></skeleton-element>\n     </ion-label>\n   </ion-item>\n </ion-list>\n\n  <ion-list  *ngIf=\"(itemsList?.length > 0) \">\n  <ion-item (click)=\"updateRecord(item)\"  *ngFor=\"let item of itemsList ;let i = index;\" [routerLink]=\"\">\n    \n      <div slot=\"start\" [class]=\"!item.leidoxxx ? 'dot dot-unread' : 'dot'\"></div>\n      <ion-label class=\"ion-text-wrap\">\n        <h2>\n          {{ item.enviadoporxxx }}\n          <span class=\"date\">\n            <ion-note>{{ item.updatedAt | date:'dd-MM-yyyy h:mm a'  }}</ion-note>\n            <ion-icon name=\"chevron-forward\" size=\"small\" *ngIf=\"isIos()\"></ion-icon>\n          </span>\n        </h2>\n        <h3>No orden: {{ item.sequencia }}</h3>\n        <h3>Actividad:{{ item.actividadxxx }}</h3>\n        <p>\n          <span >\n            <div  class=\"first-letter2\">\n              Creacin [{{item.usuarionew}}-{{item.createdAt | date:'dd-MM-yyyy, hh:mm aaa'}}]<br>\n              Actualiza [{{item.usuarioup}}-{{item.updatedAt | date:'dd-MM-yyyy, hh:mm aaa'}}]<br>\n             \n            </div> \n            </span>\n        </p>\n      </ion-label>\n     \n\n  </ion-item>\n</ion-list>\n\n\n <h3 *ngIf=\"itemsList?.length == 0\" class=\"empty-list-message\">\n   {{ 'NODATOS' | translate }}  \n </h3>\n <ion-infinite-scroll threshold=\"100px\" (ionInfinite)=\"loadData($event)\">\n   <ion-infinite-scroll-content\n     loadingSpinner=\"bubbles\"\n     loadingText=\"Espere un momento...\">\n   </ion-infinite-scroll-content>\n </ion-infinite-scroll>\n</ion-content>\n","\n<ion-header>\n        <ion-toolbar color=\"primary\">\n                <ion-buttons slot=\"end\">\n                        <ion-button (click)=\"dismissModal()\">\n                           <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n                        </ion-button>\n                </ion-buttons>\n                <ion-title>{{tituloxx}}</ion-title>\n        </ion-toolbar>\n</ion-header>\n<ion-content class=\"create-form-content\">\n    <section class=\"user-details-fields fields-section\">\n    \n        <div *ngIf=\"controls else loading\" >\n              \n\n                <dynamic-form #dynamicForm=\"dynamicForm\" [controls]=\"controls\" [form]=\"form\"></dynamic-form>\n        </div>\n            \n\t<ng-template #loading>\n\t\t<div class=\"loading\">\n\t\t\tObteniendo Informacin...\n\t\t</div>\n        </ng-template>\n\n  </section>\n</ion-content>  \n<ion-footer>\n  <ion-row class=\"form-actions-wrapper\">\n    <ion-col   >\n      <ion-button [hidden]='!muestrabien'  (click)=\"submitForm0()\" color=\"primary\" expand=\"block\" \n      fill=\"outline\" type=\"submit\">ENVIAR A</ion-button>\n      </ion-col>\n  </ion-row>\n</ion-footer>\n\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'skeleton-element',\n  templateUrl: './skeleton-element.component.html',\n  styleUrls: ['./skeleton-element.component.scss'],\n})\nexport class SkeletonElementComponent implements OnInit {\n  @Input() width: string = '100%';\n  @Input() height: string = '16px';\n  @Input() borderRadius: string = '0';\n  @Input() rounded: boolean = false;\n  @Input() noAnimated: boolean = false;\n  @Input() inline: boolean = false;\n\n  styles: any = {};\n\n  ngOnInit() {\n    this.styles = {\n      width: this.width,\n      height: this.height,\n      borderRadius: this.borderRadius,\n    }\n\n    if (this.rounded) {\n      this.styles.borderRadius = '999em';\n    }\n  }\n}\n","<div\n  [ngClass]=\"{\n    'no-animated': noAnimated,\n    'inline': inline\n  }\"\n  [ngStyle]=\"styles\"\n></div>\n"]}