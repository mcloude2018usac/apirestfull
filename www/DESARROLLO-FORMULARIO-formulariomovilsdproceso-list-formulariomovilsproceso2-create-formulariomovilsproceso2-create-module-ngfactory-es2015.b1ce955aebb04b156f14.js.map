{"version":3,"sources":["webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsproceso2-create/formulariomovilsproceso2-create.module.ts","webpack:///src/app/DESARROLLO/modals/about-popover3/about3-popover.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsproceso2-create/formulariomovilsproceso2-Create.page.ts","webpack:///src/app/DESARROLLO/FORMULARIO/formulariomovilsdproceso-list/formulariomovilsproceso2-create/formulariomovilsproceso2-create.page.html","webpack:///src/app/DESARROLLO/modals/about-popover3/about3-popover.ts.Popover3Page.html"],"names":["formulariomovilsproceso2CreatePageModule","Popover3Page","popoverCtrl","navParams","permisosorden","this","get","otras","dismiss","url","data","location","alertController","router","modalController","controlsService","translateService","authenticationService","actionSheetController","variables","userinfo","tituloxx","seguro","msg","vgrupo","fechascompone","horascompone","actividades","acciones","submitted","submitted2","actorcorreo","botonesactividad","camposmodifica","camposlectura","muestrabien","apifoto","getapifoto","getcopiauser","getCurrentNavigation","extras","state","title","titleoo","record2","idcategoria","nidformulario","idformulario","regitrosacumulados","vista","geoposiciontxt","tipo2","tipo","ejecuta","dataitem","record","subscribe","value","actactual","daactividadactual","daacciones","_id","lpermiso","daactividadactual2","idactividadxxx","_ID","form","onValueChanges","valueChanges","val","campo","event","navigate","keyxxx","idllave","alert","create","header","message","buttons","text","cssClass","handler","blah","deleteReg","email","idempresa","then","retornaordenes","back","err","presentAlert","error","present","opcion","eliminaorden","push","name","type","label","checked","inputs","role","todo","console","log","deleteRecord","popover","component","componentProps","onWillDismiss","idfomulario","otrasop","geoposicion","accion","op","j","i","length","idpapa","nombre","key","clase","re","idx","vcampos","idcampo","camposmodificables","undefined","id","split","getReg","aa","len","rquer","required","sireque","valort","valor2t","default","dalistacat","options","lecturacc","modificablecc","noexistecc","visiblecc","requeridocc","existecampo","verregistros","order","placeholder","display","selected","position","labelsizefondt","default2","default3","categoria","combofijo","tt","fondoetiqueta","coloretiqueta","blike","rangomin","rangomax","rangostep","alfatypo","idfrmconsulta","idfrmconsulta2","idfrmconsulta2origen","idfrmconsultaorigen","usarunaves","idcampofiltro","idcampofiltro2","idcampofiltromanual","idfrmconsultaorigenpapa","idcampofiltropapa","controls","getControls","davaloritem","submitForm","item","status","creat","actividadsiguiente","estado","subtipo","pmoxx","pmodulo","arr","i2","actsiguiente","daactividadsiguiente","actor","estadoorden","idcat","idform","estructura","trayectoria","idorden","usuariocreador","minutos","tipocreacionorden","tipoform","salioorden","tipo2form","categoriaform","idactividad","actoractividad","claseactividad","nombreactividad","tipoactividad","etapaactividad","etapa","idaccion","tipoaccion","subtipoaccion","nombreaccion","estadoaccion","actividadsiguienteaccion","bitacora","idafiliado","permiso","createRegmovil","result","dataff","operacion","idtrayectoria","idmovil","fechaactual","createdAt","usuarioejecutor","result2","correos","usuarios","i3","correo","notificacionemail","replace","usuarionew","msg2","foto0","notificacionmsm","filtered","filter","el","mandamail","destino","html","subjet","actualiza","otros","op2","uub","modal","swipeToClose","backdropDismiss","animated","presentingElement","getTop","uubx","setValue","direccion","la","lo","image","Camera","getPhoto","correctOrientation","height","width","quality","allowEditing","resultType","DataUrl","source","generateFromImage","dataUrl","fotoimg","procesafoto","controlx","firstFileToBase64","fotoa","uploadPWA2","nativeElement","files","fileImage","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","onerror","Error","click","actionSheet","icon","takePicture2","takePicture","catalogot","frmt","comp","labelx","sigraba","grabax","frm","titlex","datax"],"mappings":"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","file":"x","sourcesContent":["import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule} from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ComponentsModule } from '../../../../components/components.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgxIonicImageViewerModule } from 'ngx-ionic-image-viewer';\r\nimport { DynamicFormModule } from '../../../../common/forms/dynamic-form.module';\r\nimport { Ionic4DatepickerModule } from '@logisticinfotech/ionic4-datepicker';\r\nimport { Popover3Page } from '../../../modals/about-popover3/about3-popover';\r\n\r\nimport { formulariomovilsproceso2CreatePage } from './formulariomovilsproceso2-Create.page';\r\n@NgModule({\r\n  declarations: [\r\n    formulariomovilsproceso2CreatePage,Popover3Page\r\n  ],\r\n  imports: [\r\n    CommonModule,IonicModule, ComponentsModule, FormsModule,  ReactiveFormsModule, NgxIonicImageViewerModule, DynamicFormModule, Ionic4DatepickerModule,\r\n    RouterModule.forChild([{ path: '', component: formulariomovilsproceso2CreatePage }]), TranslateModule.forChild(),\r\n  ],\r\n  entryComponents: [\r\n    Popover3Page\r\n  ]\r\n \r\n})\r\nexport class formulariomovilsproceso2CreatePageModule {}\r\n","import { Component } from '@angular/core';\r\n\r\n\r\nimport { PopoverController ,NavParams} from '@ionic/angular';\r\n\r\n@Component({\r\n  template: `\r\n    <ion-list>\r\n     \r\n      <ion-item *ngIf=\"permisosorden.comentariosorden==='true'\"  button (click)=\"close('Agregar Comentarios')\">\r\n        <ion-label>Agregar Comentarios</ion-label>\r\n      </ion-item>\r\n      <ion-item *ngIf=\"permisosorden.fotosorden==='true'\" button (click)=\"close('Agregar Archivos')\">\r\n        <ion-label>Agregar Fotos</ion-label>\r\n      </ion-item>\r\n      <ion-item *ngIf=\"permisosorden.documentosorden==='true'\" button (click)=\"close('Agregar Documentos')\">\r\n        <ion-label>Agregar Documentos</ion-label>\r\n      </ion-item>\r\n      <ion-item *ngIf=\"permisosorden.tareasorden==='true'\" button (click)=\"close('Asignar Tareas segun proceso')\">\r\n        <ion-label  text-wrap>Asignar Tareas segun proceso</ion-label>\r\n      </ion-item>\r\n      \r\n      <ion-item button (click)=\"close('Estados del proceso')\">\r\n        <ion-label  text-wrap>Estados del proceso</ion-label>\r\n      </ion-item>\r\n\r\n      <ion-item *ngIf=\"permisosorden.documentacionorden==='true'\" button (click)=\"close('Documentación de orden')\">\r\n        <ion-label  text-wrap>Documentación de orden</ion-label>\r\n      </ion-item>\r\n      <ion-item *ngIf=\"otras==='true'\" button (click)=\"close('Otras opciones')\">\r\n        <ion-label  text-wrap>Otras opciones</ion-label>\r\n      </ion-item>\r\n    </ion-list>\r\n  `\r\n})\r\nexport class Popover3Page {\r\n  permisosorden: any = [];\r\n  otras:any;\r\n  constructor(public popoverCtrl: PopoverController, private navParams: NavParams ) {\r\n\r\n    this.permisosorden = navParams.get('permisosorden');\r\n    this.otras= navParams.get('otras');\r\n\r\n  }\r\n\r\n  support() {\r\n    // this.app.getRootNavs()[0].push('/support');\r\n    this.popoverCtrl.dismiss();\r\n  }\r\n\r\n  close(url: string) {\r\n   \r\n    this.popoverCtrl.dismiss({data: url});\r\n  }\r\n}\r\n","import { Component, OnInit , ViewChild ,  ElementRef} from '@angular/core';\nimport { AlertController, ModalController , PopoverController , ActionSheetController, IonInput } from '@ionic/angular';\nimport { FormGroup, FormControl, Validators, FormGroupDirective } from '@angular/forms';\nimport { AuthenticationService } from '../../../services/Authentication.service';\nimport {  Router, NavigationExtras } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MyModalPage } from '../../../modals/my-modal/my-modal.page';\nimport { MyModalComboPage } from './../../../modals/my-modal-combo/my-modal-combo.page';\nimport {Plugins, Capacitor,  CameraResultType,  CameraSource, CallbackID} from '@capacitor/core';\nimport { SafeResourceUrl } from '@angular/platform-browser';\nimport { ControlBase } from '../../../../common/forms/control-base';\nimport { ControlsService } from '../../../../common/forms/controls.service';\nimport { Popover3Page } from '../../../modals/about-popover3/about3-popover';\nimport {Location} from '@angular/common';\n\n@Component({\n  selector: 'app-formulariomovilsproceso2-create',\n  templateUrl: './formulariomovilsproceso2-create.page.html',\n  styleUrls: ['./formulariomovilsproceso2-create.page.scss'],\n})\nexport class formulariomovilsproceso2CreatePage implements OnInit {\n@ViewChild('inputId', {  static: false })  inputElement: IonInput;\n @ViewChild('fotoa', {static: true}) fotoa: ElementRef;\n  form: FormGroup;\n // @ViewChild('createForm', { static: false }) createForm: FormGroupDirective;\n  variables: any = [];\n  controls: ControlBase<any>[];\n  userinfo: any = [];\n  idllave: any ;\n  tituloxx = '';\n  seguro ='';\nmsg = '';\n  vgrupo: any = [];\n  permisosorden: any = [];\n  tipo: any;\n  tipo2: any;\n  ejecuta: any;\n  geoposiciontxt: any;\n  _ID: any;\n  fechascompone: any = [];\n  horascompone: any = [];\n  regitrosacumulados: any;\n  lpermiso: any;\n  actividades: any = [];\n  acciones: any = [];\n  submitted: any = [];\n  submitted2: any = [];\n  actorcorreo: any = [];\n  idformulario: any;\n  idcategoria: any;\n  geoposicion: any;\n  nidformulario: any;\n  titleoo:any;\n  actactual: any;\n  actsiguiente: any;\n  actfinal: any;\n  botonesactividad: any = [];\n  actactualsiguiente: any;\n  dataitem:any;\ncamposmodifica: any =[];\ncamposlectura: any= [];\nvista:any;\n\n\n  public tt: any;\n\tmuestrabien = false;\n\n  apifoto: String ;\n  fotoimg: SafeResourceUrl;\n  constructor(  private location: Location, public popoverCtrl: PopoverController , public alertController: AlertController, private router: Router,\n    private modalController: ModalController, \tpublic controlsService: ControlsService,\n    public translateService: TranslateService    , private authenticationService: AuthenticationService,\n   public actionSheetController: ActionSheetController\n  ) { this.apifoto = this.authenticationService.getapifoto();\n\n  }\n\n  dismissModal() {     this.modalController.dismiss('close');      }\n  ionViewDidEnter(): void {               }\n  ngOnInit(): void {\n   // this.variables =this.router.getCurrentNavigation().extras.state.variables\n    this.userinfo =  this.authenticationService.getcopiauser();\n\n    this.tituloxx =   this.router.getCurrentNavigation().extras.state.title;\n    this.titleoo =   this.router.getCurrentNavigation().extras.state.title;\n    this.permisosorden=   this.router.getCurrentNavigation().extras.state.record2.permisosorden\n    this.idcategoria =   this.router.getCurrentNavigation().extras.state.record2.idcategoria;\n\n    this.nidformulario =  this.router.getCurrentNavigation().extras.state.record2.nidformulario;\n    this.idformulario =   this.router.getCurrentNavigation().extras.state.record2.idformulario;\n    this.regitrosacumulados  =   this.router.getCurrentNavigation().extras.state.record2.regitrosacumulados;\n   this.vista=   this.router.getCurrentNavigation().extras.state.record2.vista;\n    this.geoposiciontxt =   this.router.getCurrentNavigation().extras.state.record2.geoposiciontxt;\n    this.tipo2 =   this.router.getCurrentNavigation().extras.state.record2.tipo2;\nthis.tipo =   this.router.getCurrentNavigation().extras.state.record2.tipo;\nthis.ejecuta =   this.router.getCurrentNavigation().extras.state.record2.ejecuta;\n\nthis.acciones =  this.router.getCurrentNavigation().extras.state.record2.acciones;\n\nthis.actividades =  this.router.getCurrentNavigation().extras.state.record2.actividades;\nthis.actorcorreo =  this.router.getCurrentNavigation().extras.state.record2.actorcorreo;\nthis.dataitem= this.router.getCurrentNavigation().extras.state.record   \n\n\nthis.translateService.get('SEGUROM').subscribe((value) => {   this.seguro = value  });\nthis.translateService.get('MSGM').subscribe((value) => {   this.msg = value  });\n    if (this.dataitem == null) {\n\n      this.actactual = this.daactividadactual('INICIO', this.actividades);\n      this.daacciones(this.acciones, this.actactual._id);\n\n       this.translateService.get('NUEVOM').subscribe((value) => {   this.tituloxx = value + ' ' + this.tituloxx; this.lpermiso = value; });\n\n\n    } else {\n\n      this.actactual = this.daactividadactual2( this.dataitem.idactividadxxx, this.actividades);\n      this.daacciones(this.acciones, this.actactual._id);\n\n\n       this.translateService.get('ACTUALIZAM').subscribe((value) => {this.tituloxx = value + ' ' + this.tituloxx; this.lpermiso = value; });\n       this._ID \t\t\t\t=\tthis.dataitem._id;\n    }\n\n    this.form = new FormGroup({ });\n    this.onValueChanges();\n\n  }\n\n  onValueChanges(): void {\n    this.form.valueChanges.subscribe(val => {\n\n      \tthis.submitted = val;\n    });\n  }\n\n  public davaloritem(data, campo) {\n\t\tlet val = '';\n    if (data[campo]) {val = data[campo]; } else {val = ''; }\n\t\treturn val;\n\t}\n\n  async imprimir(event: Event) {\n  }\n\n\n  async trayectoria(event: Event) {\n\n    \n  const navigationExtras: NavigationExtras = {\n    state: {\n      variables:null,\n    keyxxx:1,\n      idllave: this.dataitem._id,\n \n      title: 'Trayectoria orden ->' + this.titleoo\n    }\n  };\n  this.router.navigate(['frmordencomponenteListPage'], navigationExtras);\n\n\n    //frmordencomponenteListPage\n  }\n\n  async deleteRecord() {\n    const alert = await this.alertController.create({\n      header: this.seguro,\n      message: '',\n      buttons: [\n        {\n          text: 'No',\n         cssClass: 'secondary',\n          handler: (blah) => {\n          }\n        }, {\n           text: 'Si',\n           handler: () => {\n             const recordID: string\t\t= this.dataitem._id;\n             this.authenticationService.deleteReg(recordID + '/' + this.idformulario + '/proceso/'+ this.userinfo[0].email + '/' + this.userinfo[0].idempresa._id  + '/'\n             + 'na' , 'frmmovils').then((data) => {\n              this.authenticationService.retornaordenes();\n\n              this.location.back();\n               }, (err) => {\n                 this.authenticationService.presentAlert(err.error, this.msg, '');\n             });\n           }\n         }\n       ]\n     });\n     await alert.present();\n   }\n\n\n  async otrasop() { \n\n    var opcion: any =[]\n\n    if(this.permisosorden.eliminaorden==='true')\n    {\n      opcion.push({\n        name: 'Eliminar orden',        type: 'radio',        label: 'Eliminar orden',        checked: true,   value: '1',\n      });\n    }\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n     header: 'Seleccione Opción',\n     inputs:opcion,\n     buttons: [\n       {\n         text: 'Cancel',\n         role: 'cancel',\n         cssClass: 'secondary',\n         handler: (todo) => {\n           console.log(todo);\n         }\n       }, {\n         text: 'Ok',\n         handler: (todo) => {\n          switch (todo) {\n            case '1': \n            this.deleteRecord();\n\n\n            break;\n          }\n         }\n       }\n     ]\n   });\n   await alert.present();   \n}\n  async presentPopover(event: Event) {\n  var otras='false'\n\n    if(this.permisosorden.eliminaorden==='true')\n    {\n      otras='true'\n    }\n    const popover = await this.popoverCtrl.create({\n      component: Popover3Page,\n      event,\n      componentProps: {permisosorden:this.permisosorden,vista:this.vista,otras:otras}\n    });\n    popover.onWillDismiss().then((data) => {\n\n      if ( data.data.data === 'Estados del proceso' ) {\n\n        \n  const navigationExtras: NavigationExtras = {\n    state: {\n      variables:null,\n    keyxxx:2,\n      idllave: this.dataitem._id,\n      idfomulario:this.idformulario,  \n \n      title: 'Roadmap  orden ->' + this.titleoo\n    }\n  };\n  this.router.navigate(['frmordencomponenteListPage'], navigationExtras);\n\n\n\n      }\n\n      if ( data.data.data === 'Otras opciones' ) {\n\nthis.otrasop();\n\n      }\n      if ( data.data.data === 'Documentación de orden' ) {\n      }\n\n      if ( data.data.data === 'Agregar Comentarios' ) {\n\n\n       \n       \n    const navigationExtras: NavigationExtras = {\n      state: {\n        variables:  this.variables, record: this.dataitem,idllave: this.dataitem._id,\n        record2: {acciones: this.acciones, actividades: this.actividades, tipo: this.tipo, tipo2: this.tipo2, ejecuta: this.ejecuta,  geoposicion:  this.geoposicion, regitrosacumulados: this.regitrosacumulados, idcategoria: this.idcategoria, idformulario: this.idformulario, nidformulario: this.nidformulario},\n        userinfo: this.userinfo,title: data.data.data + '->' + this.titleoo\n      }   \n    };\n    this.router.navigate(['formulariocomentariosListPage'], navigationExtras);\n\n\n\n        }\n\n        if ( data.data.data === 'Agregar Archivos' ) {\n\n       \n          const navigationExtras: NavigationExtras = {\n            state: {\n              variables:  this.variables, record: this.dataitem,idllave: this.dataitem._id,\n              record2: {acciones: this.acciones, actividades: this.actividades, tipo: this.tipo, tipo2: this.tipo2, ejecuta: this.ejecuta,  geoposicion:  this.geoposicion, regitrosacumulados: this.regitrosacumulados, idcategoria: this.idcategoria, idformulario: this.idformulario, nidformulario: this.nidformulario},\n              userinfo: this.userinfo,title: data.data.data + '->' + this.titleoo\n            }   \n          };\n          this.router.navigate(['formulariofotosListPage'], navigationExtras);\n      \n\n\n          }\n\n          \n        if ( data.data.data === 'Agregar Documentos' ) {\n\n       \n          const navigationExtras: NavigationExtras = {\n            state: {\n              variables:  this.variables, record: this.dataitem,idllave: this.dataitem._id,\n              record2: {acciones: this.acciones, actividades: this.actividades, tipo: this.tipo, tipo2: this.tipo2, ejecuta: this.ejecuta,  geoposicion:  this.geoposicion, regitrosacumulados: this.regitrosacumulados, idcategoria: this.idcategoria, idformulario: this.idformulario, nidformulario: this.nidformulario},\n              userinfo: this.userinfo,title: data.data.data + '->' + this.titleoo\n            }   \n          };\n          this.router.navigate(['formulariofotos2ListPage'], navigationExtras);\n      \n\n\n          }\n\n         \n\n\n          if ( data.data.data === 'Asignar Tareas segun proceso' ) {\n\n\n         \n            const navigationExtras: NavigationExtras = {\n              state: {\n                variables:  this.variables, record: this.dataitem,idllave: this.dataitem._id,\n                record2: {acciones: this.acciones, actividades: this.actividades, tipo: this.tipo, tipo2: this.tipo2, ejecuta: this.ejecuta,  geoposicion:  this.geoposicion, regitrosacumulados: this.regitrosacumulados, idcategoria: this.idcategoria, idformulario: this.idformulario, nidformulario: this.nidformulario},\n                userinfo: this.userinfo,title: data.data.data + '->' + this.titleoo\n              }   \n            };\n            this.router.navigate(['formulariotareasListPage'], navigationExtras);\n        \n\n\n            }\n\n    });\n    await popover.present();\n  }\n\n\tpublic daacciones(accion, op) {\n\n    let j=0;\n\t\tfor (let i = 0; i < accion.length; i++) {\n\t\t\t\t if (accion[i].idpapa === op) {\n\n\n          if (j === 0) {\n            this.botonesactividad.push( {\n              name: accion[i].nombre,\n              type: 'radio',\n              label: accion[i].nombre,\n              checked: true,\n              value: accion[i],\n            });\n            j=j+1;\n          } else {\n            this.botonesactividad.push( {\n              name: accion[i].nombre,\n              type: 'radio',\n              label: accion[i].nombre,\n              checked: false,\n              value: accion[i],\n            });\n          }\n\n\n\n\n\t\t\t\t\n\t\t\t\t }\n\t\t}\n\n\n  }\n\n\tpublic dalistacat(data, op) {\n\t\tlet val: any;\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\t\t if (data[i].label === op) {\n\n\t\t\t\t\tval = {key: data[i].key, label: data[i].label};\n\t\t\t\t\tbreak;\n\t\t\t\t }\n\t\t}\n\n\t\treturn val;\n\t}\n\n  daactividadactual2(clase, actividades): any {\n    let re;\n    for (let i = 0; i < actividades.length; i++) {\n      if (actividades[i]._id === clase) {\n        re = actividades[i];\n        break;\n      }\n    }\n    return re;\n  }\n\ndaactividadactual(clase, actividades): any {\n  let re;\n  for (let i = 0; i < actividades.length; i++) {\n    if (actividades[i].clase === clase) {\n      re = actividades[i];\n      break;\n    }\n  }\n  return re;\n}\n\ndaactividadsiguiente(idx, actividades): any {\n  let re;\n  for (let i = 0; i < actividades.length; i++) {\n    if (actividades[i]._id === idx) {\n      re = actividades[i];\n      break;\n    }\n  }\n  return re;\n}\n\nexistecampo(vcampos, idcampo): any {\n  let re = false;\n  for (let i = 0; i < vcampos.length; i++) {\n    if (vcampos[i] === idcampo) {\n      re = true;\n      break;\n    }\n  }\n  return re;\n}\n\tngAfterViewInit() {\n\n\t\tif (this.dataitem == null) {// nuevo\n\n\n   if (this.actactual.camposmodificables !== '' || this.actactual.camposmodificables !== undefined) {\n    if(this.actactual.camposmodificables.id){ this.camposmodifica = this.actactual.camposmodificables.id.split(';'); }}\n\n     if (this.actactual.camposlectura !== '' || this.actactual.camposlectura !== undefined) {\n   if(this.actactual.camposlectura.id){ this.camposlectura = this.actactual.camposlectura.id.split(';'); }}\n\n\n\t\t\tthis.authenticationService.getReg(this.idformulario + '/formulariod/' + this.userinfo[0].idempresa._id\t, 'frmmovils', 0).then((data) => {\n\t\t\t\tconst aa: any = [];\n\t\t\t\tconst len: any = data;\n\t\t\t\tfor (let i = 0; i < len.length; i++) {\n\t\t\t\tconst rquer = len[i].required; let sireque = '';\n\t\t\t\tlet valort = '';\n\t\t\t\tlet valor2t: any = [];\n\n\t\t\t\tswitch (len[i].type) {\n          case 'fecha': this.fechascompone.push(len[i].name); break;\n          case 'fechahora': this.horascompone.push(len[i].name); break;\n\t\t\t\t\tcase 'label':   valort = '.';  break;\n\t\t\t\t\tcase 'check': \tvalort = len[i].default;\n\t\t\t\t\t if (valort === '') {valort = 'false'; }\t\t\t else\t\t\t\t {\t\tif (!valort) {valort = 'false'; }\t\t }  break;\n\t\t\t\t\tcase 'select':   valor2t = this.dalistacat(len[i].options, len[i].default);  break;\n\t\t\t\t\tdefault:\n\t\t\t\t\tvalort = len[i].default;\n\t\t\t\t}\n\n\t\t\t\tif (!valor2t) {valor2t = ''; }\n\t\t\t\tif (!valort) {valort = ''; }\n        if (rquer === 'true') {sireque = ' (*)'; }\n         let lecturacc = false;\n         let modificablecc = false;\n         let noexistecc = false;\n         let visiblecc = false;\n         let requeridocc = false;\n\n          modificablecc = this.existecampo(this.camposmodifica , len[i]._id);\n          if (modificablecc !== true) {\n          lecturacc = this.existecampo(this.camposlectura , len[i]._id);\n           if (lecturacc === true) {visiblecc = false; requeridocc = len[i].required; noexistecc = true; modificablecc = false;    } else {\n            noexistecc = false;\n            visiblecc = true;\n            requeridocc = false;\n            modificablecc = false;\n            if (len[i].required) {valort = '-'; }\n          }\n          } else {\n            visiblecc = false;\n            lecturacc = false;\n            requeridocc = true;\n\n          }\n\n          if(this.vista==='ejecutadas')\n          {\n           lecturacc = true;\n          }\n\n\n\t\t\t\t\t\tif (len[i].type === 'select' || len[i].type === 'select2') {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'no', verregistros: len[i].verregistros,\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': len[i].default, 'valor': valor2t,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                  'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': len[i].idfrmconsulta, 'idfrmconsulta2': len[i].idfrmconsulta2, 'idfrmconsulta2origen': len[i].idfrmconsulta2origen, 'idfrmconsultaorigen': len[i].idfrmconsultaorigen, 'usarunaves': len[i].usarunaves, \n                  'idcampofiltro': len[i].idcampofiltro,'idcampofiltro2': len[i].idcampofiltro2, 'idcampofiltromanual': len[i].idcampofiltromanual, 'regitrosacumulados':  this.regitrosacumulados\n                  , 'idfrmconsultaorigenpapa': len[i].idfrmconsultaorigenpapa, 'idcampofiltropapa': len[i].idcampofiltropapa});\n\n\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'no',\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': len[i].default, 'valor': valort,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': '', 'idfrmconsulta2': '', 'idfrmconsulta2origen': '', 'idfrmconsultaorigen': '', 'usarunaves': '', 'idcampofiltro': '', \n                'idcampofiltro2': '', 'idcampofiltromanual': '', 'regitrosacumulados': ''\n                , 'idfrmconsultaorigenpapa': '', 'idcampofiltropapa': ''});\n\n\t\t\t\t\t\t}\n\n\n\t\t\t\t}\n        this.controls = this.controlsService.getControls(aa);\n        if(this.vista!=='ejecutadas')\n        {\n          this.muestrabien = true;\n        }\n        else\n        {\n          this.muestrabien = false;\n        }\n\t\t\t\t\n\t}, (err) => {\n    this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n\n\n\t});\n\n\n\n\n\n    } else {// actualiza\n\n\n \n      if (this.actactual.camposmodificables !== '' || this.actactual.camposmodificables !== undefined) {\n        if(this.actactual.camposmodificables.id){ this.camposmodifica = this.actactual.camposmodificables.id.split(';'); }}\n    \n         if (this.actactual.camposlectura !== '' || this.actactual.camposlectura !== undefined) {\n       if(this.actactual.camposlectura.id){ this.camposlectura = this.actactual.camposlectura.id.split(';'); }}\n    \n\n\t\t\tthis.authenticationService.getReg(this.idformulario +  '/formulariod/' + this.userinfo[0].idempresa._id, 'frmmovils', 0).then((data) => {\n\t\t\t\tconst aa: any = [];\n\t\t\t\tconst len: any = data;\n\t\t\t\tfor (let i = 0; i < len.length; i++) {\n\t\t\t\t\tconst rquer = len[i].required; let sireque = '';\n\t\t\t\t\tif (rquer === 'true') {sireque = ' (*)'; }\n          let valort = '';\nif (len[i].type === 'imagen') {\n  valort =  this.davaloritem(this.dataitem, len[i].name);\n} else {\n  valort = this.davaloritem(this.dataitem, len[i].name);\n}\n\n\n\n          if (!valort) {valort = ''; }\n          if (len[i].type === 'label') {valort = '.'; }\n\n          let lecturacc = false;\n          let modificablecc = false;\n          let noexistecc = false;\n          let visiblecc = false;\n          let requeridocc = false;\n\n           modificablecc = this.existecampo(this.camposmodifica , len[i]._id);\n           if (modificablecc !== true) {\n           lecturacc = this.existecampo(this.camposlectura , len[i]._id);\n            if (lecturacc === true) {visiblecc = false; requeridocc = len[i].required;\n              noexistecc = true; modificablecc = false;\n            }     else {\n             noexistecc = false;\n             visiblecc = true;\n             requeridocc = false;\n             if (len[i].required) {valort = '-'; }\n             modificablecc = false;\n           }\n           } else {\n             visiblecc = false;\n             lecturacc = false;\n             requeridocc = true;\n             if (valort === '-') { valort = '';}\n\n           }\n\n\n           if(this.vista==='ejecutadas')\n           {\n            lecturacc = true;\n           }\n\n\t\t\t\t\t\tif (len[i].type === 'select' || len[i].type == 'select2') {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'si', verregistros: len[i].verregistros,\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': ''\n                , 'valor': valort,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                  'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': len[i].idfrmconsulta, 'idfrmconsulta2': len[i].idfrmconsulta2, 'idfrmconsulta2origen': len[i].idfrmconsulta2origen, 'idfrmconsultaorigen': len[i].idfrmconsultaorigen, 'usarunaves': len[i].usarunaves, \n                  'idcampofiltro': len[i].idcampofiltro,'idcampofiltro2': len[i].idcampofiltro2, 'idcampofiltromanual': len[i].idcampofiltromanual, 'regitrosacumulados':  this.regitrosacumulados\n                  , 'idfrmconsultaorigenpapa': len[i].idfrmconsultaorigenpapa, 'idcampofiltropapa': len[i].idcampofiltropapa});\n\n\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taa.push({'idformulario': this.idformulario, 'idcampo': len[i]._id, 'actualiza': 'si',\n\t\t\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': requeridocc,\n\t\t\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t\t\t'disabled': lecturacc,\t'hidden': visiblecc,\t'title': len[i].title + sireque,\n                'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': ''\n                , 'valor': valort,\n                'default2': len[i].default2, 'default3': len[i].default3,\n\t\t\t\t\t\t\t\t'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n                'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t, 'idfrmconsulta': '', 'idfrmconsulta2': '', 'idfrmconsulta2origen': '', 'idfrmconsultaorigen': '', 'usarunaves': '', 'idcampofiltro': '', \n                'idcampofiltro2': '', 'idcampofiltromanual': '', 'regitrosacumulados': ''\n                , 'idfrmconsultaorigenpapa': '', 'idcampofiltropapa': ''});\n\n\t\t\t\t\t\t}\n\n          }\n/*\n\n\t\t\t\t\taa.push({ 'idformulario': this.idformulario, 'idcampo': len[i]._id,'actualiza':'si',\n\t\t\t\t\t\t'order': len[i].order,\t'name': len[i].name, 'type': len[i].type, 'required': len[i].required,\n\t\t\t\t\t\t'placeholder': len[i].placeholder,\t'display': len[i].display, 'selected': len[i].selected, // true\n\t\t\t\t\t\t'disabled': len[i].disabled,\t'hidden': len[i].hidden,\t'title': len[i].title  + sireque,\n\t\t\t\t\t\t'position': len[i].position,\t'labelsizefondt': len[i].labelsizefondt, 'default': ''\n\t\t\t\t\t\t, 'valor': valort\n\t\t\t\t\t\t, 'categoria': len[i].categoria, 'combofijo': len[i].combofijo, 'idcadmovil': this.tt ,\n\t\t\t\t\t\t'options': len[i].options,\t'fondoetiqueta': len[i].fondoetiqueta,\n\t\t\t\t\t\t'coloretiqueta': len[i].coloretiqueta,\t'blike': len[i].blike, 'rangomin': len[i].rangomin,\t'rangomax': len[i].rangomax,\t'rangostep': len[i].rangostep,\t'alfatypo': len[i].alfatypo\t});\n        }\n        */\n\n\t\t\t\tthis.controls = this.controlsService.getControls(aa);\n        if(this.vista!=='ejecutadas')\n        {\n          this.muestrabien = true;\n        }\n        else\n        {\n          this.muestrabien = false;\n        }\n\t}, (err) => {\n    this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n\n\n\t});\n\n\t\t}\n\n\n\n  }\n\n  async submitForm0() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n     header: 'Seleccione Opción',\n     inputs: this.botonesactividad,\n     buttons: [\n       {\n         text: 'Cancel',\n         role: 'cancel',\n         cssClass: 'secondary',\n         handler: (todo) => {\n           console.log(todo);\n         }\n       }, {\n         text: 'Ok',\n         handler: (todo) => {\n        this.submitForm(todo);\n         }\n       }\n     ]\n   });\n   await alert.present();\n  }\n  // onSgrupoChange(selectedValue: any) {    this.sgrupo = selectedValue.detail.value ;(ionChange)='onSgrupoChange($event)'   }\n  submitForm(item) {\n\n    if (this.form.status === 'INVALID') {\n\n      this.authenticationService.presentAlert('Ingrese todos los campos requeridos en el formulario' , 'Precaución' , '');\n\n    } else {\n      let creat = 'Actualiza';\n\n\n      for (let i = 0; i < this.fechascompone.length; i++) {\n// 2019-10-17T00:00:00Z\n      //  this.submitted[this.fechascompone[i]] = this.submitted[this.fechascompone[i]] + \"T00:00:00Z\";\n\n      }\n\n      for (let i = 0; i < this.horascompone.length; i++) {\n        // 2019-10-17T00:00:00Z\n\n\n\n              //  this.submitted[this.horascompone[i]] =\"2019-01-01T\" +  this.submitted[this.horascompone[i]] + \":00Z\";\n\n              }\n\n      if (this.dataitem == null) {  creat = 'Crea';\n      }\n\n      if (this.dataitem == null) {\n\n\n      } else {\n      //  this.submitted['usuarionew'] = this.userinfo[0].email;\n        this.submitted['usuarioup'] = this.userinfo[0].email;\n        this.submitted['idempresa'] = this.userinfo[0].idempresa._id;\n        this.submitted['geoposicionxxx'] = this.geoposiciontxt;\n\n        this.submitted['idactividadxxx'] = item.actividadsiguiente.id;\n        this.submitted['estadoxxx'] = item.estado;\n        this.submitted['actividadxxx'] = item.actividadsiguiente.nombre;\n        this.submitted['idaccionxxx'] = item._id;\n        this.submitted['accionxxx'] = item.nombre;\n        this.submitted['tipoaccionxxx'] = item.tipo;\n        this.submitted['subtipoaccionxxx'] = item.subtipo;\n        \n        var pmoxx=this.dataitem.pmodulo\n        var arr:any = [];\n        for(var i2 = 0; i2 < pmoxx.length; i2++) {\n          arr.push(pmoxx[i2][0])\n        }\n\n        pmoxx.push(this.userinfo[0]._id)\n    \n        this.submitted['pmodulo'] = pmoxx;\n        this.actsiguiente = this.daactividadsiguiente( item.actividadsiguiente.id, this.actividades );\n        this.submitted['idactorxxx'] = this.actsiguiente.actor.id;\n        this.submitted['actorxxx'] = this.actsiguiente.actor.nombre;\n        this.submitted['actividadclasexxx'] = this.actsiguiente.clase;\n        this.submitted['actividadtipoxxx'] = this.actsiguiente.tipo;\n        this.submitted['leidoxxx'] = false;\n        this.submitted['enviadoporxxx'] =  this.userinfo[0].nombre +  '  (' +  this.userinfo[0].email + ')';\nvar  estadoorden='activa'\n        if(this.actsiguiente.clase!=='FINAL')\n        {\n          this.submitted['estadoordenxxx'] = 'activa';\n        }\n        else\n        {\n          this.submitted['estadoordenxxx'] = 'cerrada';\n          estadoorden='cerrada'\n        }\n    \n\n       \n\n\n        const   options: any\t     = {\n          idcat: this.idcategoria,\n          idform: this.idformulario,\n          estructura: this.submitted,\n          tipo: this.tipo,\n          tipo2: this.tipo2,\n          ejecuta: this.ejecuta,\n          trayectoria:{\n            idempresa\t\t: this.userinfo[0].idempresa._id,\n            idorden\t:'idorden',\n            usuariocreador\t\t:{    id\t: this.userinfo[0]._id,   nombre\t: this.userinfo[0].nombre,\n              email:this.userinfo[0].email       },\n            minutos\t\t:0,\n            tipocreacionorden\t\t:this.actsiguiente.clase,\n            nombre\t\t:'nombre',\n            idform\t\t: this.idformulario,\n            tipoform\t:this.tipo, \n            salioorden:0,\n            tipo2form\t:this.tipo2, \n            ejecuta: this.ejecuta,\n            categoriaform\t: this.idcategoria,\n            idactividad\t\t: item.actividadsiguiente.id, \n            actoractividad\t\t:{    id\t:this.actsiguiente.actor.id ,   nombre\t:   this.actsiguiente.actor.nombre     },\n            claseactividad\t\t: this.actsiguiente.clase,\n            nombreactividad\t\t: this.actsiguiente.nombre,\n            tipoactividad\t\t: this.actsiguiente.tipo,\n            etapaactividad\t\t: this.actsiguiente.etapa,\n            estadoorden:  estadoorden,\n            idaccion\t\t: item._id,\n            tipoaccion\t\t: item.tipo,\n            subtipoaccion\t\t: item.subtipo,\n            nombreaccion\t\t: item.nombre,\n            estadoaccion\t\t: item.estado,\n            actividadsiguienteaccion\t\t:  { id\t: item.actividadsiguiente.id ,   nombre\t: item.actividadsiguiente.nombre  },\n           \n          },\n          bitacora: { idempresa : this.userinfo[0].idempresa._id , idafiliado: '' ,\n          email: this.userinfo[0].email , permiso : creat, accion: 'Actualiza en formulario movil'}\n         };\n\n        if (options) {\n          this.authenticationService.createRegmovil(this.dataitem._id, options, 'frmmovils').then((result) => {\n\n//trayectoria actualiza anterior\nvar dataff: any = []\ndataff=result\n\nconst   options: any\t     = {\n  operacion:'actualizaordentrayectoria',\n  idtrayectoria:dataff._id,\n  idmovil:this.dataitem._id,\n  fechaactual:dataff.createdAt,\n  usuarioejecutor\t\t:{    id\t: this.userinfo[0]._id,   nombre\t: this.userinfo[0].nombre,\n    email:this.userinfo[0].email       }\n\n}\nif (options) {\n  this.authenticationService.createRegmovil(this.dataitem._id, options, 'frmmovils').then((result2) => {\n\n \n    let correos = '';\n    for (let i2 = 0; i2 < this.actorcorreo.length; i2++) {\n      if (this.actorcorreo[i2].idpapa === this.actsiguiente.actor.id) {\n        var  usuarios=this.actorcorreo[i2].usuarios\n        for (let i3 = 0; i3 < usuarios.length; i3++) {\n          correos = correos + usuarios[i3].correo + ';';\n        }      }   }\n\n\n\n\n  correos=correos+  item.notificacionemail;\n    \n  correos= correos.replace('USUARIOSOLICITANTE',this.dataitem.usuarionew);\n let msg2 = '<html><body><p style=\"text-align: center;\"><img src=\"' + this.apifoto +   this.userinfo[0].idempresa.foto0 +' alt=\"\" width=\"300\" height=\"200\" /></p>      <p style=\"text-align: left;\"><strong>PROCESSAPPS ' +   this.userinfo[0].idempresa.nombre +'</strong></p>      <p style=\"text-align: left;\">Tienes una solicitud de un nuevo requerimiento:</p>       <p style=\"text-align: left;\"><strong>Proceso</strong>:&nbsp; '+    this.nidformulario + '</p>       <p style=\"text-align: left;\"><strong>Actividad actual</strong>: '+ this.actsiguiente.nombre +'</p>       <p style=\"text-align: left;\"><strong>mensaje</strong>:'+ item.notificacionmsm +'</p>      <p>&nbsp;</p>      <p>&nbsp;</p>      <p>saludos</p></body> </html>'\n\n  \n\nvar cc= correos.split(';')\nvar filtered = cc.filter(function (el) {\n  return el !== \"\";\n});\n\n\n  const   options2: any\t     = {\n    destino:filtered,  \n    html : msg2,\n  text : msg2,\n  subjet :  item.notificacionmsm + '- PROCESSAPPS ' +  this.userinfo[0].idempresa.nombre,\n  actualiza: { tipo: 'na', id : '1', estado : 'Ingreso, mail enviado',\n  otros: ''}\n  };\n\n                                                  this.authenticationService.mandamail('crea/1',options2,'mails').then((data) => {\n                                                    this.authenticationService.retornaordenes();\n\n                                                    this.location.back();\n                                                  });\n\n\n  \n   \n}, (err) => {\n  this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n});\n\n}\n\n\n\n\n\n\n           \n           \n        }, (err) => {\n          this.authenticationService.presentAlert(err.error , 'Precaución' , '');\n        });\n        }\n\n\n\n      }\n    }\n\n\n\n  }\n  async dacomponente(op, op2) {\n        let uub = '';\n        if ( op === 'ubicacion') {uub = this.form.controls['ubicacion'].value; }\n        const modal = await this.modalController.create({\n          component: MyModalPage,      swipeToClose: false,    backdropDismiss: false,     animated: true,\n          presentingElement: await this.modalController.getTop(),\n          componentProps:  { variables:  this.variables, record: null, userinfo: this.userinfo, uubx : uub}\n          // , cssClass: 'modal-fullscreen'\n        });\n        modal.onWillDismiss().then((data) => {\n             if ( data.data === 'close' ) {     }      else      {\n             if (op === 'direccion') {\n              this.form.controls['direccion'].setValue(data.data.direccion);\n             } else {\n              this.form.controls['ubicacion'].setValue(data.data.direccion + ' {' + data.data.la + '°' + data.data.lo + '}');\n             }\n            }\n        });\nreturn await modal.present();\n      }\n  /*************************************************+++++FOTOS */\n  async takePicture(op) {\n  const image = await Plugins.Camera.getPhoto({\n  correctOrientation: true,\n            height: 200,\n            width: 200,\n                quality: 60,\n  allowEditing: true,\n            resultType: CameraResultType.DataUrl,\n            source: CameraSource.Camera\n          });\n          this.authenticationService.generateFromImage(image.dataUrl, 200, 200, 0.5, data => {\n            switch (op) {\n              case 'fotoa': this.fotoimg = data;   this.form.controls['foto'].setValue( this.authenticationService.procesafoto(this.form.controls['foto'].value)); break;\n                default:\n            }\n        });\n        }\n  uploadPWA2(op , controlx) {\n         const fileList: FileList = controlx;\n         if (fileList && fileList.length > 0) {\n                 this.firstFileToBase64(fileList[0]).then((result: string) => {\n                 this.authenticationService.generateFromImage(result, 200, 300, 0.5, data => {\n                 switch (op) {\n                         case 'fotoa':  this.fotoimg = data;    this.form.controls['foto'].setValue( this.authenticationService.procesafoto(this.form.controls['foto'].value)); break;\n                          default:\n                  }\n                 });\n                 }, (err: any) => {\n                 switch (op) {\n                 case 'fotoa':  this.fotoimg = null;  this.form.controls['foto1'].setValue('');  break;\n                 default:\n                 }\n                 });\n  }}\n  uploadPWA(op) {\n  switch (op) {\n  case 'fotoa':  if (this.fotoa == null ) { return; }\n  this.uploadPWA2(op , this.fotoa.nativeElement.files); break;\n  default:\n  }\n  }\n  private firstFileToBase64(fileImage: File): Promise<{}> {\n  return new Promise((resolve, reject) => {\n  const fileReader: FileReader = new FileReader();\n  if (fileReader && fileImage != null) {\n  fileReader.readAsDataURL(fileImage);\n  fileReader.onload = () => {\n  resolve(fileReader.result);\n  };\n  fileReader.onerror = (error) => {\n  reject(error);\n  };\n  } else {\n  reject(new Error('No file found'));\n  }\n  });\n  }\n        async takePicture2(op) {\n  if ( op === 'fotoa')  {     this.fotoa.nativeElement.click();  }\n        }\n        async fotodatos( op ) {\n          const actionSheet = await this.actionSheetController.create({\n            header: 'Foto',\n            cssClass: 'my-custom-class',\n            buttons: [{   text: 'Galeria',  role: 'destructive',  icon: 'image-outline',\n              handler: () => {\n                this.takePicture2(op);\n              }\n            }, {\n              text: 'Camara',\n              icon: 'camera-outline',\n              handler: () => {\n                this.takePicture(op);\n              }\n            }]\n          });\n          await actionSheet.present();\n        }\n      /****************************************COMBO DE DATOS */\n      async combodatos( op ,  catalogot, frmt, comp, labelx, sigraba) {\n          const modal = await this.modalController.create({\n            component: MyModalComboPage,   swipeToClose: false,     backdropDismiss: false,    animated: true,\n            presentingElement: await this.modalController.getTop(),\n            componentProps: {grabax: sigraba , variables:  this.variables, userinfo: this.userinfo\n              ,  record2 : null , op:  catalogot, frm: frmt, idllave : this.idllave, titlex: 'Buscar ' + labelx}\n            // , cssClass: 'modal-fullscreen'\n          });\n          modal.onWillDismiss().then((data) => {\n            let datax: any = [];\n            datax = data;\n    if (datax.data !==  'close')       {\n        if (datax.data) {this.form.controls[comp].setValue(datax.data.nombre);\n            //  this.form.controls[comp].id = datax.data._id\n            } else {        this.form.controls[comp].setValue('');       }\n          }\n});\n          return await modal.present();\n        }\n}\n","\n<ion-header>\n        <ion-toolbar color=\"primary\">\n          <ion-buttons slot=\"start\">\n            <ion-back-button defaultHref=\"formulariomovilsdprocesoListPage\"></ion-back-button>\n           </ion-buttons>\n           <ion-title>{{tituloxx}}</ion-title>\n                <ion-buttons slot=\"end\">\n\n                  <ion-button *ngIf=\"permisosorden.imprimeorden==='true'\"  title=\"Imprimir orden\"  (click)=\"imprimir($event)\">\n                   \n\n                    <ion-icon  slot=\"icon-only\" ios=\"print-outline\" md=\"print-outline\"></ion-icon>\n                  </ion-button>\n                     \n                  <ion-button *ngIf=\"permisosorden.trayectoriaorden==='true'\" title=\"Trayectoria de la orden\"  (click)=\"trayectoria($event)\">\n                  \n                    <ion-icon  slot=\"icon-only\" ios=\"trending-up-outline\" md=\"trending-up-outline\"></ion-icon>\n                  </ion-button>\n                     \n\n                  <ion-button title=\"Opciones\"  (click)=\"presentPopover($event)\">\n                    <ion-icon  slot=\"icon-only\" ios=\"ellipsis-horizontal\" md=\"ellipsis-vertical\"></ion-icon>\n                  </ion-button>\n                     \n                </ion-buttons>\n               \n        </ion-toolbar>\n</ion-header>\n<ion-content class=\"create-form-content\">\n\n  <div  class=\"ion-padding\">\n\n    <a  *ngIf=\"dataitem.geoposicionxxx !==undefined && dataitem.geoposicionxxx !==''\" href=\"https://www.google.com/maps/search/?api=1&query={{dataitem.geoposicionxxx.replace('¬', ',')}}\" target=\"_blank\">geoposición: {{dataitem.geoposicionxxx.replace('¬', ',')}}</a> \n\n\n    <h1>Actividad: {{dataitem.actividadxxx}}</h1>\n  \n \n    <p>Estado actual: {{dataitem.estadoxxx}}</p>\n  \n    <ion-text color=\"medium\">\n     Clase: {{dataitem.actividadclasexxx}} <br />\n     Tipo actividad: {{dataitem.actividadtipoxxx}} <br />\n    </ion-text>\n  </div>\n\n        <ion-item>\n                <ion-icon name=\"person-circle\" color=\"primary\"></ion-icon>\n                <ion-label class=\"ion-text-wrap\">\n                  <h2>\n                    {{ dataitem.enviadoporxxx }}\n                    <span class=\"date\">\n                      <ion-note>{{ dataitem.updatedAt | date:'dd-MM-yyyy h:mm a'  }}</ion-note>\n                    </span>\n                  </h2>\n                  <h3>To: <ion-note>Me</ion-note></h3>\n                </ion-label>\n              </ion-item>\n\n              \n    <section class=\"user-details-fields fields-section\">\n    \n        <div *ngIf=\"controls else loading\" >\n              \n\n                <dynamic-form #dynamicForm=\"dynamicForm\" [controls]=\"controls\" [form]=\"form\"></dynamic-form>\n        </div>\n            \n\t<ng-template #loading>\n\t\t<div class=\"loading\">\n\t\t\tObteniendo Información...  \n\t\t</div>\n        </ng-template>\n\n  </section>\n</ion-content>  \n<ion-footer>\n  <ion-row class=\"form-actions-wrapper\">\n    <ion-col   >\n      <ion-button *ngIf=\"permisosorden.acciones==='true'\" [hidden]='!muestrabien'  (click)=\"submitForm0()\" color=\"primary\" expand=\"block\" \n      fill=\"outline\" type=\"submit\">ENVIAR A</ion-button>\n      </ion-col>\n  </ion-row>\n</ion-footer>\n\n","\n    <ion-list>\n     \n      <ion-item *ngIf=\"permisosorden.comentariosorden==='true'\"  button (click)=\"close('Agregar Comentarios')\">\n        <ion-label>Agregar Comentarios</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"permisosorden.fotosorden==='true'\" button (click)=\"close('Agregar Archivos')\">\n        <ion-label>Agregar Fotos</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"permisosorden.documentosorden==='true'\" button (click)=\"close('Agregar Documentos')\">\n        <ion-label>Agregar Documentos</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"permisosorden.tareasorden==='true'\" button (click)=\"close('Asignar Tareas segun proceso')\">\n        <ion-label  text-wrap>Asignar Tareas segun proceso</ion-label>\n      </ion-item>\n      \n      <ion-item button (click)=\"close('Estados del proceso')\">\n        <ion-label  text-wrap>Estados del proceso</ion-label>\n      </ion-item>\n\n      <ion-item *ngIf=\"permisosorden.documentacionorden==='true'\" button (click)=\"close('Documentación de orden')\">\n        <ion-label  text-wrap>Documentación de orden</ion-label>\n      </ion-item>\n      <ion-item *ngIf=\"otras==='true'\" button (click)=\"close('Otras opciones')\">\n        <ion-label  text-wrap>Otras opciones</ion-label>\n      </ion-item>\n    </ion-list>\n  "]}