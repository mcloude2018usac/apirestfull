"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2365],{52365:(B,v,c)=>{c.r(v),c.d(v,{ContactCardPageModule:()=>D});var a=c(23349),h=c(55787),p=c(69808),o=c(93075),d=c(51062),g=c(70655),A=c(49926),P=c(69492),m=c(26388),x=c(80162),q=c(32993),e=c(5e3);const b=["foto1a"];function O(i,s){if(1&i&&e._UZ(0,"img",43),2&i){const n=e.oxw();e.Q6J("src",n.foto1img,e.LSH)}}function T(i,s){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"ion-icon",45),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"nombre_completo")))}function M(i,s){if(1&i&&(e.TgZ(0,"div",44),e._UZ(1,"ion-icon",45),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.qZA()),2&i){const n=e.oxw().$implicit;e.xp6(3),e.Oqu(n.message)}}function U(i,s){if(1&i&&(e.ynx(0),e.YNc(1,M,4,1,"div",19),e.BQk()),2&i){const n=s.$implicit,t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.signupForm.get("email").hasError(n.type)&&(t.signupForm.get("email").dirty||t.signupForm.get("email").touched))}}function S(i,s){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"ion-icon",45),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ingrese_direccion")))}function y(i,s){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"ion-icon",45),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ingrese_telefono8")))}function F(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-content"),e.TgZ(1,"ion-datetime",46),e.NdJ("ionChange",function(r){return e.CHM(n),e.oxw().updateMyDate(r)}),e.TgZ(2,"div",47),e._uU(3,"Seleccione Fecha"),e.qZA(),e.qZA(),e.qZA()}2&i&&(e.xp6(1),e.Q6J("showClearButton",!1))}function w(i,s){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"ion-icon",45),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ingrese_estado")))}function I(i,s){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"ion-icon",45),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"ingrese_pin")))}function L(i,s){if(1&i&&(e.TgZ(0,"ion-button",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const n=e.oxw();e.Q6J("disabled",!n.signupForm.valid),e.xp6(1),e.Oqu(e.lcZ(2,2,"actperfil"))}}let k=(()=>{class i{constructor(n,t,r,l,u,f,Z,_){this.alertController=n,this.translateService=t,this.router=r,this.actionSheetController=l,this.modalController=u,this.navParams=f,this.menu=Z,this.authenticationService=_,this.dateValue2="",this.dateValue="",this.seguro="",this.tituloxx="",this.tiposus="5be1b6479c9f2200e8311570",this.APP="",this.luser=[],this.idempresa="",this.msg="",this.datePickerObj={closeOnSelect:!0,mondayFirst:!0,showTodayButton:!1,closeLabel:"Cancelar",todayLabel:"Hoy",clearButton:!1,titleLabel:"Fecha: ",monthsList:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weeksList:["D","L","M","M","J","V","S"],dateFormat:"DD-MM-YYYY",momentLocale:"pt-BR",yearInAscending:!0,btnCloseSetInReverse:!1,btnProperties:{expand:"block",fill:"",size:"",disabled:"",strong:"",color:""}},this.validation_messages={email:[{type:"required",message:this.authenticationService.datraduccion("email_valido")},{type:"pattern",message:this.authenticationService.datraduccion("email_valido")}],password:[{type:"required",message:this.authenticationService.datraduccion("ingrese_clave")},{type:"pattern",message:this.authenticationService.datraduccion("CLAVE_NOVALIDO")}],confirm_password:[{type:"required",message:this.authenticationService.datraduccion("confirma_requerida")}],matching_passwords:[{type:"areNotEqual",message:this.authenticationService.datraduccion("clave_nocoincide")}]},this.apifoto=this.authenticationService.getapifoto(),this.matching_passwords_group=new o.cw({password:new o.NI("",o.kI.compose([o.kI.required,o.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{6,}")])),confirm_password:new o.NI("",o.kI.required)},j=>P._.areNotEqual(j)),this.signupForm=new o.cw({email:new o.NI("",o.kI.compose([o.kI.required,o.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),direccion:new o.NI("",o.kI.required),nombre:new o.NI("",o.kI.compose([o.kI.required])),cui:new o.NI(""),fechanac:new o.NI(""),foto1:new o.NI(""),accesohora:new o.NI(""),correonotifica:new o.NI(""),sexo:new o.NI(""),estado:new o.NI("",o.kI.required),telefono:new o.NI("",o.kI.compose([o.kI.required,o.kI.pattern("^[0-9]{8}$")])),pin:new o.NI("",o.kI.compose([o.kI.required,o.kI.pattern("^[0-9]{4}$")]))})}get date(){return this.signupForm.controls.fechanac.value}set date(n){console.log({value:n}),this.dateValue=n}formatDate2(n){return"2012-12-15T13:47:20.789"}formatDate(n){return(0,x.Z)((0,q.Z)(n),"dd-MM-yyyy")}updateMyDate(n){var t=n.detail.value;this.signupForm.controls.fechanac.setValue(this.authenticationService.dafecha(t,10)),this.fechanac=t}confirm(){}ngOnInit(){this.tituloxx=this.authenticationService.datraduccion("actperfil"),this.luser=this.navParams.get("luser"),this.siperfil=this.navParams.get("siperfil"),this.translateService.get("SEGUROM").subscribe(n=>{this.seguro=n}),this.translateService.get("MSGM").subscribe(n=>{this.msg=n}),this.idempresa=this.authenticationService.getempresa(),this.signupForm.controls.accesohora.setValue(""===this.luser[0].accesohora?"No aplicar":this.luser[0].accesohora),this.signupForm.controls.nombre.setValue(this.luser[0].nombre),this.signupForm.controls.email.setValue(this.luser[0].email),this.signupForm.controls.correonotifica.setValue(this.luser[0].correonotifica),this.signupForm.controls.direccion.setValue(this.luser[0].direccion),this.signupForm.controls.cui.setValue("-"===this.luser[0].cui||void 0===this.luser[0].cui?"":this.luser[0].cui),this.signupForm.controls.nombre.setValue(this.luser[0].nombre),this.signupForm.controls.sexo.setValue(this.luser[0].sexo),this.signupForm.controls.estado.setValue(this.luser[0].estado),this.signupForm.controls.pin.setValue(""===this.luser[0].codpersonal||void 0===this.luser[0].codpersonal?"1234":this.luser[0].codpersonal),this.signupForm.controls.fechanac.setValue(this.authenticationService.dafecha(this.luser[0].fechanac,10)),this.fechanac=this.authenticationService.dafecha(this.luser[0].fechanac,10),this.signupForm.controls.telefono.setValue(this.luser[0].telefono),this.authenticationService.convertToDataURLviaCanvas(this.authenticationService.getapifoto()+this.luser[0].foto,"image/jpeg").then(n=>this.foto1img=n),this.signupForm.controls.foto1.setValue(this.luser[0].foto)}dismissModal(){this.modalController.dismiss("close","","modal-filters")}doSignup(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:"No",cssClass:"secondary",handler:t=>{}},{text:"Si",handler:()=>{this.authenticationService.subefotosintok("","Image2s",this.foto1img,"id","","",this.signupForm.controls.foto1.value,"update",this.luser[0].idempresa,"","").then(t=>{let r=[];r=t,this.signupForm.controls.foto1.setValue(r.url);const l={idempresa:this.luser[0].idempresa._id,email:this.signupForm.controls.email.value.trim(),correonotifica:this.signupForm.controls.correonotifica.value.trim(),role:this.luser[0].role,nombre:this.signupForm.controls.nombre.value.trim(),cui:this.signupForm.controls.cui.value.trim(),direccion:this.signupForm.controls.direccion.value,telefono:this.signupForm.controls.telefono.value,sexo:this.signupForm.controls.sexo.value,foto:this.signupForm.controls.foto1.value,lenguaje:"Espa\xf1ol",estado:this.signupForm.controls.estado.value,fechanac:this.authenticationService.dafecha(this.signupForm.controls.fechanac.value,2),nov:"",unidad:"5bad21a11c7b5027147e31d9",interno:"0",estadoemail:"1",codpersonal:this.signupForm.controls.pin.value,tiposuscriptor:"5be1b6479c9f2200e8311570",APP:this.luser[0].idempresa,accesoestado:"",accesohora:this.signupForm.controls.accesohora.value,bitacora:{idempresa:this.luser[0].idempresa,idafiliado:"",email:this.signupForm.get("email").value.trim(),permiso:"Creacion",accion:"Creacion de nuevo usuario"}};this.authenticationService.createReg(this.luser[0]._id,l,"personals").then(u=>{this.authenticationService.logout2(),this.authenticationService.presentAlert(this.authenticationService.datraduccion("exito"),this.authenticationService.datraduccion("registro_exito2"),"")},u=>{this.authenticationService.presentAlert(u.error,this.authenticationService.datraduccion("precaucion"),"")})})}}]})).present()})}doFacebookSignup(){this.router.navigate(["app/categories"])}doGoogleSignup(){this.router.navigate(["app/categories"])}doTwitterSignup(){this.router.navigate(["app/categories"])}dafecha(){}takePicture(n){return(0,g.mG)(this,void 0,void 0,function*(){const t=yield m.V1.getPhoto({correctOrientation:!0,quality:100,allowEditing:!0,resultType:m.dk.DataUrl,source:m.oK.Camera});this.authenticationService.generateFromImage(t.dataUrl,200,200,1,r=>{"foto1a"===n&&(this.foto1img=r,"/api/image2s/5f146aa48caa41db981e6830"===this.signupForm.controls.foto1.value&&this.signupForm.controls.foto1.setValue("cambiavacia"))})})}uploadPWA2(n,t){t&&t.length>0&&this.firstFileToBase64(t[0]).then(l=>{this.authenticationService.generateFromImage(l,200,200,1,u=>{"foto1a"===n&&(this.foto1img=u,"/api/image2s/5f146aa48caa41db981e6830"===this.signupForm.controls.foto1.value&&this.signupForm.controls.foto1.setValue("cambiavacia"))})},l=>{"foto1a"===n&&(this.foto1img=null)})}uploadPWA(n){if("foto1a"===n){if(null==this.foto1a)return;this.uploadPWA2(n,this.foto1a.nativeElement.files)}}firstFileToBase64(n){return new Promise((t,r)=>{const l=new FileReader;l&&null!=n?(l.readAsDataURL(n),l.onload=()=>{t(l.result)},l.onerror=u=>{r(u)}):r(new Error("No file found"))})}takePicture2(n){return(0,g.mG)(this,void 0,void 0,function*(){"foto1a"===n&&this.foto1a.nativeElement.click()})}fotodatos(n){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Foto",cssClass:"my-custom-class",buttons:[{text:"Galeria",role:"destructive",icon:"image-outline",handler:()=>{this.takePicture2(n)}},{text:"Camara",icon:"camera-outline",handler:()=>{this.takePicture(n)}}]})).present()})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(a.Br),e.Y36(d.sK),e.Y36(h.F0),e.Y36(a.BX),e.Y36(a.IN),e.Y36(a.X1),e.Y36(a._q),e.Y36(A.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-perfil-update"]],viewQuery:function(n,t){if(1&n&&e.Gf(b,7),2&n){let r;e.iGM(r=e.CRH())&&(t.foto1a=r.first)}},decls:127,vars:105,consts:[["color","primary"],["size","small"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],[1,"signup-content"],[3,"formGroup","ngSubmit"],["inputMode","text","clearInput","true","formControlName","foto1",3,"hidden"],["type","file","id","foto1a","capture","user","accept","image/x-png,image/jpeg",2,"visibility","hidden","height","0px",3,"change"],["foto1a",""],["lines","full",1,"inputs-list"],[1,"user-image"],["id","profile-image",3,"src",4,"ngIf"],[1,"add-photo-wrapper"],["fill","clear",3,"click"],[1,"input-item"],["position","stacked",1,"ion-text-wrap","ion-text-uppercase"],["inputMode","text","clearInput","true","formControlName","nombre","required","",3,"placeholder"],[1,"error-container"],["class","error-message",4,"ngIf"],["type","email","formControlName","email","clearInput","","autocapitalize","off","inputmode","email",3,"placeholder"],[4,"ngFor","ngForOf"],["type","email","formControlName","correonotifica","clearInput","","autocapitalize","off","inputmode","email",3,"placeholder"],["inputMode","text","clearInput","true","formControlName","direccion","required","",3,"placeholder"],[3,"title"],["slot","icon-only","name","map-outline"],["type","number","formControlName","telefono","required","",3,"placeholder"],["inputMode","text","clearInput","true","formControlName","cui","required","",3,"placeholder"],["formControlName","sexo",3,"placeholder"],["value","Masculino"],["value","Femenino"],["slot","end"],["fill","clear","id","open-modal"],["icon","calendar"],["trigger","open-modal"],["formControlName","estado",3,"placeholder"],["value","Activo"],["value","Inactivo"],["formControlName","accesohora",3,"placeholder"],["value","Aplicar"],["value","No aplicar"],["type","number","formControlName","pin","required","",3,"placeholder"],["class","signup-btn","color","tw_botton1","type","submit","expand","block",3,"disabled",4,"ngIf"],["id","profile-image",3,"src"],[1,"error-message"],["name","information-circle-outline"],["doneText","Aceptar","cancelText","Cancelar","clearText","Limpiar","formControlName","fechanac","show-default-buttons","true","presentation","date","locale","es-ES","color","secondary",3,"showClearButton","ionChange"],["slot","title"],["color","tw_botton1","type","submit","expand","block",1,"signup-btn",3,"disabled"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-title",1),e._uU(3),e.qZA(),e.TgZ(4,"ion-buttons",2),e.TgZ(5,"ion-button",3),e.NdJ("click",function(){return t.dismissModal()}),e._UZ(6,"ion-icon",4),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"ion-content",5),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return t.doSignup()}),e._UZ(9,"ion-input",7),e.TgZ(10,"input",8,9),e.NdJ("change",function(){return t.uploadPWA("foto1a")}),e.qZA(),e.TgZ(12,"ion-list",10),e.TgZ(13,"ion-thumbnail",11),e.YNc(14,O,1,1,"img",12),e.qZA(),e.TgZ(15,"ion-row",13),e.TgZ(16,"ion-button",14),e.NdJ("click",function(){return t.fotodatos("foto1a")}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.qZA(),e.TgZ(19,"ion-item",15),e.TgZ(20,"ion-label",16),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"ion-input",17),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",18),e.YNc(26,T,5,3,"div",19),e.qZA(),e.TgZ(27,"ion-item",15),e.TgZ(28,"ion-label",16),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"ion-input",20),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",18),e.YNc(34,U,2,1,"ng-container",21),e.qZA(),e.TgZ(35,"ion-item",15),e.TgZ(36,"ion-label",16),e._uU(37),e.ALo(38,"translate"),e.qZA(),e._UZ(39,"ion-input",22),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"ion-item",15),e.TgZ(42,"ion-label",16),e._uU(43),e.ALo(44,"translate"),e.qZA(),e._UZ(45,"ion-input",23),e.ALo(46,"translate"),e.TgZ(47,"ion-buttons",2),e.TgZ(48,"ion-button",24),e.ALo(49,"translate"),e._UZ(50,"ion-icon",25),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",18),e.YNc(52,S,5,3,"div",19),e.qZA(),e.TgZ(53,"ion-item",15),e.TgZ(54,"ion-label",16),e._uU(55),e.ALo(56,"translate"),e.qZA(),e._UZ(57,"ion-input",26),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"div",18),e.YNc(60,y,5,3,"div",19),e.qZA(),e.TgZ(61,"ion-item",15),e.TgZ(62,"ion-label",16),e._uU(63),e.ALo(64,"translate"),e.qZA(),e._UZ(65,"ion-input",27),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"ion-item",15),e.TgZ(68,"ion-label",16),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"ion-select",28),e.ALo(72,"translate"),e.TgZ(73,"ion-select-option",29),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"ion-select-option",30),e._uU(77),e.ALo(78,"translate"),e.ALo(79,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"ion-item",15),e.TgZ(81,"ion-label",16),e._uU(82),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"ion-text",31),e._uU(85),e.ALo(86,"date"),e.qZA(),e.TgZ(87,"ion-buttons",31),e.TgZ(88,"ion-button",32),e._UZ(89,"ion-icon",33),e.qZA(),e.qZA(),e.TgZ(90,"ion-modal",34),e.YNc(91,F,4,1,"ng-template"),e.qZA(),e.qZA(),e.TgZ(92,"ion-item",15),e.TgZ(93,"ion-label",16),e._uU(94),e.ALo(95,"translate"),e.qZA(),e.TgZ(96,"ion-select",35),e.ALo(97,"translate"),e.TgZ(98,"ion-select-option",36),e._uU(99),e.ALo(100,"translate"),e.qZA(),e.TgZ(101,"ion-select-option",37),e._uU(102),e.ALo(103,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(104,"ion-item",15),e.TgZ(105,"ion-label",16),e._uU(106),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"ion-select",38),e.ALo(109,"translate"),e.TgZ(110,"ion-select-option",39),e._uU(111),e.ALo(112,"translate"),e.qZA(),e.TgZ(113,"ion-select-option",40),e._uU(114),e.ALo(115,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(116,"div",18),e.YNc(117,w,5,3,"div",19),e.qZA(),e.TgZ(118,"ion-item",15),e.TgZ(119,"ion-label",16),e._uU(120),e.ALo(121,"translate"),e.qZA(),e._UZ(122,"ion-input",41),e.ALo(123,"translate"),e.qZA(),e.TgZ(124,"div",18),e.YNc(125,I,5,3,"div",19),e.qZA(),e.qZA(),e.YNc(126,L,3,4,"ion-button",42),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Oqu(t.tituloxx),e.xp6(5),e.Q6J("formGroup",t.signupForm),e.xp6(1),e.Q6J("hidden",!0),e.xp6(5),e.Q6J("ngIf",void 0!==t.foto1img),e.xp6(3),e.Oqu(e.lcZ(18,42,"agregar_foto")),e.xp6(4),e.Oqu(e.lcZ(22,44,"nombre_completo")),e.xp6(2),e.s9C("placeholder",e.lcZ(24,46,"nombre_completo")),e.xp6(3),e.Q6J("ngIf",t.signupForm.get("nombre").hasError("required")&&(t.signupForm.get("nombre").dirty||t.signupForm.get("nombre").touched)),e.xp6(3),e.Oqu(e.lcZ(30,48,"usuario_emeil")),e.xp6(2),e.s9C("placeholder",e.lcZ(32,50,"usuario_emeil")),e.xp6(3),e.Q6J("ngForOf",t.validation_messages.email),e.xp6(3),e.Oqu(e.lcZ(38,52,"usuario_emeil_not")),e.xp6(2),e.s9C("placeholder",e.lcZ(40,54,"usuario_emeil_not")),e.xp6(4),e.Oqu(e.lcZ(44,56,"ingrese_direccion")),e.xp6(2),e.s9C("placeholder",e.lcZ(46,58,"ingrese_direccion")),e.xp6(3),e.s9C("title",e.lcZ(49,60,"selec_ubicacion")),e.xp6(4),e.Q6J("ngIf",t.signupForm.get("direccion").hasError("required")&&(t.signupForm.get("direccion").dirty||t.signupForm.get("direccion").touched)),e.xp6(3),e.Oqu(e.lcZ(56,62,"ingrese_telefono8")),e.xp6(2),e.s9C("placeholder",e.lcZ(58,64,"ingrese_telefono8")),e.xp6(3),e.Q6J("ngIf",t.signupForm.get("telefono").hasError("required")&&(t.signupForm.get("telefono").dirty||t.signupForm.get("telefono").touched)),e.xp6(3),e.Oqu(e.lcZ(64,66,"identificador")),e.xp6(2),e.s9C("placeholder",e.lcZ(66,68,"identificador")),e.xp6(4),e.Oqu(e.lcZ(70,70,"sexo")),e.xp6(2),e.s9C("placeholder",e.lcZ(72,72,"SELECTVALORM")),e.xp6(3),e.Oqu(e.lcZ(75,74,"masculino")),e.xp6(3),e.AsE("",e.lcZ(78,76,"femenino"),"",e.lcZ(79,78,""),""),e.xp6(5),e.Oqu(e.lcZ(83,80,"fecha_nac")),e.xp6(3),e.Oqu(e.xi3(86,82,t.fechanac,"dd-MM-yyyy")),e.xp6(9),e.Oqu(e.lcZ(95,85,"estado")),e.xp6(2),e.s9C("placeholder",e.lcZ(97,87,"SELECTVALORM")),e.xp6(3),e.Oqu(e.lcZ(100,89,"activo")),e.xp6(3),e.Oqu(e.lcZ(103,91,"inactivo")),e.xp6(4),e.hij("",e.lcZ(107,93,"aplicapin")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(109,95,"SELECTVALORM")),e.xp6(3),e.Oqu(e.lcZ(112,97,"aplicar")),e.xp6(3),e.Oqu(e.lcZ(115,99,"noaplicar")),e.xp6(3),e.Q6J("ngIf",t.signupForm.get("estado").hasError("required")&&(t.signupForm.get("estado").dirty||t.signupForm.get("estado").touched)),e.xp6(3),e.hij("",e.lcZ(121,101,"ingrese_pin")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(123,103,"ingrese_pin")),e.xp6(3),e.Q6J("ngIf",t.signupForm.get("pin").hasError("required")&&(t.signupForm.get("pin").dirty||t.signupForm.get("pin").touched)),e.xp6(1),e.Q6J("ngIf","Si"===t.siperfil))},directives:[a.Gu,a.sr,a.wd,a.Sm,a.YG,a.gu,a.W2,o._Y,o.JL,o.sg,a.pK,a.j9,o.JJ,o.u,a.q_,a.Bs,p.O5,a.Nd,a.Ie,a.Q$,o.Q7,p.sg,a.as,a.t9,a.QI,a.n0,a.yW,a.ki,a.x4],pipes:[d.X$,p.uU],styles:["[_nghost-%COMP%]{--page-margin: var(--app-broad-margin);--page-background: var(--app-background)}.illustration-wrapper[_ngcontent-%COMP%]{margin:0 10%}.add-photo-wrapper[_ngcontent-%COMP%]{justify-content:center}.user-image[_ngcontent-%COMP%]{--size: 150px;margin:auto}#profile-image[_ngcontent-%COMP%]{display:block;border-radius:100px;border:1px solid #fff;margin:0 auto;box-shadow:0 0 4px #000000b3}.decoration-col[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:1;min-height:12vh;transform:translate(0)}.decoration-col[_ngcontent-%COMP%]   .vector-decoration[_ngcontent-%COMP%]{fill:currentColor;color:var(--page-vector-decoration-fill);background-color:var(--page-background);padding-bottom:4px;transform:translate(0);shape-rendering:geometricprecision;height:calc(100% + 1px)}.signup-content[_ngcontent-%COMP%]{--background: var(--page-background);--padding-start: var(--page-margin);--padding-end: var(--page-margin);--padding-top: var(--page-margin);--padding-bottom: var(--page-margin)}.signup-content[_ngcontent-%COMP%]   .auth-title[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-weight:700;margin-top:calc(var(--page-margin) / 2);margin-bottom:calc(var(--page-margin) * 1.5);letter-spacing:.6px}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]{--ion-item-background: var(--page-background)}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{--padding-start: 0px;--padding-end: 0px;--inner-padding-end: 0px}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0px;display:flex;align-items:center;color:var(--ion-color-danger);font-size:14px}.signup-content[_ngcontent-%COMP%]   .inputs-list[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-padding-end:calc(var(--page-margin) / 2);padding-inline-end:calc(var(--page-margin) / 2)}.signup-content[_ngcontent-%COMP%]   .signup-btn[_ngcontent-%COMP%]{margin:calc(var(--page-margin) / 2) 0px}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{--color: var(--ion-color-secondary);margin:0}.signup-content[_ngcontent-%COMP%]   .other-auth-options-row[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]:focus{outline:none}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .options-divider[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin:var(--page-margin) 0px;text-align:center}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]{margin:0}.signup-content[_ngcontent-%COMP%]   .social-auth-options[_ngcontent-%COMP%]   .social-auth-btn[_ngcontent-%COMP%]:not(:first-child){margin-top:var(--page-margin)}.signup-content[_ngcontent-%COMP%]   .legal-stuff[_ngcontent-%COMP%]{text-align:center;font-size:14px;margin:var(--page-margin) 0px;color:var(--ion-color-medium)}.signup-content[_ngcontent-%COMP%]   .legal-stuff[_ngcontent-%COMP%]   .legal-action[_ngcontent-%COMP%]{font-weight:500;color:var(--ion-color-secondary);cursor:pointer}"]}),i})();var N=c(89330),Y=c(71408),C=c(98246);function J(i,s){if(1&i){const n=e.EpF();e.TgZ(0,"ion-button",3),e.NdJ("click",function(){return e.CHM(n),e.oxw().cambioclave()}),e.ALo(1,"translate"),e._UZ(2,"ion-icon",8),e.qZA()}2&i&&e.MGl("title"," ",e.lcZ(1,1,"CAMBIOCLAVEM"),"")}const E=function(){return{w:1,h:1}};function V(i,s){if(1&i&&(e.TgZ(0,"ion-content",9),e.TgZ(1,"ion-row",10),e.TgZ(2,"ion-col",11),e.TgZ(3,"app-aspect-ratio",12),e._UZ(4,"app-image-shell",13),e.qZA(),e.qZA(),e.TgZ(5,"ion-col",14),e.TgZ(6,"h3",15),e._uU(7),e.qZA(),e.TgZ(8,"h5",16),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"ion-col",17),e._UZ(11,"ngx-qrcode",18),e.TgZ(12,"p",19),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"ion-row",20),e.TgZ(16,"ion-col",17),e.TgZ(17,"h4",21),e._uU(18,"E-mail:"),e.qZA(),e.TgZ(19,"div",22),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"ion-col",17),e.TgZ(22,"h4",21),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",22),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"ion-col",17),e.TgZ(28,"h4",21),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",22),e._uU(32),e.qZA(),e.qZA(),e.TgZ(33,"ion-col",17),e.TgZ(34,"h4",21),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"p",22),e._uU(38),e._UZ(39,"br"),e.qZA(),e.qZA(),e.TgZ(40,"ion-col",17),e.TgZ(41,"h4",21),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"p",22),e._uU(45),e._UZ(46,"br"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const n=s.$implicit,t=e.oxw();e.xp6(3),e.Q6J("ratio",e.DdM(28,E)),e.xp6(1),e.Q6J("src",t.apifoto+n.foto)("alt","image"),e.xp6(3),e.Oqu(n.nombre),e.xp6(2),e.Oqu(n.email),e.xp6(2),e.Q6J("elementType",t.elementType)("value",t.qrData),e.xp6(2),e.AsE(" ",e.lcZ(14,18,"role"),": ",n.role," "),e.xp6(7),e.hij(" ",n.email," "),e.xp6(3),e.Oqu(e.lcZ(24,20,"identificador")),e.xp6(3),e.hij(" ",n.cui," "),e.xp6(3),e.Oqu(e.lcZ(30,22,"telefono")),e.xp6(3),e.hij(" ",n.telefono," "),e.xp6(3),e.Oqu(e.lcZ(36,24,"direccion")),e.xp6(3),e.hij(" ",n.direccion," "),e.xp6(4),e.Oqu(e.lcZ(43,26,"estado")),e.xp6(3),e.hij(" ",n.estado," ")}}let z=(()=>{class i{constructor(n,t,r,l,u,f,Z,_){this.routerOutlet=n,this.platform=t,this.alertController=r,this.router=l,this.translateService=u,this.modalController=f,this.authenticationService=Z,this.fb=_,this.qrData="tico",this.scannedCode=null,this.elementType="canvas",this.userinfo=[],this.viewType="grid",this.tituloxx="",this.pofilel="/api/image2s/5f224dc8370747006026c0cb",this.variables=[],this.luser=[],this.apifoto=this.authenticationService.getapifoto()}ionViewDidEnter(){this.luser.push(this.authenticationService.getcopiauser()[0])}ngOnInit(){this.userinfo=this.authenticationService.getcopiauser(),this.siperfil="No"===this.userinfo[0].idempresa.siperfil||"Administrador"===this.userinfo[0].role&&"Si"===this.userinfo[0].idempresa.siperfil?"Si":"No",this.authenticationService.getReg(this.userinfo[0].cui+"/personadisp/"+this.userinfo[0].idempresa._id,"personals",0).then(n=>{var t;this.qrData=this.authenticationService.encryptvalue((t=n)[0].cui+"\xb0"+t[0]._id+"\xb0"+t[0].nombre+"\xb0"+t[0].id2+"\xb0"+t[0].saldo+"\xb0"+this.userinfo[0].idempresa._id+"\xb0"+t[0]._id+"\xb0QRFIJO")}),this.logo1=this.authenticationService.dalogo1(this.userinfo),this.tituloxx=this.router.getCurrentNavigation().extras.state?this.router.getCurrentNavigation().extras.state.titulo:this.authenticationService.datraduccion("micuenta")}cambioperfil(){return(0,g.mG)(this,void 0,void 0,function*(){var n="modal-fullscreen";"true"===this.userinfo[0].idempresa.modopc&&(this.platform.is("desktop")||this.platform.is("mobileweb"))&&(n="modal-fullscreen2");const t=yield this.modalController.create({component:k,id:"modal-filters",backdropDismiss:!0,presentingElement:yield this.modalController.getTop(),componentProps:{luser:this.luser,siperfil:this.siperfil,title:"Actualizar perfil"},cssClass:n});return t.onWillDismiss().then(r=>{"close"===r.data&&this.luser.push(this.authenticationService.getcopiauser()[0])}),yield t.present()})}cambioclave(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:this.authenticationService.datraduccion("cambio_clave"),inputs:[{name:"clave1",placeholder:this.authenticationService.datraduccion("clavenueva1"),type:"password",value:""},{name:"clave2",placeholder:this.authenticationService.datraduccion("clavenueva2"),type:"password",value:""}],buttons:[{text:this.authenticationService.datraduccion("cancelar"),role:"cancel",cssClass:"secondary",handler:t=>{}},{text:this.authenticationService.datraduccion("actualiza_clave"),handler:t=>{t&&(t.clave1===t.clave2?this.authenticationService.createAPISINTOKEN({idempresa:this.userinfo[0].idempresa._id,email:this.userinfo[0].email,password:t.clave1,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Actualiza",accion:"Cambia clave"}},"/api/auth/register2").then(l=>{this.authenticationService.presentAlert("Exito","Operaci\xf3n realizada con exito.","")},l=>{this.authenticationService.presentAlert(this.authenticationService.datraduccion("precaucion"),this.authenticationService.datraduccion("email_cuenta"),"")}):this.authenticationService.presentAlert(this.authenticationService.datraduccion("precaucion"),this.authenticationService.datraduccion("clavenoconcide"),""))}}]})).present().then(()=>{document.querySelector("ion-alert password").focus()})})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(a.jP),e.Y36(a.t4),e.Y36(a.Br),e.Y36(h.F0),e.Y36(d.sK),e.Y36(a.IN),e.Y36(A.$),e.Y36(o.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-contact-card"]],decls:13,vars:7,consts:[["slot","start"],["size","small","color","light"],["collapse","true","slot","end"],["color","light",3,"title","click"],["slot","icon-only","name","checkmark-outline"],["color","light",3,"title","click",4,"ngIf"],["alt","logo","id","header_logo","height","33",3,"src"],["class","contact-card-content",4,"ngFor","ngForOf"],["slot","icon-only","name","key-outline"],[1,"contact-card-content"],[1,"user-details-wrapper"],["size","4"],[3,"ratio"],["animation","spinner",1,"user-avatar",3,"src","alt"],["size","8",1,"user-info-wrapper"],[1,"user-name"],[1,"user-handle"],["size","12"],[3,"elementType","value"],[1,"user-bio"],[1,"user-preferences-wrapper"],[1,"preference-name"],[1,"preference-value"]],template:function(n,t){1&n&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-buttons",0),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title",1),e._uU(5),e.qZA(),e.TgZ(6,"ion-buttons",2),e.TgZ(7,"ion-button",3),e.NdJ("click",function(){return t.cambioperfil()}),e.ALo(8,"translate"),e._UZ(9,"ion-icon",4),e.qZA(),e.YNc(10,J,3,3,"ion-button",5),e._UZ(11,"img",6),e.qZA(),e.qZA(),e.qZA(),e.YNc(12,V,47,29,"ion-content",7)),2&n&&(e.xp6(5),e.hij(" ",t.tituloxx," "),e.xp6(2),e.MGl("title"," ",e.lcZ(8,5,"ACTUALIZAPERFILM"),""),e.xp6(3),e.Q6J("ngIf","Si"===t.siperfil),e.xp6(1),e.Q6J("src",t.apifoto+t.logo1,e.LSH),e.xp6(1),e.Q6J("ngForOf",t.luser))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.wd,a.YG,a.gu,p.O5,p.sg,a.W2,a.Nd,a.wI,N.m,Y.U,C.zF],pipes:[d.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-broad-margin);--page-background: var(--app-background-shade);--page-highlighted-background: var(--ion-color-secondary)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: var(--page-highlighted-background)}.contact-card-content[_ngcontent-%COMP%]{--background: var(--page-background);transform:translateZ(0)}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]{--ion-grid-column-padding: 10px;padding:10px var(--page-margin) var(--page-margin);background-color:var(--page-highlighted-background);color:var(--ion-color-light);align-items:center}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{border:solid 3px var(--ion-color-light)}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]{padding-left:calc(var(--page-margin) / 2)}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{margin:0 0 5px}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-info-wrapper[_ngcontent-%COMP%]   .user-handle[_ngcontent-%COMP%]{margin:0;font-weight:400}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-stats-wrapper[_ngcontent-%COMP%]{text-align:center;padding-top:calc(var(--page-margin) / 2)}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-stats-wrapper[_ngcontent-%COMP%]   .user-stat-value[_ngcontent-%COMP%]{margin-right:5px;font-weight:500;font-size:18px}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-stats-wrapper[_ngcontent-%COMP%]   .user-stat-name[_ngcontent-%COMP%]{font-size:16px}.contact-card-content[_ngcontent-%COMP%]   .user-details-wrapper[_ngcontent-%COMP%]   .user-bio[_ngcontent-%COMP%]{margin:var(--page-margin) 0px 0px;line-height:1.2;font-size:14px}.contact-card-content[_ngcontent-%COMP%]   .user-preferences-wrapper[_ngcontent-%COMP%]{--ion-grid-column-padding: 0px;padding:var(--page-margin)}.contact-card-content[_ngcontent-%COMP%]   .user-preferences-wrapper[_ngcontent-%COMP%]   .preference-name[_ngcontent-%COMP%]{margin:0 0 5px;font-size:16px}.contact-card-content[_ngcontent-%COMP%]   .user-preferences-wrapper[_ngcontent-%COMP%]   .preference-value[_ngcontent-%COMP%]{margin:0px 0px calc(var(--page-margin) / 2);font-size:14px;line-height:1.4;color:var(--ion-color-dark-tint)}"]}),i})();var Q=c(33678),G=c(81656);let D=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[a.Pc,p.ez,o.u5,C.F5,G.YZ,Q.K,o.UX,d.aw.forChild(),h.Bz.forChild([{path:"",component:z}])]]}),i})()}}]);