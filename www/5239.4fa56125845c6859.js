"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5239],{50076:(C,T,l)=>{l.d(T,{oK:()=>n,GW:()=>f,dk:()=>_});var n=(()=>{return(s=n||(n={})).Prompt="PROMPT",s.Camera="CAMERA",s.Photos="PHOTOS",n;var s})(),f=(()=>{return(s=f||(f={})).Rear="REAR",s.Front="FRONT",f;var s})(),_=(()=>{return(s=_||(_={})).Uri="uri",s.Base64="base64",s.DataUrl="dataUrl",_;var s})()},26388:(C,T,l)=>{l.d(T,{dk:()=>f.dk,oK:()=>f.oK,V1:()=>_});var n=l(47423),f=l(50076);const _=(0,n.fo)("Camera",{web:()=>l.e(3954).then(l.bind(l,63954)).then(s=>new s.CameraWeb)})},55239:(C,T,l)=>{l.r(T),l.d(T,{UserListPageModule:()=>ne});var n=l(23349),f=l(55787),_=l(69808),s=l(33678),g=l(51062),c=l(93075),Z=l(36351),h=l(70655),v=l(49926),d=l(4707),p=l(63814),b=l(15190),A=l(26388),e=l(5e3),P=l(81656);const F=["inputId"],M=["fotoa"];function I(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese nombre"),e.qZA(),e.qZA())}function k(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese correo"),e.qZA(),e.qZA())}function L(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese nombre de usuario alias"),e.qZA(),e.qZA())}function w(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese rol"),e.qZA(),e.qZA())}function N(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese CUI"),e.qZA(),e.qZA())}function E(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese direcci\xf3n"),e.qZA(),e.qZA())}function O(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese tel\xe9fono"),e.qZA(),e.qZA())}function S(r,u){if(1&r&&(e.TgZ(0,"ion-avatar",44),e._UZ(1,"ion-img",45),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("src",t.fotoimg)}}function J(r,u){1&r&&(e.TgZ(0,"div",42),e._UZ(1,"ion-icon",43),e.TgZ(2,"span"),e._uU(3,"Ingrese estado"),e.qZA(),e.qZA())}let q=(()=>{class r{constructor(t,i,o,a,m){this.modalController=t,this.translateService=i,this.authenticationService=o,this.navParams=a,this.actionSheetController=m,this.vlenguaje=[],this.vsexo=[],this.variables=[],this.userinfo=[],this.sinrole=!1,this.tituloxx="",this.vgrupo=[],this.datePickerObj={closeOnSelect:!0,mondayFirst:!0,showTodayButton:!1,closeLabel:"Cancelar",todayLabel:"Hoy",clearButton:!1,titleLabel:"Fecha: ",monthsList:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weeksList:["D","L","M","M","J","V","S"],dateFormat:"DD-MM-YYYY",momentLocale:"pt-BR",yearInAscending:!0,btnCloseSetInReverse:!1,btnProperties:{expand:"block",fill:"",size:"",disabled:"",strong:"",color:""}},this.apifoto=this.authenticationService.getapifoto()}ngAfterViewInit(){setTimeout(()=>{this.inputElement.setFocus()},400)}dismissModal(){this.modalController.dismiss({estado:"close",msm:""})}ionViewDidEnter(){}ngOnInit(){this.role="",this.variables=this.navParams.get("variables"),this.userinfo=this.navParams.get("userinfo"),this.idllave=this.navParams.get("idllave"),this.idasociado=this.navParams.get("idasociado"),this.iddispositivo=this.navParams.get("iddispositivo"),this.ndisp=this.navParams.get("ndisp"),this.tituloxx=this.navParams.get("title"),this.Form=new c.cw({nombre:new c.NI("",c.kI.required),nombrealias:new c.NI("",c.kI.required),correo:new c.NI("",c.kI.required),role:new c.NI("",c.kI.required),cui:new c.NI(""),direccion:new c.NI("",c.kI.required),telefono:new c.NI("",c.kI.required),fechanac:new c.NI(""),correonotifica:new c.NI(""),foto:new c.NI(""),estado:new c.NI("",c.kI.required),lenguaje:new c.NI(""),sexo:new c.NI(""),codigopersonal:new c.NI("")}),void 0===this.idllave?this.idllave="":(this.role="Asociado operador",this.Form.controls.role.setValue(this.role),this.sinrole=!0),null==this.navParams.get("record")?(this.translateService.get("NUEVOM").subscribe(t=>{this.tituloxx=t+" "+this.tituloxx,this.lpermiso=t}),this.iddispositivo&&(this.Form.controls.nombre.setValue(this.ndisp),this.Form.controls.nombrealias.setValue(this.ndisp),this.Form.controls.correo.setValue(this.ndisp+"@gmail.com"),this.Form.controls.role.setValue("Asociado dispositivo"),this.Form.controls.cui.setValue("123456789012"),this.Form.controls.direccion.setValue("direccion"),this.Form.controls.telefono.setValue("12345678"),this.Form.controls.estado.setValue("Activo"),this.Form.controls.lenguaje.setValue("Espa\xf1ol"),this.Form.controls.sexo.setValue("Masculino"),this.Form.controls.codigopersonal.setValue(this.ndisp))):(this.translateService.get("ACTUALIZAM").subscribe(t=>{this.tituloxx=t+" "+this.tituloxx,this.lpermiso=t}),this._ID=this.navParams.data.record._id,this.Form.controls.nombre.setValue(this.navParams.data.record.nombre),this.Form.controls.nombrealias.setValue(this.navParams.data.record.nombrealias),this.Form.controls.correo.setValue(this.navParams.data.record.email),this.Form.controls.correonotifica.setValue(this.navParams.data.record.correonotifica),this.Form.controls.role.setValue(this.navParams.data.record.role),this.Form.controls.cui.setValue(this.navParams.data.record.cui),this.Form.controls.direccion.setValue(this.navParams.data.record.direccion),this.Form.controls.telefono.setValue(this.navParams.data.record.telefono),this.Form.controls.fechanac.setValue(this.authenticationService.dafecha(this.navParams.data.record.fechanac,1)),this.authenticationService.convertToDataURLviaCanvas(this.authenticationService.getapifoto()+this.navParams.data.record.foto,"image/jpeg").then(t=>this.fotoimg=t),this.Form.controls.foto.setValue(this.navParams.data.record.foto),this.Form.controls.estado.setValue(this.navParams.data.record.estado),this.Form.controls.lenguaje.setValue(this.navParams.data.record.lenguaje),this.Form.controls.sexo.setValue(this.navParams.data.record.sexo),this.Form.controls.codigopersonal.setValue(this.navParams.data.record.codigopersonal))}submitForm0(){this.authenticationService.subefoto("","Image2s",this.fotoimg,"","","","","create",this.userinfo[0].idempresa._id,"",this.idllave).then(t=>{let i=[];i=t,this.Form.controls.foto.setValue(i.url);const o={idempresa:this.userinfo[0].idempresa._id,email:this.Form.controls.correo.value,correonotifica:this.Form.controls.correonotifica.value,role:this.Form.controls.role.value,password:"Admin123",nombre:this.Form.controls.nombre.value,nombrealias:this.Form.controls.nombrealias.value,cui:this.Form.controls.cui.value,direccion:this.Form.controls.direccion.value,telefono:this.Form.controls.telefono.value,idasociado:this.idasociado,idsucursal:this.idllave,iddispositivo:this.iddispositivo,iddispositivo2:this.ndisp,lenguaje:this.Form.controls.lenguaje.value,sexo:this.Form.controls.sexo.value,estado:this.Form.controls.estado.value,nov:"",unidad:"5bad21a11c7b5027147e31d9",estadoemail:"1",interno:"0",tiposuscriptor:"5be1b6479c9f2200e8311570",APP:this.userinfo[0].idempresa._id,accesoestado:"",accesohora:"",controlacceso:"",saldo:"0",codigopersonal:this.Form.controls.codigopersonal.value,usuarioup:this.userinfo[0].email,usuarionew:this.userinfo[0].email,fechanac:this.authenticationService.dafecha(this.Form.controls.fechanac.value,2),foto:this.Form.controls.foto.value,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:this.lpermiso,accion:this.tituloxx}};o&&this.authenticationService.createAPITOKEN(o,"/api/auth/registera").then(a=>{let m=[];m=a,this.Form.valid&&this.modalController.dismiss({estado:"ok",msm:"Usuario: "+this.Form.controls.correo.value+"\n Clave: "+m.user.password})},a=>{this.authenticationService.presentAlert(a.error,"Precauci\xf3n","")})},t=>{this.authenticationService.presentAlert(t.error,"Precauci\xf3n","")})}submitForm1(){this.authenticationService.subefoto("","Image2s",this.fotoimg,"","","",this.Form.controls.foto.value,"update",this.userinfo[0].idempresa._id,this._ID,"").then(t=>{let i=[];i=t,this.Form.controls.foto.setValue(i.url);const o={idempresa:this.userinfo[0].idempresa._id,email:this.Form.controls.correo.value,correonotifica:this.Form.controls.correonotifica.value,role:this.Form.controls.role.value,nombrealias:this.Form.controls.nombrealias.value,idasociado:this.idasociado,idsucursal:this.idllave,iddispositivo:this.iddispositivo,iddispositivo2:this.ndisp,nombre:this.Form.controls.nombre.value,cui:this.Form.controls.cui.value,direccion:this.Form.controls.direccion.value,telefono:this.Form.controls.telefono.value,lenguaje:this.Form.controls.lenguaje.value,sexo:this.Form.controls.sexo.value,estado:this.Form.controls.estado.value,nov:"",unidad:"5bad21a11c7b5027147e31d9",estadoemail:"1",interno:"0",tiposuscriptor:"5be1b6479c9f2200e8311570",APP:this.userinfo[0].idempresa._id,accesoestado:"",accesohora:"",controlacceso:"",saldo:"0",codigopersonal:this.Form.controls.codigopersonal.value,usuarioup:this.userinfo[0].email,usuarionew:this.userinfo[0].email,fechanac:this.authenticationService.dafecha(this.Form.controls.fechanac.value,2),foto:this.Form.controls.foto.value,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:this.lpermiso,accion:this.tituloxx}};o&&this.authenticationService.createReg(this._ID,o,"personals").then(a=>{!this.Form.valid||this.modalController.dismiss({estado:"ok",msm:""})},a=>{this.authenticationService.presentAlert(a.error,"Precauci\xf3n","")})},t=>{this.authenticationService.presentAlert(t.error,"Precauci\xf3n","")})}submitForm(){null==this.navParams.get("record")?this.submitForm0():this.submitForm1()}dacomponente(t,i){return(0,h.mG)(this,void 0,void 0,function*(){let o="";"ubicacion"===t&&(o=this.Form.controls.ubicacion.value);const a=yield this.modalController.create({component:p.B,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{variables:this.variables,record:null,userinfo:this.userinfo,uubx:o},cssClass:"modal-fullscreen"});return a.onWillDismiss().then(m=>{"close"===m.data||("direccion"===t?this.Form.controls.direccion.setValue(m.data.direccion):this.Form.controls.ubicacion.setValue(m.data.direccion+" {"+m.data.la+"\xb0"+m.data.lo+"}"))}),yield a.present()})}takePicture(t){return(0,h.mG)(this,void 0,void 0,function*(){const i=yield A.V1.getPhoto({correctOrientation:!0,height:200,width:200,quality:60,allowEditing:!0,resultType:A.dk.DataUrl,source:A.oK.Camera});this.authenticationService.generateFromImage(i.dataUrl,200,200,.5,o=>{"fotoa"===t&&(this.fotoimg=o,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})})}uploadPWA2(t,i){i&&i.length>0&&this.firstFileToBase64(i[0]).then(a=>{this.authenticationService.generateFromImage(a,200,300,.5,m=>{"fotoa"===t&&(this.fotoimg=m,this.Form.controls.foto.setValue(this.authenticationService.procesafoto(this.Form.controls.foto.value)))})},a=>{"fotoa"===t&&(this.fotoimg=null)})}uploadPWA(t){if("fotoa"===t){if(null==this.fotoa)return;this.uploadPWA2(t,this.fotoa.nativeElement.files)}}firstFileToBase64(t){return new Promise((i,o)=>{const a=new FileReader;a&&null!=t?(a.readAsDataURL(t),a.onload=()=>{i(a.result)},a.onerror=m=>{o(m)}):o(new Error("No file found"))})}takePicture2(t){return(0,h.mG)(this,void 0,void 0,function*(){"fotoa"===t&&this.fotoa.nativeElement.click()})}fotodatos(t){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.actionSheetController.create({header:"Foto",cssClass:"my-custom-class",buttons:[{text:"Galeria",role:"destructive",icon:"image-outline",handler:()=>{this.takePicture2(t)}},{text:"Camara",icon:"camera-outline",handler:()=>{this.takePicture(t)}}]})).present()})}combodatoslimpia(t){return(0,h.mG)(this,void 0,void 0,function*(){this.Form.controls[t].setValue("")})}combodatos(t,i,o,a,m,U){return(0,h.mG)(this,void 0,void 0,function*(){"role"===U&&(void 0!==this.iddispositivo&&(U="role1"),U=void 0!==this.idasociado?"role1":"role");const y=yield this.modalController.create({component:b.j,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{grabax:U,variables:this.variables,userinfo:this.userinfo,record2:null,op:i,frm:o,idllave:this.idllave,titlex:"Buscar "+m},cssClass:"modal-fullscreen"});return y.onWillDismiss().then(re=>{let x=[];x=re,"close"!==x.data&&this.Form.controls[a].setValue(x.data?x.data.nombre:"")}),yield y.present()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.IN),e.Y36(g.sK),e.Y36(v.$),e.Y36(n.X1),e.Y36(n.BX))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-create"]],viewQuery:function(t,i){if(1&t&&(e.Gf(F,5),e.Gf(M,7)),2&t){let o;e.iGM(o=e.CRH())&&(i.inputElement=o.first),e.iGM(o=e.CRH())&&(i.fotoa=o.first)}},decls:131,vars:20,consts:[[1,"create-user-form","ion-page",3,"formGroup"],["color","primary"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"create-form-content"],[1,"user-details-fields","fields-section"],["lines","full",1,"inputs-list"],[1,"input-item"],["position","floating"],["color","danger"],["inputMode","text","clearInput","true","formControlName","nombre","required",""],["inputId",""],[1,"error-container"],["class","error-message",4,"ngIf"],["inputMode","text","clearInput","true","formControlName","correo","required",""],["inputMode","text","clearInput","true","formControlName","correonotifica","required",""],["inputMode","text","clearInput","true","formControlName","nombrealias","required",""],["inputMode","text","clearInput","true","formControlName","role","required","",1,"ion-text-end",3,"readonly","click"],["color","secondary","expand","full","title","Limpiar",3,"click"],["slot","icon-only","name","close-circle-outline"],["title","Seleccione Informaci\xf3n",3,"click"],["slot","icon-only","name","search-outline"],["inputMode","text","clearInput","true","formControlName","cui"],["inputMode","text","clearInput","true","formControlName","direccion","required",""],["inputMode","text","clearInput","true","formControlName","telefono","required",""],["readonly","","formControlName","fechanac",2,"text-align","right",3,"liIonic4Datepicker"],["inputMode","text","clearInput","true","formControlName","foto",3,"hidden"],["type","file","id","fotoa","accept","image/x-png,image/jpeg",2,"visibility","hidden","height","0px",3,"change"],["fotoa",""],["slot","end",4,"ngIf"],["title","Adjuntar Imagen",3,"click"],["slot","icon-only","name","camera-outline"],["formControlName","estado",3,"placeholder"],["text-wrap","","value","Activo"],["text-wrap","","value","Inactivo"],["inputMode","text","clearInput","true","formControlName","lenguaje",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","sexo",1,"ion-text-end",3,"readonly","click"],["inputMode","text","clearInput","true","formControlName","codigopersonal"],[1,"form-actions-wrapper"],["color","primary","expand","block","fill","outline","type","submit",3,"disabled","click"],[1,"error-message"],["name","information-circle-outline"],["slot","end"],["ionImgViewer","","scheme","dark",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.TgZ(1,"ion-header"),e.TgZ(2,"ion-toolbar",1),e.TgZ(3,"ion-buttons",2),e.TgZ(4,"ion-button",3),e.NdJ("click",function(){return i.dismissModal()}),e._UZ(5,"ion-icon",4),e.qZA(),e.qZA(),e.TgZ(6,"ion-title",5),e._uU(7),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"ion-content",6),e.TgZ(9,"section",7),e.TgZ(10,"ion-list",8),e.TgZ(11,"ion-item",9),e.TgZ(12,"ion-label",10),e._uU(13,"Nombre"),e.TgZ(14,"ion-text",11),e._uU(15,"(*)"),e.qZA(),e.qZA(),e._UZ(16,"ion-input",12,13),e.qZA(),e.TgZ(18,"div",14),e.YNc(19,I,4,0,"div",15),e.qZA(),e.TgZ(20,"ion-item",9),e.TgZ(21,"ion-label",10),e._uU(22,"Usuario/Email"),e.TgZ(23,"ion-text",11),e._uU(24,"(*)"),e.qZA(),e.qZA(),e._UZ(25,"ion-input",16),e.qZA(),e.TgZ(26,"div",14),e.YNc(27,k,4,0,"div",15),e.qZA(),e.TgZ(28,"ion-item",9),e.TgZ(29,"ion-label",10),e._uU(30,"Email de notificaci\xf3n"),e.TgZ(31,"ion-text",11),e._uU(32,"(*)"),e.qZA(),e.qZA(),e._UZ(33,"ion-input",17),e.qZA(),e.TgZ(34,"ion-item",9),e.TgZ(35,"ion-label",10),e._uU(36,"Usuario alias"),e.TgZ(37,"ion-text",11),e._uU(38,"(*)"),e.qZA(),e.qZA(),e._UZ(39,"ion-input",18),e.qZA(),e.TgZ(40,"div",14),e.YNc(41,L,4,0,"div",15),e.qZA(),e.TgZ(42,"ion-item",9),e.TgZ(43,"ion-label"),e._uU(44,"ROL"),e.TgZ(45,"ion-text",11),e._uU(46,"(*)"),e.qZA(),e.qZA(),e.TgZ(47,"ion-input",19),e.NdJ("click",function(){return i.combodatos(1,"1000-lenguaje-plantilla","frmcats","role","role","role")}),e.qZA(),e.TgZ(48,"ion-buttons",2),e.TgZ(49,"ion-button",20),e.NdJ("click",function(){return i.combodatoslimpia("role")}),e._UZ(50,"ion-icon",21),e.qZA(),e.TgZ(51,"ion-button",22),e.NdJ("click",function(){return i.combodatos(1,"1000-lenguaje-plantilla","frmcats","role","role","role")}),e._UZ(52,"ion-icon",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(53,"div",14),e.YNc(54,w,4,0,"div",15),e.qZA(),e.TgZ(55,"ion-item",9),e.TgZ(56,"ion-label",10),e._uU(57,"CUI"),e.qZA(),e._UZ(58,"ion-input",24),e.qZA(),e.TgZ(59,"div",14),e.YNc(60,N,4,0,"div",15),e.qZA(),e.TgZ(61,"ion-item",9),e.TgZ(62,"ion-label",10),e._uU(63,"Direcci\xf3n"),e.TgZ(64,"ion-text",11),e._uU(65,"(*)"),e.qZA(),e.qZA(),e._UZ(66,"ion-input",25),e.qZA(),e.TgZ(67,"div",14),e.YNc(68,E,4,0,"div",15),e.qZA(),e.TgZ(69,"ion-item",9),e.TgZ(70,"ion-label",10),e._uU(71,"Tel\xe9fono"),e.TgZ(72,"ion-text",11),e._uU(73,"(*)"),e.qZA(),e.qZA(),e._UZ(74,"ion-input",26),e.qZA(),e.TgZ(75,"div",14),e.YNc(76,O,4,0,"div",15),e.qZA(),e.TgZ(77,"ion-item",9),e.TgZ(78,"ion-label",10),e._uU(79,"Fecha nacimiento"),e.qZA(),e._UZ(80,"ion-input",27),e.qZA(),e._UZ(81,"ion-input",28),e.TgZ(82,"input",29,30),e.NdJ("change",function(){return i.uploadPWA("fotoa")}),e.qZA(),e.TgZ(84,"ion-item",9),e.TgZ(85,"ion-label"),e._uU(86,"Foto"),e.qZA(),e.YNc(87,S,2,1,"ion-avatar",31),e.TgZ(88,"ion-buttons",2),e.TgZ(89,"ion-button",32),e.NdJ("click",function(){return i.fotodatos("fotoa")}),e._UZ(90,"ion-icon",33),e.qZA(),e.qZA(),e.qZA(),e.TgZ(91,"ion-item",9),e.TgZ(92,"ion-label"),e._uU(93,"Estado"),e.TgZ(94,"ion-text",11),e._uU(95,"(*)"),e.qZA(),e.qZA(),e.TgZ(96,"ion-select",34),e.ALo(97,"translate"),e.TgZ(98,"ion-select-option",35),e._uU(99,"Activo"),e.qZA(),e.TgZ(100,"ion-select-option",36),e._uU(101,"Inactivo"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(102,"div",14),e.YNc(103,J,4,0,"div",15),e.qZA(),e.TgZ(104,"ion-item",9),e.TgZ(105,"ion-label"),e._uU(106,"Lenguaje"),e.qZA(),e.TgZ(107,"ion-input",37),e.NdJ("click",function(){return i.combodatos(1,"1000-lenguaje-plantilla","frmcats","lenguaje","Lenguaje","sigraba")}),e.qZA(),e.TgZ(108,"ion-buttons",2),e.TgZ(109,"ion-button",20),e.NdJ("click",function(){return i.combodatoslimpia("leguaje")}),e._UZ(110,"ion-icon",21),e.qZA(),e.TgZ(111,"ion-button",22),e.NdJ("click",function(){return i.combodatos(1,"1000-lenguaje-plantilla","frmcats","lenguaje","Lenguaje","sigraba")}),e._UZ(112,"ion-icon",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(113,"ion-item",9),e.TgZ(114,"ion-label"),e._uU(115,"Sexo"),e.qZA(),e.TgZ(116,"ion-input",38),e.NdJ("click",function(){return i.combodatos(1,"1000-sexo-plantilla","frmcats","sexo","Sexo","sigraba")}),e.qZA(),e.TgZ(117,"ion-buttons",2),e.TgZ(118,"ion-button",20),e.NdJ("click",function(){return i.combodatoslimpia("sexo")}),e._UZ(119,"ion-icon",21),e.qZA(),e.TgZ(120,"ion-button",22),e.NdJ("click",function(){return i.combodatos(1,"1000-sexo-plantilla","frmcats","sexo","Sexo","sigraba")}),e._UZ(121,"ion-icon",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(122,"ion-item",9),e.TgZ(123,"ion-label",10),e._uU(124,"Codigo de personal"),e.qZA(),e._UZ(125,"ion-input",39),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(126,"ion-footer"),e.TgZ(127,"ion-row",40),e.TgZ(128,"ion-col"),e.TgZ(129,"ion-button",41),e.NdJ("click",function(){return i.submitForm()}),e._uU(130,"CREAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("formGroup",i.Form),e.xp6(7),e.Oqu(i.tituloxx),e.xp6(12),e.Q6J("ngIf",i.Form.get("nombre").hasError("required")&&(i.Form.get("nombre").dirty||i.Form.get("nombre").touched)),e.xp6(8),e.Q6J("ngIf",i.Form.get("correo").hasError("required")&&(i.Form.get("correo").dirty||i.Form.get("correo").touched)),e.xp6(14),e.Q6J("ngIf",i.Form.get("nombrealias").hasError("required")&&(i.Form.get("nombrealias").dirty||i.Form.get("nombrealias").touched)),e.xp6(6),e.Q6J("readonly",!0),e.xp6(7),e.Q6J("ngIf",i.Form.get("role").hasError("required")&&(i.Form.get("role").dirty||i.Form.get("role").touched)),e.xp6(6),e.Q6J("ngIf",i.Form.get("cui").hasError("required")&&(i.Form.get("cui").dirty||i.Form.get("cui").touched)),e.xp6(8),e.Q6J("ngIf",i.Form.get("direccion").hasError("required")&&(i.Form.get("direccion").dirty||i.Form.get("direccion").touched)),e.xp6(8),e.Q6J("ngIf",i.Form.get("telefono").hasError("required")&&(i.Form.get("telefono").dirty||i.Form.get("telefono").touched)),e.xp6(4),e.Q6J("liIonic4Datepicker",i.datePickerObj),e.xp6(1),e.Q6J("hidden",!0),e.xp6(6),e.Q6J("ngIf",void 0!==i.fotoimg),e.xp6(9),e.s9C("placeholder",e.lcZ(97,18,"SELECTVALORM")),e.xp6(7),e.Q6J("ngIf",i.Form.get("estado").hasError("required")&&(i.Form.get("estado").dirty||i.Form.get("estado").touched)),e.xp6(4),e.Q6J("readonly",!0),e.xp6(9),e.Q6J("readonly",!0),e.xp6(13),e.Q6J("disabled",!i.Form.valid))},directives:[c._Y,c.JL,c.sg,n.Gu,n.sr,n.Sm,n.YG,n.gu,n.wd,n.W2,n.q_,n.Ie,n.Q$,n.yW,n.pK,n.j9,c.JJ,c.u,c.Q7,_.O5,P.w5,n.t9,n.QI,n.n0,n.fr,n.Nd,n.wI,n.BJ,n.Xz,Z.Bg],pipes:[g.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),r})();var R=l(26806);function D(r,u){1&r&&e._UZ(0,"ion-back-button",32)}function j(r,u){1&r&&e._UZ(0,"ion-menu-button")}function Q(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"ion-button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeToList()}),e._UZ(1,"ion-icon",34),e.qZA()}}function G(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"ion-button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeToGrid()}),e._UZ(1,"ion-icon",35),e.qZA()}}function V(r,u){if(1&r&&(e.TgZ(0,"ion-label"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.lnq("",e.lcZ(2,3,"NOREGISTROSM")," ",t.itemsList.length," ",e.lcZ(3,5,"NOREGISTROSM5"),"")}}function Y(r,u){1&r&&(e.TgZ(0,"ion-item",37),e.TgZ(1,"ion-label",38),e._UZ(2,"skeleton-element"),e._UZ(3,"skeleton-element"),e._UZ(4,"skeleton-element",39),e.qZA(),e.qZA())}const B=function(){return[0,1,2,3,4,5,6]};function W(r,u){1&r&&(e.TgZ(0,"ion-list"),e.YNc(1,Y,5,0,"ion-item",36),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,B)))}function K(r,u){if(1&r&&e._UZ(0,"ion-img-viewer",51),2&r){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("title",t.nombre)("src",i.apifoto+t.foto)}}function z(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"ion-item",41),e.TgZ(1,"ion-grid"),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).updateRecord(a)}),e.TgZ(4,"ion-avatar",1),e.YNc(5,K,1,2,"ion-img-viewer",43),e.qZA(),e.TgZ(6,"ion-label",38),e.TgZ(7,"ion-note",44),e._uU(8),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"p"),e.TgZ(11,"strong"),e._uU(12,"Nombre:"),e.qZA(),e._uU(13),e._UZ(14,"br"),e.TgZ(15,"strong"),e._uU(16," Usuario/ Email:"),e.qZA(),e._uU(17),e._UZ(18,"br"),e.TgZ(19,"strong"),e._uU(20," Email notificaci\xf3n:"),e.qZA(),e._uU(21),e._UZ(22,"br"),e.TgZ(23,"strong"),e._uU(24," Role:"),e.qZA(),e._uU(25),e._UZ(26,"br"),e.TgZ(27,"strong"),e._uU(28," Cui:"),e.qZA(),e._uU(29),e._UZ(30,"br"),e.TgZ(31,"strong"),e._uU(32," Direccion:"),e.qZA(),e._uU(33),e._UZ(34,"br"),e.TgZ(35,"strong"),e._uU(36," Telefono:"),e.qZA(),e._uU(37),e._UZ(38,"br"),e.qZA(),e.TgZ(39,"ion-badge",45),e._uU(40),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"ion-row"),e.TgZ(42,"ion-col",18),e.TgZ(43,"ion-toolbar",46),e.TgZ(44,"ion-buttons",47),e.TgZ(45,"ion-button",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).deleteRecord(a)}),e.ALo(46,"translate"),e._UZ(47,"ion-icon",48),e.qZA(),e.qZA(),e.TgZ(48,"ion-buttons",47),e.TgZ(49,"ion-button",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).cambioclave(a)}),e.ALo(50,"translate"),e._UZ(51,"ion-icon",50),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=u.$implicit,i=u.index;e.xp6(5),e.Q6J("ngIf",void 0!==t.foto),e.xp6(3),e.hij("No. ",i+1,""),e.xp6(5),e.hij(" ",t.nombre," "),e.xp6(4),e.hij(" ",t.email,""),e.xp6(4),e.hij(" ",t.correonotifica,""),e.xp6(4),e.hij(" ",t.role,""),e.xp6(4),e.hij(" ",t.cui,""),e.xp6(4),e.hij(" ",t.direccion,""),e.xp6(4),e.hij(" ",t.telefono,""),e.xp6(3),e.Oqu(t.estado),e.xp6(5),e.s9C("title",e.lcZ(46,12,"ELIMINARM")),e.xp6(4),e.MGl("title"," ",e.lcZ(50,14,"CAMBIOCLAVEM"),"")}}function H(r,u){if(1&r&&(e.TgZ(0,"ion-list"),e.YNc(1,z,52,16,"ion-item",40),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.itemsList)("ngForTrackBy",t.trackItems)}}function $(r,u){if(1&r&&e._UZ(0,"ion-img-viewer",51),2&r){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("title",t.nombre)("src",i.apifoto+t.foto)}}function X(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"ion-col",53),e.TgZ(1,"ion-card"),e.TgZ(2,"ion-row",54),e.TgZ(3,"ion-col"),e.TgZ(4,"span",55),e._uU(5,"No."),e.qZA(),e.TgZ(6,"span",56),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"ion-col"),e.TgZ(9,"span",55),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"ion-item",41),e.TgZ(12,"ion-avatar",1),e.YNc(13,$,1,2,"ion-img-viewer",43),e.qZA(),e.TgZ(14,"ion-label",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).updateRecord(a)}),e.TgZ(15,"p"),e.TgZ(16,"strong"),e._uU(17,"Nombre:"),e.qZA(),e._uU(18),e._UZ(19,"br"),e.TgZ(20,"strong"),e._uU(21," Usuario/ Email:"),e.qZA(),e._uU(22),e._UZ(23,"br"),e.TgZ(24,"strong"),e._uU(25," Email notificaci\xf3n:"),e.qZA(),e._uU(26),e._UZ(27,"br"),e.TgZ(28,"strong"),e._uU(29,"Role:"),e.qZA(),e._uU(30),e._UZ(31,"br"),e.TgZ(32,"strong"),e._uU(33,"Cui:"),e.qZA(),e._uU(34),e._UZ(35,"br"),e.TgZ(36,"strong"),e._uU(37,"Direccion:"),e.qZA(),e._uU(38),e._UZ(39,"br"),e.TgZ(40,"strong"),e._uU(41,"Telefono:"),e.qZA(),e._uU(42),e._UZ(43,"br"),e.qZA(),e.qZA(),e.qZA(),e._UZ(44,"ion-card-content"),e.TgZ(45,"ion-row",58),e.TgZ(46,"ion-col",18),e.TgZ(47,"ion-toolbar",46),e.TgZ(48,"ion-buttons",47),e.TgZ(49,"ion-button",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).deleteRecord(a)}),e.ALo(50,"translate"),e._UZ(51,"ion-icon",48),e.qZA(),e.qZA(),e.TgZ(52,"ion-buttons",47),e.TgZ(53,"ion-button",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).cambioclave(a)}),e.ALo(54,"translate"),e._UZ(55,"ion-icon",59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=u.$implicit,i=u.index;e.xp6(7),e.hij("",i+1," "),e.xp6(3),e.hij("",t.estado," "),e.xp6(3),e.Q6J("ngIf",void 0!==t.foto),e.xp6(5),e.hij(" ",t.nombre," "),e.xp6(4),e.hij(" ",t.email,""),e.xp6(4),e.hij(" ",t.correonotifica,""),e.xp6(4),e.hij(" ",t.role," "),e.xp6(4),e.hij(" ",t.cui," "),e.xp6(4),e.hij(" ",t.direccion," "),e.xp6(4),e.hij(" ",t.telefono," "),e.xp6(7),e.s9C("title",e.lcZ(50,12,"ELIMINARM")),e.xp6(4),e.MGl("title"," ",e.lcZ(54,14,"CAMBIOCLAVEM"),"")}}function ee(r,u){if(1&r&&(e.TgZ(0,"ion-grid"),e.TgZ(1,"ion-row"),e.YNc(2,X,56,16,"ion-col",52),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.itemsList)("ngForTrackBy",t.trackItems)}}function te(r,u){1&r&&(e.TgZ(0,"h3",60),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NODATOS")," "))}let ie=(()=>{class r{constructor(t,i,o,a,m,U){this.routerOutlet=t,this.router=i,this.authenticationService=o,this.alertController=a,this.translateService=m,this.modalController=U,this.showAgeFilter=!1,this.showmenu=!1,this.items=[],this.variables=[],this.userinfo=[],this.gLimit=150,this.page=1,this.maximumPages=3,this.viewType="grid",this.tituloxx="",this.efecto=0,this.seguro="",this.msg="",this.currentSegment="Todos",this.searchSubject=new d.t(1),this.apifoto=this.authenticationService.getapifoto()}changeToList(){this.viewType="list"}changeToGrid(){this.viewType="grid"}ngOnInit(){this.variables=this.router.getCurrentNavigation().extras.state.variables,this.idllave=this.router.getCurrentNavigation().extras.state.idllave,this.idasociado=this.router.getCurrentNavigation().extras.state.idasociado,this.iddispositivo=this.router.getCurrentNavigation().extras.state.iddispositivo,this.ndisp=this.router.getCurrentNavigation().extras.state.dispn,this.userinfo=this.authenticationService.getcopiauser(),this.tituloxx=this.router.getCurrentNavigation().extras.state.title?this.router.getCurrentNavigation().extras.state.title:this.variables.nombre,this.searchQuery="",this.translateService.get("SEGUROM").subscribe(t=>{this.seguro=t}),this.translateService.get("MSGM").subscribe(t=>{this.msg=t}),this.rangeForm=new c.cw({dual:new c.NI({lower:1,upper:100})}),this.currentSegment="todos",this.pideregistros(this.currentSegment)}filterContacts(t){const i=t.detail.value;this.currentSegment=i,this.pideregistros(i)}pideregistros0(){this.pideregistros(this.currentSegment)}pideregistros(t,i){this.itemsList=[],this.items=[],this.efecto=0,"Administrador"===this.userinfo[0].role?this.idllave?this.authenticationService.getReg(t+"/empresatodoasociado/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"personals",0).then(o=>{this.efecto=1,this.items=o,this.itemsList=this.items},o=>{this.authenticationService.presentAlert(o.error,this.msg,"")}):this.authenticationService.getReg(this.gLimit+"/pagineo2x/"+this.page+"/"+this.userinfo[0].idempresa._id+"\xb0"+t,"personals",0).then(o=>{this.items=this.items.concat(o.docs),this.itemsList=this.items,this.efecto=1,this.maximumPages=this.items.concat(o.pages),i&&i.complete()},o=>{this.authenticationService.presentAlert(o.error,this.msg,"")}):this.iddispositivo?this.authenticationService.getReg(t+"/empresatodoasociadodisp/"+this.userinfo[0].idempresa._id+"/"+this.idllave+"\xb0"+this.iddispositivo,"personals",0).then(o=>{this.efecto=1,this.items=o,this.itemsList=this.items},o=>{this.authenticationService.presentAlert(o.error,this.msg,"")}):this.idllave?this.authenticationService.getReg(t+"/empresatodoasociado/"+this.userinfo[0].idempresa._id+"/"+this.idllave,"personals",0).then(o=>{this.efecto=1,this.items=o,this.itemsList=this.items},o=>{this.authenticationService.presentAlert(o.error,this.msg,"")}):this.authenticationService.getReg(t+"/empresatodo/"+this.userinfo[0].idempresa._id,"personals",0).then(o=>{this.efecto=1,this.items=o,this.itemsList=this.items},o=>{this.authenticationService.presentAlert(o.error,this.msg,"")})}trackItems(t,i){return i.id}searchList(){this.searchSubject.next({lower:this.rangeForm.controls.dual.value.lower,upper:this.rangeForm.controls.dual.value.upper,query:this.searchQuery}),this.itemsList=this.filterList(this.items,this.searchQuery&&null!==this.searchQuery?this.searchQuery:"")}filterList(t,i){return t.filter(o=>o.nombre.toLowerCase().includes(i.toLowerCase()))}cambioclave(t){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Cambio de Contrase\xf1a",inputs:[{name:"clave1",placeholder:"Ingrese Contrase\xf1a nueva",type:"password",value:""},{name:"clave2",placeholder:"Ingrese Confirmaci\xf3n de Contrase\xf1a nueva",type:"password",value:""}],buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:o=>{}},{text:"Actualizar Contrase\xf1a",handler:o=>{o&&(o.clave1===o.clave2?this.authenticationService.createAPISINTOKEN({idempresa:t.idempresa,email:t.email,password:o.clave1,bitacora:{idempresa:this.userinfo[0].idempresa._id,idafiliado:"",email:this.userinfo[0].email,permiso:"Actualiza",accion:"Cambia clave"}},"/api/auth/register2").then(m=>{this.authenticationService.presentAlert("Exito","Operaci\xf3n realizada con exito.","")},m=>{this.authenticationService.presentAlert("Advertencia","Operaci\xf3nEmail ya esta asociado una cuenta existente","")}):this.authenticationService.presentAlert("Advertencia","Contrase\xf1as no coinciden.",""))}}]})).present()})}otrasop(t){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Seleccione Opci\xf3n",inputs:[{name:"Productos",type:"radio",label:"Productos",checked:!0,value:"/ProductoListPage\xb0Productos ->"+t.nombre}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:o=>{}},{text:"Ok",handler:o=>{const a=o.split("\xb0");this.router.navigate([a[0]],{state:{variables:this.variables,user:null,idllave:t._id,title:a[1]}})}}]})).present()})}deleteRecord(t){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:this.seguro,message:"",buttons:[{text:"No",cssClass:"secondary",handler:o=>{}},{text:"Si",handler:()=>{this.authenticationService.deleteReg(t._id+"/"+this.userinfo[0].email+"/"+this.userinfo[0].idempresa._id+"/na","personals").then(a=>{this.pideregistros(this.currentSegment)},a=>{this.authenticationService.presentAlert(a.error,this.msg,"")})}}]})).present()})}updateRecord(t){return(0,h.mG)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:q,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl,componentProps:{ndisp:this.ndisp,iddispositivo:this.iddispositivo,idasociado:this.idasociado,variables:this.variables,record:t,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return i.onWillDismiss().then(o=>{"close"!==o.data&&this.pideregistros("todos")}),yield i.present()})}addRecord(){return(0,h.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:q,swipeToClose:!1,backdropDismiss:!1,animated:!0,presentingElement:yield this.modalController.getTop(),componentProps:{ndisp:this.ndisp,iddispositivo:this.iddispositivo,idasociado:this.idasociado,variables:this.variables,record:null,userinfo:this.userinfo,idllave:this.idllave,title:this.tituloxx},cssClass:"modal-fullscreen"});return t.onWillDismiss().then(i=>{"close"!==i.data.estado&&this.authenticationService.presentAlert("Exito",i.data.msm,"")}),yield t.present()})}loadData(t){setTimeout(()=>{t.target.complete(),1e3===this.items.length&&(this.page++,this.pideregistros(this.currentSegment,t),t.target.disabled=this.page!==this.maximumPages)},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(n.jP),e.Y36(f.F0),e.Y36(v.$),e.Y36(n.Br),e.Y36(g.sK),e.Y36(n.IN))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-list"]],viewQuery:function(t,i){if(1&t&&e.Gf(n.ju,5),2&t){let o;e.iGM(o=e.CRH())&&(i.infiniteScroll=o.first)}},decls:56,vars:37,consts:[["color","primary"],["slot","start"],["defaultHref","SucursalListPage",4,"ngIf"],[4,"ngIf"],["size","small"],["collapse","true","slot","end"],[3,"title","click"],["slot","icon-only","name","add"],["slot","icon-only","name","refresh-circle-outline"],[3,"click",4,"ngIf"],[1,"filters-toolbar"],["align-items-center","",1,"searchbar-row"],["animated","",3,"ngModel","placeholder","ngModelChange","ionChange"],[1,"call-to-action-col",3,"hidden"],["fill","clear","color","secondary",1,"filters-btn",3,"title","click"],["slot","icon-only","name","options"],[3,"formGroup","hidden"],[1,"range-item-row"],["size","12"],[1,"range-header"],[1,"range-value"],[1,"range-label"],["formControlName","dual","color","secondary","pin","true","dualKnobs","true","min","1","max","100","step","1","debounce","400",1,"range-control",3,"ionChange"],[1,"user-friends-content"],["sticky",""],["value","todos",3,"ionChange"],["value","todos","checked",""],["value","Activo"],["value","Inactivo"],["class","empty-list-message",4,"ngIf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Espere un momento..."],["defaultHref","SucursalListPage"],[3,"click"],["slot","icon-only","name","grid"],["slot","icon-only","name","list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"ion-text-wrap"],["width","67%"],["class","item md in-list ion-activatable ion-focusable item-label hydrated",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item","md","in-list","ion-activatable","ion-focusable","item-label","hydrated"],["size","12",3,"click"],["scheme","dark",3,"title","src",4,"ngIf"],["slot","end"],["color","medium"],["color","transparent"],["slot","secondary"],["slot","icon-only","name","trash-outline"],["color","light",3,"title","click"],["slot","icon-only","name","key"],["scheme","dark",3,"title","src"],["size-lg","6","size-sm","6","size","12",4,"ngFor","ngForOf","ngForTrackBy"],["size-lg","6","size-sm","6","size","12"],[1,"user-stats-wrapper","user-details-wrapper"],[1,"user-stat-value"],[1,"user-stat-name"],[1,"ion-text-wrap",3,"click"],["no-padding",""],["slot","icon-only","name","key-outline"],[1,"empty-list-message"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-buttons",1),e.YNc(3,D,1,0,"ion-back-button",2),e.YNc(4,j,1,0,"ion-menu-button",3),e.qZA(),e.TgZ(5,"ion-title",4),e._uU(6),e.qZA(),e.TgZ(7,"ion-buttons",5),e.TgZ(8,"ion-button",6),e.NdJ("click",function(){return i.addRecord()}),e.ALo(9,"translate"),e._UZ(10,"ion-icon",7),e.qZA(),e.TgZ(11,"ion-button",6),e.NdJ("click",function(){return i.pideregistros0()}),e.ALo(12,"translate"),e._UZ(13,"ion-icon",8),e.qZA(),e.YNc(14,Q,2,0,"ion-button",9),e.YNc(15,G,2,0,"ion-button",9),e.qZA(),e.qZA(),e.TgZ(16,"ion-toolbar",10),e.TgZ(17,"ion-row",11),e.TgZ(18,"ion-col"),e.TgZ(19,"ion-searchbar",12),e.NdJ("ngModelChange",function(a){return i.searchQuery=a})("ionChange",function(){return i.searchList()}),e.ALo(20,"translate"),e.qZA(),e.qZA(),e.TgZ(21,"ion-col",13),e.TgZ(22,"ion-button",14),e.NdJ("click",function(){return i.showAgeFilter=!i.showAgeFilter}),e.ALo(23,"translate"),e._UZ(24,"ion-icon",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"form",16),e.TgZ(26,"ion-row",17),e.TgZ(27,"ion-col",18),e.TgZ(28,"div",19),e.TgZ(29,"span",20),e._uU(30),e.qZA(),e.TgZ(31,"span",21),e._uU(32,"Filter by age"),e.qZA(),e.TgZ(33,"span",20),e._uU(34),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"ion-col",18),e.TgZ(36,"ion-range",22),e.NdJ("ionChange",function(){return i.searchList()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"ion-content",23),e.TgZ(38,"ion-item-divider",24),e.YNc(39,V,4,7,"ion-label",3),e.qZA(),e.TgZ(40,"ion-segment",25),e.NdJ("ionChange",function(a){return i.filterContacts(a)}),e.TgZ(41,"ion-segment-button",26),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"ion-segment-button",27),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"ion-segment-button",28),e._uU(48),e.ALo(49,"translate"),e.qZA(),e.qZA(),e.YNc(50,W,2,2,"ion-list",3),e.YNc(51,H,2,2,"ion-list",3),e.YNc(52,ee,3,2,"ion-grid",3),e.YNc(53,te,3,3,"h3",29),e.TgZ(54,"ion-infinite-scroll",30),e.NdJ("ionInfinite",function(a){return i.loadData(a)}),e._UZ(55,"ion-infinite-scroll-content",31),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",void 0!==i.idllave),e.xp6(1),e.Q6J("ngIf",void 0===i.idllave),e.xp6(2),e.hij(" ",i.tituloxx," "),e.xp6(2),e.MGl("title"," ",e.lcZ(9,23,"AGREGARM"),""),e.xp6(3),e.MGl("title"," ",e.lcZ(12,25,"REFRESCARM"),""),e.xp6(3),e.Q6J("ngIf","grid"===i.viewType),e.xp6(1),e.Q6J("ngIf","list"===i.viewType),e.xp6(4),e.s9C("placeholder",e.lcZ(20,27,"BUSCARM")),e.Q6J("ngModel",i.searchQuery),e.xp6(2),e.Q6J("hidden",!i.showAgeFilter),e.xp6(1),e.MGl("title"," ",e.lcZ(23,29,"FILTROM"),""),e.xp6(3),e.Q6J("formGroup",i.rangeForm)("hidden",!i.showAgeFilter),e.xp6(5),e.Oqu(i.rangeForm.controls.dual.value.lower),e.xp6(4),e.Oqu(i.rangeForm.controls.dual.value.upper),e.xp6(5),e.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0),e.xp6(3),e.hij(" ",e.lcZ(43,31,"TODOSM")," "),e.xp6(3),e.hij(" ",e.lcZ(46,33,"ACTIVOSM")," "),e.xp6(3),e.hij(" ",e.lcZ(49,35,"INACTIVOSM")," "),e.xp6(2),e.Q6J("ngIf",0===i.efecto),e.xp6(1),e.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"list"===i.viewType),e.xp6(1),e.Q6J("ngIf",(null==i.itemsList?null:i.itemsList.length)>0&&"grid"===i.viewType),e.xp6(1),e.Q6J("ngIf",0===(null==i.itemsList?null:i.itemsList.length)))},directives:[n.Gu,n.sr,n.Sm,_.O5,n.wd,n.YG,n.gu,n.Nd,n.wI,n.VI,n.j9,c.JJ,c.On,c._Y,c.JL,c.sg,n.I_,n.QI,c.u,n.W2,n.rH,n.cJ,n.GO,n.ju,n.MB,n.oU,n.cs,n.fG,n.Q$,n.q_,_.sg,n.Ie,R.B,n.jY,n.BJ,n.uN,n.yp,Z.A6,n.PM,n.FN],pipes:[g.X$],styles:["[_nghost-%COMP%]{--page-margin: var(--app-narrow-margin);--page-border-radius: var(--app-fair-radius);--page-segment-background: var(--app-background);--page-segment-indicator-height: 2px}ion-item-divider[_ngcontent-%COMP%]{--background: var(--ion-color-light);--padding-start: var(--page-margin)}[_nghost-%COMP%]{--page-margin: var(--app-fair-margin);--page-background: var(--app-background);--page-background-shade: var(--app-background-shade);--page-tags-gutter: 5px}"]}),r})();var oe=l(22675);let ne=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[_.ez,n.Pc,s.K,oe.v,c.u5,c.UX,Z.YL,P.YZ,f.Bz.forChild([{path:"",component:ie}]),g.aw.forChild()]]}),r})()},22675:(C,T,l)=>{l.d(T,{v:()=>h});var n=l(69808),f=l(93075),_=l(51062),s=l(23349),g=l(55787),c=l(34345),Z=l(5e3);let h=(()=>{class v{}return v.\u0275fac=function(p){return new(p||v)},v.\u0275mod=Z.oAB({type:v}),v.\u0275inj=Z.cJS({imports:[[n.ez,f.u5,f.UX,s.Pc,g.Bz,c.Cl,_.aw.forChild()]]}),v})()},63814:(C,T,l)=>{l.d(T,{B:()=>Z});var n=l(70655),f=l(47423),_=l(96090),s=l(5e3),g=l(23349);const c=["search"];let Z=(()=>{class h{constructor(d,p,b){this.modalController=d,this.ngZone=p,this.navParams=b,this.title="AGM project",this.zoom=16}dismissModal(){this.modalController.dismiss("close")}dadireccion(){this.modalController.dismiss({direccion:this.address,la:this.latitude,lo:this.longitude})}ngOnInit(){this.uubx=this.navParams.get("uubx")}loadMap(){}clearWatch(){null!=this.watchId&&_.b.clearWatch({id:this.watchId})}setCurrentLocationa33(){if(f.dV.isPluginAvailable("Geolocation"))try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,p)=>{d&&(this.latitude=d.coords.latitude,this.longitude=d.coords.longitude)})}catch(d){console.error(d)}}setCurrentLocationa(){try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,p)=>{d&&(this.latitude=d.coords.latitude,this.longitude=d.coords.longitude,this.getAddress(this.latitude,this.longitude))})}catch(d){console.error(d)}}setCurrentLocation2a(){if(f.dV.isPluginAvailable("Geolocation"))try{this.watchId=_.b.watchPosition({timeout:1e3,enableHighAccuracy:!0,maximumAge:1e3},(d,p)=>{this.latitude=Number(this.uubx.substring(this.uubx.indexOf("{")+1,this.uubx.indexOf("\xb0"))),this.longitude=Number(this.uubx.substring(this.uubx.indexOf("\xb0")+1,this.uubx.indexOf("}"))),0!==this.latitude&&this.latitude&&this.getAddress(this.latitude,this.longitude)})}catch(d){console.error(d)}}markerDragEnd(d){0!==this.latitude&&this.latitude&&(this.latitude=d.coords.lat,this.longitude=d.coords.lng,this.getAddress(this.latitude,this.longitude))}getAddress(d,p){this.geoCoder.geocode({location:{lat:d,lng:p}},(b,A)=>{"OK"===A?b[0]?this.address=b[0].formatted_address:window.alert("No results found"):window.alert("Geocoder failed due to: "+A)})}closeModal(){return(0,n.mG)(this,void 0,void 0,function*(){this.modalController.dismiss("close")})}}return h.\u0275fac=function(d){return new(d||h)(s.Y36(g.IN),s.Y36(s.R0b),s.Y36(g.X1))},h.\u0275cmp=s.Xpm({type:h,selectors:[["app-my-modal"]],viewQuery:function(d,p){if(1&d&&s.Gf(c,5),2&d){let b;s.iGM(b=s.CRH())&&(p.searchElementRef=b.first)}},decls:19,vars:6,consts:[[3,"translucent"],["color","primary"],["shape","round","color","dark",3,"click"],["slot","start","name","locate"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","close"],["size","small"],[1,"ion-padding",3,"fullscreen"],["id","book-search-input","role","search"],["type","text","placeholder","Ingrese direcci\xf3n","autocorrect","off","autocapitalize","off","spellcheck","off","type","text",1,"book-search-input","native-input","sc-ion-input-ios",3,"keydown.enter"],["search",""],["type","submit","expand","block",1,"login-btn",3,"click"]],template:function(d,p){1&d&&(s.TgZ(0,"ion-header",0),s.TgZ(1,"ion-toolbar",1),s.TgZ(2,"ion-button",2),s.NdJ("click",function(){return p.loadMap()}),s._UZ(3,"ion-icon",3),s._uU(4," Ubicaci\xf3n "),s.qZA(),s.TgZ(5,"ion-buttons",4),s.TgZ(6,"ion-button",5),s.NdJ("click",function(){return p.closeModal()}),s._UZ(7,"ion-icon",6),s.qZA(),s.qZA(),s.TgZ(8,"ion-title",7),s._uU(9),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"ion-content",8),s._uU(11),s.TgZ(12,"div",9),s.TgZ(13,"input",10,11),s.NdJ("keydown.enter",function(A){return A.preventDefault()}),s.qZA(),s.qZA(),s.TgZ(15,"h5"),s._uU(16),s.qZA(),s.TgZ(17,"ion-button",12),s.NdJ("click",function(){return p.dadireccion()}),s._uU(18,"Seleccionar"),s.qZA(),s.qZA()),2&d&&(s.Q6J("translucent",!0),s.xp6(9),s.Oqu(p.tituloxx),s.xp6(1),s.Q6J("fullscreen",!0),s.xp6(1),s.AsE("\n",p.latitude,", ",p.longitude," "),s.xp6(5),s.hij("Direcci\xf3n: ",p.address,""))},directives:[g.Gu,g.sr,g.YG,g.gu,g.Sm,g.wd,g.W2],styles:[".book-search-input[_ngcontent-%COMP%]{padding:6px;background:0 0;transition:top .5s ease;background:#bdbaba;border-bottom:1px solid rgba(0,0,0,.07);border-top:1px solid rgba(0,0,0,.07);margin-bottom:10px;margin-top:-1px;color:#fff;width:100%}"]}),h})()},26806:(C,T,l)=>{l.d(T,{B:()=>s});var n=l(5e3),f=l(69808);const _=function(g,c){return{"no-animated":g,inline:c}};let s=(()=>{class g{constructor(){this.width="100%",this.height="16px",this.borderRadius="0",this.rounded=!1,this.noAnimated=!1,this.inline=!1,this.styles={}}ngOnInit(){this.styles={width:this.width,height:this.height,borderRadius:this.borderRadius},this.rounded&&(this.styles.borderRadius="999em")}}return g.\u0275fac=function(Z){return new(Z||g)},g.\u0275cmp=n.Xpm({type:g,selectors:[["skeleton-element"]],inputs:{width:"width",height:"height",borderRadius:"borderRadius",rounded:"rounded",noAnimated:"noAnimated",inline:"inline"},decls:1,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(Z,h){1&Z&&n._UZ(0,"div",0),2&Z&&n.Q6J("ngClass",n.WLB(2,_,h.noAnimated,h.inline))("ngStyle",h.styles)},directives:[f.mk,f.PC],styles:["[_nghost-%COMP%]{display:block}[inline][_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .inline[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   .no-animated[_ngcontent-%COMP%]{-webkit-animation:none!important;animation:none!important;background:rgba(130,130,130,.2)}.animated-background[_ngcontent-%COMP%], [_nghost-%COMP%]   div[_ngcontent-%COMP%]{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeHolderShimmer;animation-name:placeHolderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;background:rgba(130,130,130,.2);background:linear-gradient(to right,rgba(130,130,130,.2) 8%,rgba(130,130,130,.3) 18%,rgba(130,130,130,.2) 33%);background-size:800px 100px;position:relative}@-webkit-keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeHolderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}"]}),g})()}}]);